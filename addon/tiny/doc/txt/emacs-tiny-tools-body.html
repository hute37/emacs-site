<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN"
  "http://www.w3.org/TR/REC-html40/frameset.dtd">
<HTML>
<!--
        See unix what(1) and ident(1) why those funny tags
        @(#) Document: 
        @(#) Contact :  jari.aalto@poboxes.com
        The LINK tags are used by advanced browsers. The BASE signifies
        true location of the original document, and mirrored site
        location. It is where the #TAG go when you define them.
-->
<HEAD>
<TITLE>
No title
</TITLE>



<!--    ......................................................................
    META TAGS (FOR SEARCH ENGINES)
    ......................................................................
-->


  <META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=utf-8">

  <META HTTP-EQUIV="Expires" CONTENT="Fri,  4 Oct 2002 01:24:27 GMT">


  <META HTTP-EQUIV="Made"
	CONTENT="mailto:jari.aalto@poboxes.com">


  <META NAME="Generator"
	CONTENT="2002-08-05 04:24 Perl 5 program t2html.pl v2002.0805 available at http://cpan.perl.org/modules/by-authors/id/J/JA/JARIAALTO/">



<!--    ......................................................................
    BUTTON DEFINITION START
    ......................................................................
-->


    <STYLE TYPE="text/css">


        /*

	    ///////////////////////////////////////////////////////////
               NOTE    NOTE    NOTE    NOTE    NOTE    NOTE    NOTE

            This is the default CSS 2.0 generated by the program,
            please see "t2html.pl --help" for option --script-file
            to import your own CSS and Java definitions into the page.

            XHTML note: at page http://www.w3.org/TR/xhtml1/#guidelines
            It is recommended that CSS2 with XHTML use lowercase
            element and attribute names

	    This default CSS2 has been validated according to
	    http://jigsaw.w3.org/css-validator/validator-uri.html.en

	    To design colors, visit:
	    http://www.btexact.com/people/rigdence/colours/

               NOTE    NOTE    NOTE    NOTE    NOTE    NOTE    NOTE
	    ///////////////////////////////////////////////////////////

            Comments on the CSS tags:

            -   block-width: "thin" (Netscape ok, MSIE nok)

            NETSCAPE 4.05

            -  In general does not render CSS very well. Eg
               font size changes does not show up in screen.
            -  :hover property is not recognised

            NETSCAPE 4.75 as of 2000-10-01

            -  Shows garbage for stylesheet section that marked CITATION.
               (IE has no trouble to show it)

            MSIE 4.0+

            - Renders CSS very well.

            Media types

            - Netscape does not transfer the CSS element definitions to
              the "print" media as it should. They only affect Browser
              or media "screen"
            - That is why you really have to say EM STRONG ... /STRONG EM
              to get that kind of text seen in printer too. You cannot
              just define P.column7 { ... }

            The @media CSS definition is not supported by Netscape 4.05
            I do not know if MSIE 4.0 supports it.

            So doing this would cause CSS to be ignored completely
            (never mind that CSS says the default CSS applies to "visual",
            which means both print and scree types.)

                @media print, screen {  P.code {..}  }

            To work around that, we separate the definitions with

                P.code { .. }               // For screen

                @media print { P.code      // for printer
                {
                    ..
                }}

            And wish that some newer browser will render it right.

        */


        /*   ////////////////////////// Make pointing AHREF more visual */

        body
        {
            font-family: "Times New Roman", serif;
            

            /*
                More readable font, Like Arial in MS Word
                The background color is grey

                font-family: "verdana", sans-serif;
                background-color: #dddddd;
                foreground-color: #000000;

                Traditional "Book" and newspaper font
                font-family: "Times New Roman", serif;
            */
        }

        a:link
        {
            font-style: italic;
        }

        /*   A name=... link references */

        a.name
        {
            font-style: normal;
        }

        a:hover
        {
            color:           purple;
	    background:      #AFB;
            text-decoration: none;
        }

            /* cancel above italic in TOC and Navigation buttons */

        a.btn:link
        {
            font-style: normal;
        }

            /* each link in TOC */


        a.toc
        {
	    font-family: verdana, sans-serif;
            font-style: normal;
        }

        a.toc:link
        {
            font-style: normal;
        }

            /* [toc] heading button which appears in non-frame html */

        a.btn-toc:link
        {
            font-style: normal;
	    font-family: verdana, sans-serif;
            /* font-size:  0.7em; */
        }

        /*  //////////////////////////////////// Format the code sections  */

        /*  MSIE ok, Netscape nok: Indent text to same level to the right  */

        blockquote
        {
            margin-right: 0;
        }

        @media print   { BLOCKQUOTE
        {
            margin-right: 0;
        }}

        samp.code
        {
            color: Navy;
        }

        pre
        {
            font-family:   "Courier New", monospace;
            font-size:     0.8em;
        }

        pre.code
        {
	    color: Navy;
        }

	p.code, p.code1, p.code2
        {
            /*
               margin-top:     0.4em;
               margin-bottom:  0.4em;
               line-height:    0.9em;
            */

            font-family:    "Courier New", monospace;
            font-size:      0.8em;

            color:          Navy;
        }

	/* Make 3D styled layout by thickening the boton + right. */

	.3d-attrib
	{
	    /*
		F9EDCC		Light Orange
		FAEFD2		Even lighter Orange

		#FFFFCC		Light yellow, lime

	    */

	    background: #FFFFCC;
	}

	table.3d
	{
		font-family:    "Courier New", monospace;
		font-size:      0.8em;

		color:          #999999; /* Navy; */

		/* font-family:	sans-serif; /*
		/* background:	#F7DE9C; */

		/* border-top:	1px #999999 solid; */
		/* border-left:	1px #999999 solid; */
		border-right:	4px #666666 solid;
		border-bottom:	3px #666666 solid;
		/* line-height:	105%; */
	}


	table.shade
	{
		font-family:    "Courier New", monospace;
		font-size:      0.8em;

		color:          Navy;

		/* font-family:	sans-serif; /*
		/* background:	#F7DE9C; */

		/* border-top:	1px #999999 solid; */
		/* border-left:	1px #999999 solid; */
		/* border-right:	4px #666666 solid; */
		/* border-bottom:	3px #666666 solid; */
		/* line-height:	105%; */
	}

	.shade-attrib
	{
	    background: /* #EAEAEA; */
	}


	table.solid
	{
		font-family:    "Courier New", monospace;
		font-size:      0.8em;

		color:          Navy;

		/* font-family:	sans-serif; /*
		/* background:	#F7DE9C; */

		border-top:	1px #999999 solid;
		border-left:	1px #999999 solid;
		border-right:	1px #666666 solid;
		border-bottom:	1px #666666 solid;
		/* line-height:	105%; */
	}

        /* ////////////////////////////////////////////// Format columns */

        p.column3
        {
            color: Green;
        }

        p.column5
        {
            color: #87C0FF;   /* shaded casual blue */
        }

        p.column6
        {
	    /* #809F69 is Forest green
	       But web safe colors are:
	       Lighter  ForestGreen: 66CC00
	       ForestGreen: #999966 669900 339900 669966

            color: #669900;
	    font-family: "Goudy Old Style"
	    */
	    margin-left: 3em;
	    font-family: Georgia;
	    font-size:  0.9em;
        }

            /* This is so called 3rd heading */

        p.column7
        {
            font-style:  italic;
            font-weight: bold
        }

        @media print { P.column7
        {
            font-style:  italic;
            font-weight: bold
        }}

        p.column8
        {

        }

        p.column9
        {
            font-weight: bold;
        }

        p.column10
        {
            padding-top: 0;
        }

        em.quote10
        {
            /*
                #FF00FF Fuchsia;
                #0000FF Blue

                #87C0FF casual blue
                #87CAF0

		#A0FFFF Very light blue

                #809F69 = Forest Green , see /usr/lib/X11/rgb.txt

		background-color:

                color: #80871F ; Orange, short of

                # font-family: "Gill Sans", sans-serif;

		line-height: 0.9em;
                font-style:  italic;
	        font-size:   0.8em;

	        line-height: 0.9em;
	        color: #008080;

	        background-color: #F5F5F5;
		#809F69; forest green
		#F5F5F5; Pale grey
		#FFf098; pale green
		##bfefff; #ffefff; LightBlue1


             */

	     /*
	     #  See a nice page at
	     #  http://www.cs.helsinki.fi/linux/
	     #  http://www.cs.helsinki.fi/include/tktl.css
	     #
	     #  3-4 of these first fonts have almost identical look
	     #  Browser will pick the one that is supported
	     */

             font-family: lucida, lucida sans unicode, verdana, arial, "Trebuchet MS", helvetica, sans-serif;
	     background-color: #ffefff;
	     font-size:   0.8em;
        }

        @media print { em.quote10
        {
            font-style:  italic;
            line-height: 0.9em;
            font-size:   0.8em;
        }}

        p.column11
        {
	    font-family: arial, verdana, helvetica, sans-serif;
            font-size: 0.9em;
            font-style: italic;
            color: Fuchsia;
        }

        /* /////////////////////////////////////////////// Format words */

        em.word
        {
	    color: #809F69;  /*Forest green */
        }

        strong.word
        {

        }

        samp.word
	{
	    color: Blue;
            font-family:    "Courier New", monospace;
            /* font-size:      0.8em; */
	}

        span.super
        {
	    /* superscripts */
	    color: teal;
	    vertical-align: super;
	    font-family: Verdana, Arial, sans-serif;
	    font-size: 0.8em;
        }


        span.word-ref
        {
	    color: teal;
        }

        span.word-big
        {
	    color: teal;
	    font-size: 1.2em;
        }

        span.word-small
	{
	    color: #CC66FF;
	    font-family: Verdana, Arial, sans-serif;
	    font-size: 0.8em;
	}

        /* /////////////////////////////////////////////// Format other */

                /* 7th column starting with double quote */

        span.quote7
        {
            /* color: Green; */
            /* font-style: italic; */
		font-family: Verdana;
            font-weigh: bold;
	    font-size: 1.2em;
        }

                /* This appears in FRAME version: xxx-toc.html */

        div.toc
        {
            font-size: 0.8em;
        }

                /* This appears in picture: the acption text beneath */

        div.picture
        {
            font-style: italic;
        }


                /* This is the document info footer */

        em.footer
        {
            font-size: 0.9em;
        }

	END: Hide from older browsers



    </STYLE>


    <!-- ...................................................... Java code -->

    <SCRIPT TYPE="text/javascript">

        function MakeVisual(obj)
        {
            obj.style.fontWeight = "italic";
        }

        function MakeNormal(obj)
        {
            obj.style.fontWeight = "normal";
        }

        function IgnoreErrors()
        {
            return true;
        }

        window.onerror = IgnoreErrors;

    </SCRIPT>

</HEAD>

<BODY >
</P>
           </BLOCKQUOTE>
           <HR>
               <A name=""  id=""></A>
               <H1>
               Document id
               
               </H1>
           <BLOCKQUOTE>

        This page contains manual pages from each Emacs tiny*.el module in
        alphabetical order. The tools initially started around 1994 and
        they include many Emacs related utilities ranging from Emadvicedacs
        configuration, email, Gnus spam reply, diffing, patching, URL
        jumping, eating text and many more. Installation, Mailing list and
        other information is available at the main WWW page at
        <A HREF="http://tiny-tools.sourceforge.net/" target="_top">http://tiny-tools.sourceforge.net/</A>


<P class="column10"><EM class="quote10">
          <STRONG class="word">NOTE:</STRONG> you cannot download single files or install only a single
          file. the minimum requirement are all of tinylib*.el + any of the
          mentioned packages along <SAMP class="word">load-path</SAMP>.</EM>



<P class="column8">
        <EM><STRONG>$Id: emacs-tiny-tools-body.html,v 1.1 2005-12-04 20:58:48 hute37 Exp $</STRONG></EM><BR>
        $Keywords: Emacs, elisp, tiny tools, documentation $<BR>


</P>
  <A name="1" id="1"></A>
  <H2>
      Generated documentation
      
  </H2>




        This document is automatically generated from the Emacs lisp files
        with 2 small perl scripts
        <A HREF="http://cpan.perl.org/modules/by-authors/id/J/JA/JARIAALTO/" target="_top">http://cpan.perl.org/modules/by-authors/id/J/JA/JARIAALTO/</A> in the
        following manner:


<PRE class="code">
      % ripdoc.pl `ls ti*.el|sort` | t2html.pl &gt; emacs-tiny-tools.html
</PRE>


<P class="column8">
        The perl program assume that the documentation sections have been
        written in Technical Text Format (you are looking at TF layout in
        this file). An Emacs minor mode for writing TF files is available in
        package <EM class="word">tinytf.el</EM>.


</P>
  <A name="2" id="2"></A>
  <H2>
      Brief overview
      
  </H2>




        There are plenty of packages to choose from and almost nobody uses
        them all in one emacs session, so here are some recommendations.
        The setup examples for many of these packages are available in the
        unpacked kit under <EM class="word">rc/emacs-rc-tiny.el</EM>. Start with the top ten
        and add other packages that you find useful. The order of
        appearance is also the recommended installation order: &quot;install
        this, see the docs, and go to next one...&quot;


<P class="column8">
        Top ten or so

<P><UL>
	<LI><STRONG class="word">TinyPath</STRONG> &ndash; Find your your whole load path hierarchy.
            No more manual updating of <SAMP class="word">load-path</SAMP> or other Emacs system
            variables. Transparent compressed lisp file support.
	<LI><STRONG class="word">Tinyeat</STRONG> &ndash; More easier text deletion. eg. C-backspace and
            Alt-backspace do all your text delete operations.
	<LI><STRONG class="word">TinyTab</STRONG> &ndash; Set your tab to 2 4 8 and keep text and code
            nicely formatted in any mode, like in <SAMP class="word">mail-mode</SAMP>,
            <SAMP class="word">message-mode</SAMP>, <SAMP class="word">cc-mode</SAMP>, <SAMP class="word">lisp-mode</SAMP>, <SAMP class="word">perl-mode</SAMP> ...
	<LI><STRONG class="word">TinyUrl</STRONG> &ndash; Jump to http url at point (C++, Perl, lisp support
            too) This minor mode can be permanently on and it marks links
            all links under current line. Press M-RET or mouse-2 to jump
            to link. Centralized url handling, no need to configure VM, Gnus or
            browse-url separately.
	<LI><STRONG class="word">TinyMail</STRONG> &ndash; TAB completes your defined aliases, BBDB entries
            and /etc/password file. <EM class="word">REPORTS</EM> <EM class="word">INCOMING</EM> <EM class="word">MAIL</EM> in X frame or
            echo area.
	<LI><STRONG class="word">TinyMy</STRONG> &ndash; Grabbag of utilities. Automatic window change when
            pointing it with mouse. Make dos files readable with C-c m D
            display minor mode etc. Automatic save of your most important
            files.
	<LI><STRONG class="word">TinyHotlist</STRONG> &ndash; Keep hotlist of most important buffers in X-popup
            and jump to buffer in the list. The selection can be existing
            buffer, pointer to file (ange-ftp file) or directory. This
            is the &quot;Most important work files: permanent list&quot;
	<LI><STRONG class="word">TinySearch</STRONG> &ndash; more faster &quot;search word&quot; than cumbersome C-s C-w..
            At current point hit F2/S-F2 to search the word forward/backward.
	<LI><STRONG class="word">TinyReplace</STRONG> &ndash; More convenient replace than M-%. Can replace
            over multiple files (run M-x grep to and hit % in compile buffer)
            RCS file support (checkout before replace)
	<LI><STRONG class="word">TinyEf</STRONG> &ndash; C-x C-f file path manipulation in minibuffer.
            Electric file composing minor mode: $ / ~ keys are special.
	<LI><STRONG class="word">TinyCb</STRONG> &ndash; Change Buffers in one window. useful only if you have
            small amount of buffers in Emacs session. Use <SAMP class="word">C-.</SAMP> and <SAMP class="word">C-,</SAMP> to
            circulate buffer list in window.
	<LI><STRONG class="word">TinyLoad</STRONG> &ndash; Delayed loading of lisp packages.
</UL>




<P class="column8">
        Other packages

<P><UL>
	<LI><STRONG class="word">TinyTf</STRONG> &ndash; Write text documents easily and convert them to html.
            Eg. this document uses TF format (Technical Format)
	<LI><STRONG class="word">TinyLoad</STRONG> &ndash; Speed up your Emacs Load up time dramatically.
	<LI><STRONG class="word">TinyIgrep</STRONG> &ndash; Grepping files; directories? Get this and igrep.el
	<LI><STRONG class="word">TinyPerl</STRONG> &ndash; Perl utilities, eg. viewing and browsing POD pages.
	<LI><STRONG class="word">TinyLisp</STRONG> &ndash; Full of utilities for Emacs Lisp programming.
	<LI><STRONG class="word">TinyDired</STRONG> &ndash; Run Ange-ftp get/put request at background
	<LI><STRONG class="word">TinyPgp</STRONG> &ndash; 2nd generation PGP/remailer interface; BBDB, TM mime ...
	<LI><STRONG class="word">TinyAd</STRONG> &ndash; Advice collection, make Emacs a bit more intuitive.
	<LI><STRONG class="word">TinyScroll</STRONG> &ndash; Make any buffer to scroll: <EM class="word">Messages</EM> <EM class="word">Compile</EM>
	<LI><STRONG class="word">TinyLock</STRONG> &ndash; Lock your Emacs session
	<LI><STRONG class="word">TinyMbx</STRONG> &ndash; Browse Unix mailbox files a bit more easily.
	<LI><STRONG class="word">TinyRlog</STRONG> &ndash; RCS revision log minor mode. (hooks itself to vc)
	<LI><STRONG class="word">TinyLpr</STRONG> &ndash; Managing multiple printers and print styles
	<LI><STRONG class="word">TinyDiff</STRONG> &ndash; Taking diffs and applying patches easily. RCS too.
	<LI><STRONG class="word">TinyDesk</STRONG> &ndash; Simple emacs sessiosn saver (files used are recorded)
	<LI><STRONG class="word">TinyProcmail</STRONG> &ndash; procmail mode Lint parser for procmail code
            Procmail is &quot;mail processing tool&quot; to kill spam, classify your
            mail and creating autoresponders. See <A HREF="http://www.procmail.org/" target="_top">http://www.procmail.org/</A>
	<LI><STRONG class="word">TinyNbr</STRONG> - oct/bin/hex/dec number conversion minor mode.
</UL>




<P class="column8">
        And more...which are not listed in these

</P>
           </BLOCKQUOTE>
           <HR>
               <A name="3"  id="3"></A>
               <H1>
               Tinyad.el &ndash; Collection of (ad)viced functions
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="4" id="4"></A>
  <H2>
      Preface, apr 1996
      
  </H2>




        What you see here is a selection of adviced functions
        that I have found extremely useful. Some are written by me
        (if there is not author written) and some of them I have seen in
        the emacs newsgroups.


<P class="column8">
        I also have also included extra advices which I think, are not so
        essential, but which may interest user of this package.


<P class="column8">
        Those advices are put to the end of file and they are all disabled
        by default. You have to manually enable them if you want to use those.
        These advices are put under package name &quot;my&quot; and not to &quot;tiad&quot;.


<P class="column8">
        This file does not include all the advices that I'm currently
        using, many of them are not included, because I considered them
        too personal; their benefit to someone else was questionable.


</P>
  <A name="5" id="5"></A>
  <H2>
      Note: XEmacs
      
  </H2>




        These advices are for Emacs and I'd be surprised if they work in
        XEmacs. Use at your own risk. Send me fixed XEmacs compatible
        advices if you have the guts to try them there :/)


</P>
  <A name="6" id="6"></A>
  <H2>
      Can these advices be included with emacs &ndash; Mail RMS
      
  </H2>




        Many of these enhancements could have shipped with the Emacs itself.
        And I have suggested many of them to be added to the next
        Emacs release, with no luck.


<P class="column8">
        If you think some feature here is useful, Please, please,
        mail <EM><A HREF="mailto:rms@gnu.mit.ai.edu" >rms@gnu.mit.ai.edu</A></EM> and say,


<PRE class="code">
      &quot;I would like to have this XXX feature, as described in tinyad.el,
      to be included in next Emacs release.&quot;
</PRE>


<P class="column8">
        This because, RMS isn't convinced that a feature should be added to
        Emacs if only I ask for it. We need group power. The more mail RMS
        gets, the more likely feature will is added. I'd rather not have
        these adviced functions, but for now it's the only way to get
        these extensions with Emacs.


</P>
  <A name="7" id="7"></A>
  <H2>
      How to use this package
      
  </H2>




        I would suggest just loading this package right away and then
        printing out the whole file and reading the comments about
        individual functions and how they have changed.


</P>
  <A name="8" id="8"></A>
  <H2>
      File advice note:
      
  </H2>




        If you set variable tiad-:file-compress-support to no-nil
        then you can compress files on disk at wish and emacs packages
        that read/save data from/to files doesn't even notice that
        you have compressed them.


<P class="column8">
        This is very valuable feature if you're low of quota, eg.
        you can now compress GNUS 5 .newsrc.eld and gnus will read
        the .newsrc.eld.gz trasparently. It also saves to
        newsrc.eld.gz too.<BR>


<P class="column8">
        See write-file's and find-file's fucntion documentation
        for full explanation of this feature.


</P>
  <A name="9" id="9"></A>
  <H2>
      Overview of features &ndash; only some features have been mentioned
      
  </H2>




        Enhancements to existing emacs functions. Advices that make your
        day in emacs more easier. Includes best advices found from the net
        or written by the Author.

<P><UL>
	<LI><SAMP class="word">gud</SAMP> highlights full line
	<LI>no dialogs in X for <SAMP class="word">y-or-n-p</SAMP> styled questions.
	<LI>mouse window delete confrmation (pointing on the mode line)
	<LI><SAMP class="word">dired</SAMP>, diables dired mouse properties --&gt; dired runs faster.
</UL>



<P><UL>
	<LI><SAMP class="word">debugger-eval-expression</SAMP>,  Backtrace buffer's
                            &quot;e&quot; offers current word for prompt
	<LI><SAMP class="word">dired-man</SAMP>       , make sure variables are initialized.
	<LI><SAMP class="word">dired-do-rename</SAMP> , you can edit the old filename
	<LI><SAMP class="word">find-file</SAMP>       , can load .gz and .Z file
	<LI><SAMP class="word">goto-line</SAMP> and <SAMP class="word">imenu</SAMP> now widens automatically before executing
	<LI><SAMP class="word">rename-buffer</SAMP>   , offers old buffer name for editing
	<LI><SAMP class="word">recover-file</SAMP>    , offers buffer filename by default
	<LI><SAMP class="word">switch-to-buffer-other-frame</SAMP> , selects some non existig frame
	<LI><SAMP class="word">setenv</SAMP>          , getenv offers completion
	<LI><SAMP class="word">write-file</SAMP>      , confirmation upon overwrite, VAX support too
	<LI><SAMP class="word">write-region</SAMP>    , confirmation upon ovwrt, VAX support
</UL>



<P><UL>
	<LI><SAMP class="word">C-x</SAMP> <SAMP class="word">;</SAMP>  , <SAMP class="word">indent-for-comment</SAMP> negative arg deletes comment.
	<LI><SAMP class="word">C-x</SAMP> <SAMP class="word">=</SAMP>  , <SAMP class="word">what-cursor-position</SAMP> shows the line number too
	<LI><SAMP class="word">C-x</SAMP> <SAMP class="word">i</SAMP>  , insert buffer offers other window
	<LI><SAMP class="word">C-x</SAMP> <SAMP class="word">C-c</SAMP> , <SAMP class="word">save-buffers-kill-emacs</SAMP> asks confirmation
                          to prevent accidents
	<LI><SAMP class="word">C-x</SAMP> <SAMP class="word">b</SAMP>  , <SAMP class="word">swich-to-buffer</SAMP> ask confirmation
                          for non-existing buffers.
	<LI><SAMP class="word">C-x</SAMP> <SAMP class="word">C-b</SAMP> , list-buffers puts you to &quot;*Buffer List*&quot;
</UL>



<P><UL>
	<LI>compilation: buffer auto scroll (disabled, see 'handling advices')
	<LI>compilation: smart save feature (only .cc .h files, not
            all emacs files)
	<LI>compilation: find-file is done in non dedicated frame
</UL>




<P class="column8">
	<P><UL>
	<LI>completion:  case sensitive filename completion
</UL>




<P class="column8">
	<P><UL>
	<LI>ediff:  list only files that have diff over directories.
</UL>




<P class="column8">
	<P><UL>
	<LI>grep:   filename completion via TAB key!
</UL>



<P><UL>
	<LI>vc:     <SAMP class="word">vc-print-log</SAMP> ,put cursor on the buffer's revision number.
	<LI>vc:     smarter <SAMP class="word">vc-mode-line</SAMP> , shows &quot;b&quot; if ver is in the middle.
	<LI>vc:     vc-register creates RCS directory if does not exist
	<LI>vc:     user to set the initial comment when doing 1st CI.
</UL>




</P>
  <A name="10" id="10"></A>
  <H2>
      Handling advices
      
  </H2>




        If you have some other emacs version that is not supported in the
        <SAMP class="word">tiad-:advice-table</SAMP> you can modify the regexps in the list and try
        if the advice works in your emacs. If it does, please drop me a
        mail immediately and I update the regexp. If some advice annoys
        you, there is simple method how you disable advice(s).


<PRE class="code">
      (setq tiad-load-hook '(tiad-install my-tiad-load-hook))

      (defun my-tiad-load-hook ()
        &quot;Configure 'tiny tool's advices' to my taste.&quot;
        (interactive)                      ;; For user call
        ;; This diables two advices
        (tiad-advice 'disable
           '(switch-to-buffer mouse-delete-other-windows)))
      (require 'tinyad)
</PRE>


</P>
  <A name="11" id="11"></A>
  <H2>
      Disabling disturbing advice by hand
      
  </H2>




        If some piece of advice disturbs or causes trouble in your current
        emacs session. You can deactivate it immediately. First you have to
        know the function name that generates problems. Say you used <SAMP class="word">C-x</SAMP>
        <SAMP class="word">C-b</SAMP> <SAMP class="word">switch-to-buffer</SAMP> and you don't like the confirmation for
        non-existent buffers. You can disable this behavior immediately by
        calling:


<PRE class="code">
      C-u M-x tiad-advice
</PRE>


<P class="column8">
        and giving the function name switch-to-buffer to it. To permanently
        turn it off in your emacs sessions, see previous section's lisp code.


</P>
  <A name="12" id="12"></A>
  <H2>
      About functions and variables
      
  </H2>




        Mostly this package has only standard emacs functions that are
        adviced in some way. However it may be necessary that particular
        advice needs some other function's help or uses some other external
        variables. These extra functions, outside of advide, are named
        starting with the prefix &quot;tiad-&quot; for functions and &quot;tiad-:&quot; for
        variables.


</P>
  <A name="13" id="13"></A>
  <H2>
      Code note
      
  </H2>




        You see this in the code:


<PRE class="code">
      (when (tiad-activate-p)
          (defadvice ..
</PRE>


<P class="column8">
        If emacs version is wrong, the advice is <STRONG class="word">never</STRONG> actually assembled.
        You can't activate or deactivate this function with tiad-advice.


</P>
  <A name="14" id="14"></A>
  <H2>
      Many thanks to, in no particular order:
      
  </H2>




        Vladimir Alexiev        <EM><A HREF="mailto:vladimir@cs.ualberta.ca" >vladimir@cs.ualberta.ca</A></EM>
        Kevin    Rodgers        <EM><A HREF="mailto:kevinr@ihs.com" >kevinr@ihs.com</A></EM>
        Ilya     Zakharevich    <EM><A HREF="mailto:ilya@math.ohio-state.edu" >ilya@math.ohio-state.edu</A></EM>
        Peter                   <EM><A HREF="mailto:pbreton@i-kinetics.com" >pbreton@i-kinetics.com</A></EM>
        T. V. Raman             <EM><A HREF="mailto:raman@adobe.com" >raman@adobe.com</A></EM>


</P>
           </BLOCKQUOTE>
           <HR>
               <A name="15"  id="15"></A>
               <H1>
               Tinyappend.el &ndash; A simple text gathering to buffer utility.
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="16" id="16"></A>
  <H2>
      Preface, March 1094
      
  </H2>




        This package does nothing fancy, it gathers text from buffers with
        few key bindings. Later you can then peek on that buffer, arrange
        text etc. <SAMP class="word">C-x</SAMP> <SAMP class="word">a</SAMP> is handy when appending data to buffer, but
        it's annoying that you have to give &quot;buffer name&quot; all the time This
        one adds to buffer &quot;<EM class="word">append</EM>&quot; automatically, creating one if it
        doesn't exist.


<P class="column8">
        I'd strongly recommend you to keep <SAMP class="word">transient-mark-mode</SAMP> (Emacs) on
        all the time, so that you can see if you're adding a selected
        region into the <EM class="word">append</EM> buffer. If the region is not active, these
        functions normally add the current line to the <EM class="word">append</EM> buffer.


</P>
  <A name="17" id="17"></A>
  <H2>
      Default bindings
      
  </H2>




        My keyboard (HP-UX / X window) just happens to access
        these keys easily, so I chose them. Change the <SAMP class="word">tia-:load-hook</SAMP>
        if you want to use other key bindings.


<PRE class="code">
      C-c =       Append to the end
      C-c -       Append to the beginning
      C-c _       underscore, Kill (empty) *append* buffer


</PRE>

</P>
           </BLOCKQUOTE>
           <HR>
               <A name="18"  id="18"></A>
               <H1>
               Tinybm.el &ndash; (B)ook(m)ark package, keep your file in organized sections
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="19" id="19"></A>
  <H2>
      Preface, feb 1995
      
  </H2>




        Long ago I used little function I wrote for myself that inserted
        section breaks, those that I call <SAMP class="word">bookmarks</SAMP>. I also used
        <SAMP class="word">folding.el</SAMP> to keep the code in separate sections. Findings things
        was easy when you just searched either bookmarks or jumped between
        folds.


<P class="column8">
        Next I found imenu.el which provided X-popup for my bookmarks
        and I immediately started writing this .el


</P>
  <A name="20" id="20"></A>
  <H2>
      Overview of features
      
  </H2>




<P><UL>
	<LI>Provides some 'setting bookmarks' functions: adding
            repeated characters and sequences up till end of line with
            named identifier. (like breaks in this file)
	<LI>Automatically parses bookmarks from file, if it contains
            RCS identifier <SAMP class="word">bookMarkRegexp</SAMP> which defines bookmark syntax for
            the file. Uses X-popup [imenu] for showing those bookmarks and
	            moving between them.
</UL>




</P>
  <A name="21" id="21"></A>
  <H2>
      Read.me &ndash; how to keep your files organized
      
  </H2>




        There are several tools to keep your code organized and they are at
        their best if you think how they can co-operate. For example I have
        chosen to use folding.el and tinybm.el, which might seem to do
        double job, since they both divide code into more easily manageable
        sections.


<P class="column8">
        The key point is that when I use folding, I work <STRONG class="word">within</STRONG> some
        special section and I want to hide all the rest of the code. But
        when I want to jump easily back and forth on the buffer, I usually
        <SAMP class="word">unfold</SAMP> all and use `TinyBm to find bookmarks.


<P class="column8">
        Now, to confuse you more, there is also <SAMP class="word">imenu.el</SAMP> which I use too
        for jumping inside code. I have configured it so that it will pick
        all function names inside list, and when I want to go to specific
        function, I just pick one from imenu.


<P class="column8">
        To summarize:

<P><UL>
	<LI>folding.el     &ndash; for hiding unneeded code,
                              clear view on the structure
	<LI>tinybm.el      &ndash; Jumping between/finding  <STRONG class="word">large</STRONG> code sections
	<LI>imenu.el       &ndash; finding specific funtion, more detailed control.
	<LI>tinyhotlist.el &ndash; Add/remove files from permanent X-popup list
</UL>




</P>
  <A name="22" id="22"></A>
  <H2>
      How to use this package
      
  </H2>




        There is following function that inserts bookmark on the current line


<PRE class="code">
      tibm-insert
</PRE>


<P class="column8">
        There is also normal repeat function, that fills line with your
        pattern:


<PRE class="code">
      tibm-repeat
</PRE>


<P class="column8">
        Normally the most usual bookmark separator is the &quot;.&quot; &lt;dot&gt; , which
        isn't so 'noisy' as continuous '-' line. Normally I add some unused
        ID character, like '&amp;' at front of real bookmark, like this:


<PRE class="code">
      (defun test ()
       (progn
        ..
        (goto-char ..
        ;; ^^^^^^^^^^^^^^^^^^^^^^^ sepratorInsideCode ^^^
</PRE>


<P class="column8">
        The <SAMP class="word">How-to-use</SAMP> is bookmark, because it has <SAMP class="word">&amp;</SAMP> on it, whilst the
        latter isn't &ndash; it is used inside code to make it more readable and
        I don't want to include it into imenu.



</P>
  <A name="23" id="23"></A>
  <H2>
      About the bookmark identifier naming
      
  </H2>




        When you name the breaks, keep in mind that when identifiers are
        sorted, the ones that start with big letters A-Z show up first, and
        a-z next. Allthougt it would be convenient to have all subwords in
        capital, it is usually better to start with lowercase letter,
        because it's easily unintentinally mix up/down case letters.
        Besides you have to reah out for shift to have uppercase.


<PRE class="code">
      ............. breakName ...         ;prefered, starting low
      ............. BreakName ...         ;watch out for mixed case!
</PRE>


<P class="column8">
        it is also adviced that you choose some common beginning for the
        identifier, so that they get sorted nicely. If you define variables
        at the beginning of file it might be good idea to attach beginning
        letter like <SAMP class="word">v-</SAMP> for varibles before the real identifier name
        begins, like:


<PRE class="code">
      ............. v-globals ...
      ............... v-hooks ...
</PRE>


<P class="column8">
        Of course, we can now use the uppercase letter trick to have them
        sorted fist in the list :-/, just change <SAMP class="word">v-</SAMP> with <SAMP class="word">V-</SAMP>. Generally
        you should think which ones do you use most, do you leave the
        variables alone when you have defined them and mostly work with new
        functions ? Then the variables can stay at the end of list and
        there is no need for <SAMP class="word">V-</SAMP> trick. but if you need to access
        variables often, then you might want to see variables first in the
        list. It's up to your decision how you name the variables and how
        you want to see them listed.


</P>
  <A name="24" id="24"></A>
  <H2>
      Breaks and sub-break naming
      
  </H2>




        If you have very large file, you'll propably need major breaks,
        level one breaks and possibly level 2 breaks too. To keep the list
        well sorted, put the functions into bigger groups and name the
        sub-level breaks so that they have some common beginning in respect
        to the major break they belong to. Let's see an example where
        you're dealing with mail handling. Notice the CAPITAL letter.


<PRE class="code">
      ;; ################################# &amp;h-Header ###
      ;;  this is beginning block of header handling

      ;;  Some special function here to handle CC
      ;;  field, killing all recipients, or only
      ;;  some of them

      ;;  More detailled functions under h-cc, Not
      ;;  named, because there is only 2 small funcs
      ;;  easily found.
</PRE>


<P class="column8">
        Again there is couple of point's to follow here. All the tricks are
        discussed already: the <SAMP class="word">Big</SAMP> letter trick put's major break to the
        top of imenu list, common beginning keeps the subsections together.


</P>
  <A name="25" id="25"></A>
  <H2>
      Example breaks
      
  </H2>




        Some bokmark breaks are proposed here, but you can use whatever you
        like. Thumb of rule: be consistent, always use same convention in
        your files and consider the 'noisy level' of your breaks, so that
        they build up nicely and the code is easy to read. Too many
        <STRONG class="word">different</STRONG> breaks is not good idea, because they clutter the view
        fast, instead use variations on a theme: same break character but
        varying spaces and continuous character lengths.


<P class="column8">
        Thumb rule: select 1-3 break chars, and never change them in you
        files; your files look alike. Vary the spacing, not the break
        chars.


<P class="column8">
        These are 'noisy breaks' , Major section separators, pick only one
        and use it in your files, do not use all three!


<PRE class="code">
      ##############################################################
      %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
      ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
</PRE>


<P class="column8">
        less noisy breaks


<PRE class="code">
      .`.`.`.`.`.`.`.`.`.`.`.`.`.`.`.`.`.`.`.`.`.`.`.`.`.`.`.`.`.`.`

      .^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^.^

      .:.:.:.:.:.:.:.:.:.:.:.:.:.:.:.:.:.:.:.:.:.:.:.:.:.:.:.:.:.:.:
      .~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~

</PRE>


<P class="column8">
        This is subSection break


<PRE class="code">
      ................................................................

</PRE>


<P class="column8">
        This is even lighter subsection break (varying spacing)


<PRE class="code">
      ...  ...  ...  ...  ...  ...  ...  ...  ...  ...  ...  ...  ...
</PRE>


<P class="column8">
        'Draw one's attention' break: something special in this section



<PRE class="code">
      --++-- --++-- --++-- --++-- --++-- --++-- --++-- --++-- --++--
</PRE>


<P class="column8">
        Internal break 1, inside function, long C++-'switch' begin etc.


<PRE class="code">
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
</PRE>


<P class="column8">
        Internal break 2, to separate long case elements etc.



<PRE class="code">
      ^^^  ^^^  ^^^  ^^^  ^^^  ^^^  ^^^  ^^^  ^^^  ^^^  ^^^  ^^^  ^^^
</PRE>


<P class="column8">
        Bookmark cache


<P class="column8">
        So that imenu works fast, it is not desirable that the breaks are
        always parsed from scratch, because it takes time to scan the file
        for possible bookmarks. That's why the information is cached. If
        the break cache is empty, the breaks are gathered from buffer and
        stored to the cache and when you call the imenu, the cache is
        offered to it --&gt; fast response time.


<P class="column8">
        When you add new breaks to the buffer [especially at the beginning
        of code development], you may want to call function


<PRE class="code">
      tibm-parse
</PRE>


<P class="column8">
        which will empty the cache and re-read all bookmarks.


<P class="column8">
        If you write lot of code the points that were cached do no longer
        represent exact points of bookmarks, because they have been sliding
        off their places.


<P class="column8">
        If you want <EM class="word">always</EM> have updated bookmark points, there is variable


<PRE class="code">
      tibm-cache-update
</PRE>


<P class="column8">
        which you can set to 'always, if you want the cqache to be updated
        always prior showing X-menu. In large buffer this remarkably slows
        down the menu appering. See variable for more choices.


</P>
  <A name="26" id="26"></A>
  <H2>
      Automatic bookmark detection
      
  </H2>




        In order bookmarks to be detected in file, you may define following
        RCS identifier <SPAN class="word-ref">[see ident(1)]</SPAN> preferably at the beginning of your
        file:


<PRE class="code">
      $BookMarkRegexp:&lt;space&gt;'REGEXP'&lt;space&gt;$
</PRE>


<P class="column8">
        Be careful so that the identifier is <STRONG class="word">exactly</STRONG> in this form: pay
        attention to spaces and (') around the REGEXP. The regular
        expression tells what line can be considered as bookmark and the
        bookmark name is indicated in subexpression 1 [\\(.*\\)] , look at
        this file, how it is constructed.


<P class="column8">
        In order to find all bookmarks and build up the cache, it needs to
        widen the buffer in case the file is narrowed with some folding or
        outline editor. When the cache has been built the buffer's
        narrowing is restored, so you shouldn't even notice this. Of course
        you don't want to find bookmarks from your RMAIL file.


<P class="column8">
        One word about the regexp contruction, let's see my regexp that
        matches the identifier:


<PRE class="code">
      &amp;+\\([^ ]+\\)
</PRE>


<P class="column8">
        Pay attention to using exclusive regexp, not just '.*'
        construction. When you use folding or outline editor the '.*' form
        is very ill behaving, because if the line being scanned is
        currently folded, IT WILL MATCH WHOLE folded section --&gt; your
        identifier surely isn't that one. We can't unfold the sections
        during scanning, because if there are subfolds, what editor is on
        use .. it's too complex/slow to handle such situations. But using
        the exclusive list [^ ] will surely match the identifier, because
        it stops when it can find first space. This means that you can't
        use <STRONG class="word">spaces</STRONG> inside the identifiers. Cat the words together.


</P>
  <A name="27" id="27"></A>
  <H2>
      If the BookMarkRegexp isn't defined in file
      
  </H2>




        Then the programs tries to search for the default bookmarks.
        See function tibm-re-default for more.


</P>
  <A name="28" id="28"></A>
  <H2>
      Message: Empty cache. Building...
      
  </H2>




        Do you wonder why you get this message displayed, while you were
        sure that you the buffer had cache already? Don't be suprised. This
        is totally normal behaviour: whenever you switch mode for the
        buffer the new mode <STRONG class="word">kills</STRONG> all local variables, including this
        cache information. Obviously the information must be restored when
        you call the hotlist again.


<P class="column8">
        I could have programmed the cache to be intern variable with buffer
        name added to it, but what happens when you kill the buffer? The
        variable lies around in emacs with no use. [oh yeah, there is
        buffer kill hooks to take care of that... but let's be simple
        here]. Keeping track of the interned variables is not what I had in
        mind: the more simpler, the better and the easier to maintain. You
        just have to live with those messages :-/


</P>
  <A name="29" id="29"></A>
  <H2>
      About imenu
      
  </H2>




        You definitely want to look at the documentation of imenu
        to find many more usages for it. It makes your day shine in
        X-display. You should also configure few variables for it, like:


<PRE class="code">
      (setq imenu-max-items 20)
</PRE>


</P>
  <A name="30" id="30"></A>
  <H2>
      Test run
      
  </H2>




        Load this file and set those keybindings mentioned. Hit the mouse
        bindings and you're running bookmark package.


<P class="column8">
        Since the break marks are used in commentary also, the list of
        bookmarks are not in their most informative form,
        I use following convention to name bookmarks;


<PRE class="code">
      'v-'     variable topic
      't-'     text topic
</PRE>


</P>
  <A name="31" id="31"></A>
  <H2>
      Design thoughts
      
  </H2>




        Sooner or later someone wonder's: &quot;Can't we have sub-breaks listed
        nicely with indentation in front lines in X-popup?&quot;


<P class="column8">
        My answer is &quot;No&quot;, since it would require keeping track of the
        'Main break' and then seeing if there exist sub-breaks. Immediately
        this leads to question &quot;What is the main break?&quot;, and if we say
        main breaks start with &quot;#|/%&quot; charset we limit the use of breaks.
        Besides deciding what are sub-breaks, main-breaks with regexp may
        be too slow.


<P class="column8">
        I wanted to have a somple <EM class="word">overview</EM> of the buffer. Please put
        imenu to find single functions if you don't feel like tapping
        couple of pgUp/pgDown afer you have jumped to bookmark section.



</P>
           </BLOCKQUOTE>
           <HR>
               <A name="32"  id="32"></A>
               <H1>
               Tinycache.el &ndash; Maintain a cache of visited files [compile,dired]
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="33" id="33"></A>
  <H2>
      Preface, overview of features
      
  </H2>




        This package is meant to be uqsed with dired and compilation
        buffers. When you load file from either one, the file is
        cached. This way you can view files easily and when you
        have finished you can flush the cache and get rid of all
        vieved files.


</P>
  <A name="34" id="34"></A>
  <H2>
      Dired description
      
  </H2>




        When you load file from dired for viewing (dired-view-file), the
        file is cached. You can load several files for viewing and when you
        have finished, you can call <SAMP class="word">tica-flush</SAMP> (Defaults to <SAMP class="word">C-c</SAMP> <SAMP class="word">k</SAMP> in
        dired) to remove all the cached files from emacs.


<P class="column8">
        This way you don't end up having files that you're not interested
        in any more. Using the cache makes browsing buch of files very
        easy. Each dired buffer has it's own cache. The cache is also
        flushed if you kill the dired buffer.


</P>
  <A name="35" id="35"></A>
  <H2>
      Compilation cache description
      
  </H2>




        Maintain also a cache of buffers visiting files via the
        <SAMP class="word">next-error</SAMP> and <SAMP class="word">compile-goto-error</SAMP> commands; each compile/grep
        buffer has its own cache.  To kill the cached buffers manually, use
        <SAMP class="word">C-c</SAMP> <SAMP class="word">C-d</SAMP> (compile-flush-cache) in the compile/grep buffer;
        deleting the compile/grep buffer automatically kills the cached
        buffers.  To disable the cache, set <SAMP class="word">compilation-find-file-cache</SAMP>
        to a non-list value (e.g. 'disable).


<P class="column8">
        After loading this file, every file that is loaded by calling some
        compile function, ie. <SAMP class="word">compile-goto-error</SAMP>, is cached if it is not
        in emacs already. Ie. when you fix some small errors in other
        files, you may not want to keep those files in emacs after you've
        done; remember, those got loaded during the calls to
        compile-goto-error. The easiest way to get rid of these extra
        files, that were not originally in emacs, is to:


<PRE class="code">
      A. kill compilation buffer, C-x k *compilation*
      B. Call M-x tica-flush directly
</PRE>


<P class="column8">
        See <EM class="word">igrep.el</EM> also how you can browse(grep) files easily and when
        you've done, you can call this package top get rid of those browsed
        files.


</P>
  <A name="36" id="36"></A>
  <H2>
      Cache minor mode indication &ndash;  Controlling the cache flag
      
  </H2>




        Modeline indication shows for loaded buffer


<PRE class="code">
      &quot;+C&quot;    if file is loaded as cached.
      &quot;+c&quot;    If you have manually turned off the cache
</PRE>


<P class="column8">
        And for root buffer where the file were loaded, normally
        compilation or dired buffer, the modeline shows


<PRE class="code">
      &quot;+CN&quot;  where N is number of files currently in the cache
</PRE>


<P class="column8">
        Sometimes you want to keep some file that belongs to the cache
        and you don't want to loose it when you execute <SAMP class="word">M-x</SAMP> <SAMP class="word">tica-flush</SAMP>
        or when you kill the root buffer.


<P class="column8">
        For that purpose there is function <SAMP class="word">tica-mode</SAMP> to turn off the cache
        for current buffer. When the cache mark says &quot;+c&quot; in the
        modeline, it tells you that the file will not be killed when you
        <SAMP class="word">tica-flush</SAMP> is called.


<P class="column8">
        Note: the root buffer's xx count is not updated when you kill
        buffer that was cached. So if the count says 10, and you kill 3
        files that, the count will still still say 10. The count is
        updated only when you load some <EM class="word">new</EM> file from the root buffer.
        At his tim all the buffers cached are checked and the ones that
        do not exist any more are removed.


</P>
  <A name="37" id="37"></A>
  <H2>
      Buffer list commands [C-x C-b]
      
  </H2>




        There are some additional commands added to buffer list which
        helps you to keep track of the cached files better. The &quot;c&quot;
        prefix is chosen for (c)ache related commands.


<PRE class="code">
      C-c c m     mark all cached files
      C-c c d     mark as deleted
      C-c c u     unmark cached files.
</PRE>


</P>
  <A name="38" id="38"></A>
  <H2>
      Dired mode commands
      
  </H2>




        Similar to buffer list, there is some dired commands too


<PRE class="code">
      C-c c k     tica-flush, remove all cached files from this dired
      C-c c m     tica-dired-mark
      C-c c u     tica-dired-unmark
</PRE>


</P>
  <A name="39" id="39"></A>
  <H2>
      Thanks
      
  </H2>




        Kevin Rodgers, his igrep.el gave me an idea for this. The
        original cache code from where this pacakge evolved was
        written by Kevin under name <EM class="word">compile-cache.el</EM>

</P>
           </BLOCKQUOTE>
           <HR>
               <A name="40"  id="40"></A>
               <H1>
               Tinycb.el &ndash; &copy;hange (b)uffers in current window.
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="41" id="41"></A>
  <H2>
      Preface, May 1996
      
  </H2>




        With this small package you can switch to next or previous buffer
        in a current window. If you only have small amount of buffers in
        <SAMP class="word">buffer-list</SAMP>, this may be the fastest way to select a working
        buffer. In the other hand, if you have more than 20 working
        buffers, I'd recommend that you use exellent substring buffer
        switching utility instead.


<PRE class="code">
      iswitch-buffer.el <EM><A HREF="mailto:stephene@cogs.susx.ac.uk" >stephene@cogs.susx.ac.uk</A></EM>
      <A HREF="http://www.cogs.susx.ac.uk/users/stephene/emacs" target="_top">http://www.cogs.susx.ac.uk/users/stephene/emacs</A>
</PRE>


<P class="column8">
        And one bonus more; if you have X and want to have hotlist of your
        permanent buffers available, use following package. Then you can
        select RMAIL; GNUS; VM; <EM class="word">scratch</EM> buffers instantly. It is part of
        the tiny tools distribution.


<PRE class="code">
       tinyhotlist.el &ndash; Hotlist of buffers in X, easy add, easy remove
</PRE>


</P>
  <A name="42" id="42"></A>
  <H2>
      Description
      
  </H2>




        If you don't want default bindings, clear the installation with
        following. This must be prior the 'require command.


<PRE class="code">
      (setq ticb-:load-hook nil)
</PRE>


<P class="column8">
        To change buffers forward/backward easily, this file installs
        following keybindings to windowed envinronment.  For non-windowed
        emacs (in tty) the default bindings are for HP numeric keypad keys
        1 2 3.


<PRE class="code">
      C-, previous buffer         (Think this as &lt; back)
      C-. Next buffer             (Think this as &gt; fwd)
      A-. sort order on/off       (Think this as &gt; sorted)

      C-&lt; iswitch mode, select buffer with RET, move with &lt;,&gt; and &lt;.&gt;
          This mode is special, it shows the buffer name
          in echo area while you go backward and forward.

          This is usefull if you have many buffers and just want to
          skip 2-5 buffers fast. Eg. if the buffers are font-lock
          conrolled, swithing to them with the C-, and C-, keys would
          be slow due to fontification which happens every time you
          switch over a buffer.

          The command prompt looks like following. The mode name is
          shown only if buffer has no associated file name [mode name
          has been left out so that full path fits there]

          &quot;Iswitch buffer: my-lisp.el     ~/elisp/my-lisp.el&quot;
          &quot;Iswitch buffer: test           &lt;dired&gt; ~/tmp/test&quot;
          &quot;Iswitch buffer: *Messages*     &lt;fundamental-mode&gt;&quot;
</PRE>


<P class="column8">
        You should also configure <SAMP class="word">ticb-:ignore-regex</SAMP> to your taste.


</P>
  <A name="43" id="43"></A>
  <H2>
      Thanks
      
  </H2>




        Original idea for this package comes from yic-buffer.el
        by choo@cs.yale.edu (young-il choo), 7 Aug 90.


</P>
           </BLOCKQUOTE>
           <HR>
               <A name="44"  id="44"></A>
               <H1>
               Tinychist.el &ndash; (c)ommand (h)istory save/restore utility
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="45" id="45"></A>
  <H2>
      Preface, apr 1996
      
  </H2>




        In newsgroup post to gnu.emacs.help there was discussion about
        saving and restoring emacs command history between session. Fred G.
        Athearn <EM><A HREF="mailto:fga@maple.sover.net" >fga@maple.sover.net</A></EM>, gnu.emacs.help Send a help message
        to a person asking for it describing how to print out
        command-history and saving it into a file with <SAMP class="word">C-x</SAMP> <SAMP class="word">C-w</SAMP>. This
        little package tries to automate everythig, so that when you load
        it, it will automatically load command history for the right emacs
        and when yu exit emacs, the command history is saved to disk.


</P>
  <A name="46" id="46"></A>
  <H2>
      Overview of features
      
  </H2>




<P><UL>
	<LI>Saving and restoring emacs command history
	<LI>Suports simultaneous emacs sessions, different history for
            each one. Eg. &quot;-name Mail&quot; is associated with &quot;mail&quot; emacs history,
            &quot;-name News&quot; is associated with &quot;news&quot; history. This trick works
            on non-windowed tty too, since the switch is evaluated and cached
	            internally in those cases.
</UL>




</P>
  <A name="47" id="47"></A>
  <H2>
      Default save file from -name parameter
      
  </H2>




        The default save name of command history file is extracted from
        the frame parameter. It is quite customary that people have
        several emacs open in their X display, each one dedicated to
        specific task.


<P class="column8">
        The key here is, that you should make a habbit of naming your
        emacs by task when you start it:


<PRE class="code">
      % emacs -name Mail &amp;        # My mail emacs
      % emacs -name C++1 &amp;        # My C++ project 1
      % emacs -name News          # for news reading
</PRE>


<P class="column8">
        This effectively sets the frame's name to &quot;-name&quot; parameter's value.


<P class="column8">
        But old emacs  is a  little picky about the order of command line
        options, please loak at the info pages in which order you must specify
        additional arguments. (info pages, Node:Initial Options)


<P class="column8">
        For non-windowed environment, this trick doesn't quite work out of
        the box, because emacs doesn't accept the name option at all.
        Let's try to start fresh emacs to an xterm, not to separate frame
        and see what happens. Order of the options is important here.


<PRE class="code">
      % emacs -nw -q -name Mail  &amp;
</PRE>


<P class="column8">
        What happens, is that you get two new buffers: &quot;-name&quot; and &quot;Mail&quot;, and
        this is not what we intended. If we ask the frame name in this
        emacs, it says &quot;terminal&quot; or something similar.


<P class="column8">
        What we do instead, is ,that we install our own command line handler
        in non-windowed emacs and then we're able to intercept the &quot;-name&quot;
        option and it's parameter. When the emacs is killed, we then again
        look at the cached &quot;-name&quot; option to derive the save file postfix.


<P class="column8">
        If you're interested in adding your own command line option,
        see function add-command-line-arg in tinylibm.el


</P>
  <A name="48" id="48"></A>
  <H2>
      How it works
      
  </H2>




        Your emacs must support <SAMP class="word">kill-emacs-hook</SAMP>, so that the command history
        can be saved automatically when you exit emacs. If you have older
        than 19.xx, or other emacs that doesn't support the variable,
        there is alternative example which replaces you emacs exit.


<P class="column8">
        See at the end of file for examples.


<P class="column8">
        When emacs loads, the <SAMP class="word">tich-load</SAMP> is runs (see installation) and
        correct <SAMP class="word">command-history</SAMP> file is loaded.


</P>
  <A name="49" id="49"></A>
  <H2>
      File saving/loading
      
  </H2>




        If you want to save/load the history session manually, you can call
        function


<PRE class="code">
      M-x tich-command-history-save
</PRE>


</P>
  <A name="50" id="50"></A>
  <H2>
      About using the frame name
      
  </H2>




        I know it's a bit risky to rely on the frame name's first word, that
        it designates the purpose of your emacs. After all you <STRONG class="word">can</STRONG> change
        the frame name to whatever you want in side emacs.


<P class="column8">
        But in general, the name labels your emacs and gives visible
        clue in X where the particular emacs is used to. (in non-X you can't
        see the name parameter at all, but I don't think that's a problem.)


</P>
  <A name="51" id="51"></A>
  <H2>
      See also
      
  </H2>




        See file chistory.el in your emacs distribution, how to configure
        some parameters. Eg:


<PRE class="code">
      M-x command-history-mode
      (setq list-command-history-max 50)

</PRE>

</P>
           </BLOCKQUOTE>
           <HR>
               <A name="52"  id="52"></A>
               <H1>
               Tinycom.el &ndash; Smart comment setting utility
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="53" id="53"></A>
  <H2>
      Preface, sep 1994
      
  </H2>




        In 18 Oct 94 Era Eriksson asked for help in gnu.emacs.help.
        He hated 'modes' because they redefined his tab key strangely.
        What he wanted was tab 8 in _every possible case_. <EM class="word">huh</EM>,
        I thought when reading his post: &quot;..but if the mode screws with my
        tab key, I don't want it.&quot;. Whatever the language, he was going
        to use <STRONG class="word">hard</STRONG> tabs...we'll I don't think he had met Lisp yet :-/


<P class="column8">
        Anyway, he also wanted his comments always to be positioned in
        column 56 (tab #7), And I started thinking how could he add
        comments if the mode, which <STRONG class="word">knows</STRONG> comment syntax, wasn't
        turned on? (He always programmed in fundamental-mode, what a
        cool dude...)


<P class="column8">
        As a result this packet was eventually born. It really became
        part of my daily life use! I couldn't live do without it anymore.
        The original .el to Era was posted under name 'general-comment.el'.


</P>
  <A name="54" id="54"></A>
  <H2>
      What's this all about, short introduction
      
  </H2>




        Let see...I'm in C/C++ mode, and I want to switch to better mode
        before I start adjusting my comments nicely. But wait, the new mode
        doesn't know about C++-comments! Or I'm editing my ~/.Xdefauls,
        there is no mode for it, no-one to know the comment syntax. Boom
        :-( Now it's time for giving this packet a run.  It hooks itself
        directly to &quot;\M-;&quot; replacing any previous function.


<P class="column8">
        It defines comment syntax and position on the fly when it can identify
        the file name. If the file isn't known then it passes control
        to 'mode' to handle the commenting-&gt; very handy in temporary buffers
        that has no filename, eg. <EM class="word">scratch</EM> buffer.
        Repetitive calls to M-; convert comment between <EM class="word">classes</EM>, they
        adjust comment according to previous one, or move it on the line.


</P>
  <A name="55" id="55"></A>
  <H2>
      Overview of features
      
  </H2>




<P><UL>
	<LI>Replaces M-; commenting key. Suitable for any major mode
	<LI>Determines comment variables on the fly, no matter where you
            are or what mode you are.
	<LI>There is no-list that tells not to touch this mode's commenting.
            This is for modes that has comment-end. TIC can't handle those.
	<LI>Repetitive M-; converts single comments into 'bigger classes'
	<LI>Positions new comment on empty line by looking at previous
            comment.
	<LI>You can define column position for those comments that are not
            allowed to move This handy for long lines or special comments.
	<LI>If there are multiple 'comments' , like $#var # comment
            in perl-mode, TIC picks the last # char and treats
	            it as a comment. Emacs commention cope similar situations.
</UL>




</P>
  <A name="56" id="56"></A>
  <H2>
      Limitations
      
  </H2>




        This isn't designed for modes that have comment-end, you get
        only ready '/* */' string eg. in C-mode ie. ready comment string,
        the comment classes don't apply.


</P>
  <A name="57" id="57"></A>
  <H2>
      Examples
      
  </H2>




        At the end of file there is my favorite 'general editing mode' :-)
        setup. I use it for perl, shells, awk, C++ [sometimes]


</P>
           </BLOCKQUOTE>
           <HR>
               <A name="58"  id="58"></A>
               <H1>
               Tinycompile.el &ndash; Compile buffer additions. Minor mode.
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="59" id="59"></A>
  <H2>
      Preface, mar 1997
      
  </H2>




        When I was doing grepping over multiple files with igrep.el the
        results that were inserted into buffer were too long: There were
        2-6 directory paths which occupied 40 characters and the actual
        grep hits were continued with \ character to the right.


<P class="column8">
        That was awfull to read. I couldn't get clear look at the grep
        results. I decided that there must be a way to clarify the results
        somehow, so I started doing this package.


</P>
  <A name="60" id="60"></A>
  <H2>
      Overview of features
      
  </H2>




<P><UL>
	<LI>Shortening directory paths
	<LI>Killing non-interesting files from the buffer
	<LI>Hiding commented lines
</UL>




</P>
           </BLOCKQUOTE>
           <HR>
               <A name="61"  id="61"></A>
               <H1>
               Tinydesk.el &ndash; Saves/restores files in Emacs between sessions
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="62" id="62"></A>
  <H2>
      Preface, feb 1995
      
  </H2>




        I have had these function for ages and I just decided to remove
        them from my own lisp library of various useful functions and
        put them into separate package.


<P class="column8">
        I'm usually working with X at my work, which I left open day to
        day. In fact I seldom even logout, so my Emacs files just sits nicely,
        so I haven't had a need for sophisticated session saver yet.


<P class="column8">
        What I do need, is, that sometimes I have to go to the lab next
        floor to see what's troubling my C++ program. I must have some way
        to transfer the list of files that I was just editing and bring
        them into lab where I may need to replicate my setup.


<P class="column8">
        These functions save my configuration into file, which can later
        be opened again in Emacs somewhere else.


<P class="column8">
        Hope someone finds use for this also, although there exist much more
        better desktop savers, which saves points, marks and modes.


</P>
  <A name="63" id="63"></A>
  <H2>
      Overview of features
      
  </H2>




	<P><UL>
	<LI>Simple desktop: only filenames and directories are read/saved.
</UL>




<PRE class="code">
      Unlike the other desktop savers, this one can also UNLOAD files
      from Emacs. You just tell it to remove 'these files listed in
      state file state.XXX', and those files will be removed from
      your Emacs buffers. You can collect 'projects' and switch
      between them easily: after project1, It can can be unload and
      load project3 instead.
</PRE>


<P class="column8">
	<P><UL>
	<LI>Parse any file that includes filenames and comments
</UL>



<P><UL>
	<LI>If there were any invalid entries in the state file,
            the state file contents is shown to user and the entries which
	            had problems are marked.
</UL>




<P class="column8">
	<P><UL>
	<LI>State file editing (tid-mode):
</UL>




<PRE class="code">
      &ndash;  load single file on the line
      &ndash;  clear face properties from buffer, so that they don't
          disturb your view.
      &ndash;  parse files for loading.
      &ndash;  Show files that cannot be loaded.
</PRE>

<P><UL>
	<LI>In regular intervals save the state of Emacs (files loaded)
            If Emacs crashes you can recover the previous session.
            See function <SAMP class="word">tid-auto-save</SAMP> for more. Similar functionality
            is in new Emacs releases, but this package was originally
	            written fo 19.28
</UL>



<P><UL>
	<LI>CRASH RECOVERY: If Emacs crashes, or you have to kill it
            with <SAMP class="word">-HUP</SAMP> if it hang, it leaved autosaved files around.
            When you boot up again, you need to reload the existing files
            AND recover any autosaved files. The best way to get your
            Emacs back where it was, is that you load the state file for
            editing: <SAMP class="word">M-x</SAMP> <SAMP class="word">tid-edit-state-file</SAMP> And from the StateFileEdit
            mode hit command <SAMP class="word">tid-find-file-whole-buffer</SAMP> which is bound to
            C-c b and <SAMP class="word">tid-recover-file-whole-buffer</SAMP> which is bound to C-c B.
	            And you'll be up again with your latest files.
</UL>




</P>
  <A name="64" id="64"></A>
  <H2>
      Quick start
      
  </H2>




        If you're just eager to use the package, here are the basics.
        I suppose you have copied the installation setup as is.

<P><UL>
	<LI>You have Emacs session open with bunch of files. Now you
            believe that it's time to save this session. You do
	            C-x 4 s and give some name &quot;state.c&quot; if you edited c project.
</UL>




<P class="column8">
        Now, it all depends what you want to do after that. If you find more
        files to Emacs; or kill some unwanted buffers, you can re-execute
        C-x 4 s whenever you like. You can even edit the state file with
        C-x 4 e to remove some files that you don't want to include to
        that &quot;project&quot;.

<P><UL>
	<LI>Next time you open Emacs you can load any state file with
	            C-x 4 r &quot;state.c&quot;
</UL>




<P class="column8">
        If you want to switch between projects; unload first the current
        project with C-x 4 u &quot;state.c&quot; and reload some other project
        with C-x 4 r, eg your current C++ project &quot;state.cc&quot;


</P>
  <A name="65" id="65"></A>
  <H2>
      Automatic one time session saver
      
  </H2>




        Some people just want to save the session on exit and reopen it
        when Emacs starts again. I must say that this is not necessarily
        the best, because when you start Emacs for some quick job, you
        don't necessarily want it to load the saved session (loading all
        files take time considerably). Loading Emacs with -q is not the
        choice, if you still like to have your other Emacs goodies active.


<P class="column8">
        Here is semi-automatic save and restore, put all these lines
        near the end of your .Emacs. It saves the file info when
        Emacs exists and asks if you want to return to saved session
        on Emacs startup.


<PRE class="code">
      (defconst tid-:dir-default &quot;~/projects/&quot;)
      (defconst my-tid-session
        (concat tid-:dir-default &quot;state.last-session&quot;))

      (add-hook 'kill-Emacs-hook 'my-save-session)

      (defun my-save-session ()
        &quot;Save loaded file information.&quot;
        ;;  Or (tid-save-state my-tid-session '(4))
        ;;  if you want to save dired buffers too.
        (tid-save-state my-tid-session) nil)

      (if (y-or-n-p &quot;Recover session &quot;)
          (tid-recover-state my-tid-session))
</PRE>


</P>
  <A name="66" id="66"></A>
  <H2>
      Face setup
      
  </H2>




        This program uses some faces to catch your attention when you're
        working with the state files. I you restore state from a file and
        some file reference cannot be loaded, the state file will be shown
        to you and the problematic lines are highlighted.


<P class="column8">
        If you open the state file for editing, you can selectively load
        files. The mouse pointer will change and the text is again
        highlighted.  To make the highlight work for you, you must set some
        colors like this


<P class="column11">
           (set-face-foreground 'italic &quot;LightBlue&quot;)


</P>
  <A name="67" id="67"></A>
  <H2>
      About saving the files
      
  </H2>




        While you may save your session files with any name I suggest here
        one convention that you could use. Name every filename so,
        that they have common prefix:


<PRE class="code">
      M-x tid-save-state   ;; or any hotkey you have bound this
      state.XXX
</PRE>


<P class="column8">
        where the XXX describes the name of the state file you just saved.


<P class="column8">
        Later on it's easier to use Emacs file name cmpletion capability
        to load the file you want. If you don't exactly remember what files
        you saved, or which sessions you have in dir, you just type


<PRE class="code">
      state.[TAB]
</PRE>


<P class="column8">
        when <SAMP class="word">tid-recover-state</SAMP> ask for filename.
        Prefix arg to `tid-save-state saves' say to load directories too.


</P>
  <A name="68" id="68"></A>
  <H2>
      Automatic state file saving
      
  </H2>




        Has it ever happened to you that Emacs crashed mystically when you
        were in the middle of your daily routines. You had several C++
        files open, perl code, text files, RMAIL, ...


<P class="column8">
        Note that 19.29+ also has feature that makes possible to
        recover your session. See bunch of <SAMP class="word">auto-save-list-</SAMP> variables.


<P class="column8">
        This package installs <SAMP class="word">tid-auto-save</SAMP> function to
        <SAMP class="word">write-file-hooks</SAMP> and in regular intervals all your Emacs session
        files are stored into the state file. After a crash you can easily
        recover your session by reading the saved state file information
        with <SAMP class="word">tid-recover-state</SAMP> &lt;FILE&gt;. The name of the fil is your
        current Emacs's frame name (title). In non-windowed Emacs this
        is <SAMP class="word">state.saved</SAMP>, because frame name is not available.


</P>
  <A name="69" id="69"></A>
  <H2>
      Development note
      
  </H2>




        No, I won't duplicate <SAMP class="word">desktop.el</SAMP> functionality to save points
        and modes and so on. This is for simple state restoring only.


</P>
           </BLOCKQUOTE>
           <HR>
               <A name="70"  id="70"></A>
               <H1>
               Tinydiff.el &ndash; Diff output minor mode. Browsing, patching.
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="71" id="71"></A>
  <H2>
      Preface, jan 1996
      
  </H2>




        Long ago I made simple function that would generate instant diff
        for the file I was editing before I would check it in RCS. I didn't
        use vc.el, since it was not in the emacs distribution back then I
        started wondering why I used &quot;goto-line&quot; command in other buffer
        every time I wanted to jump to diff point... and it gave me idea to
        make separate diff mode: it would handle jumping for me. The project
        turned out to be a bit bigger than just taking simple diff...


</P>
  <A name="72" id="72"></A>
  <H2>
      Overview of features
      
  </H2>




        Taking diff

<P><UL>
	<LI>Buffer based simple diff/rcsdiff/patch package.
	<LI>You can diff current buffer against last saved backup copy.
	<LI>Give and manipulate diff command in echo-area: file name
            completion; switching between rcsdiff/diff, guess rcs version
	            for buffer, various diff switches...
</UL>




<P class="column8">
        Browsing diff

<P><UL>
	<LI>Supported: normal diff, context diff, gnu diff -u, gnu diff -n
	<LI>When you have diff output in buffer, turning on <SAMP class="word">tdi-mode</SAMP>
            allows you to browse source buffer by jumping diff blocks fwd/back
            and showing the source location.
	<LI>You can kill single diff block with <SAMP class="word">tdi-block-kill</SAMP>
	<LI>You can apply only the current diff block (patch) with
	            <SAMP class="word">tdi-block-apply-patch</SAMP>
</UL>





<P class="column8">
        Sending or saving diff

<P><UL>
	<LI>In diff buffer, you can save the diff to a file with &quot;W&quot;; write
	<LI>In diff buffer, you can attach the content as MIME diff to
            the open mail buffer. Or if you don't have MIME-edit active,
	            the diff is added without MIME tags. Command &quot;M&quot; for Mime.
</UL>




<P class="column8">
        Patch

<P><UL>
	<LI>Easy patching. Finds file to patch (along user defined paths)
            and applies the diff. You can receive patches by email
            and apply them with one or two keystrokes.
	<LI>Finds the file to patch through pre defined paths.
	<LI>Can also patch compresses .gz file.
	<LI>loads patch rejection file, if patch didn't succeed 100%
	<LI>Re-evaluates patched lisp file if the file was used by Emacs
	<LI>If you don't want to apply whole diff, use <SAMP class="word">tdi-block-apply-patch</SAMP>
	            for individual sections.
</UL>




</P>
  <A name="73" id="73"></A>
  <H2>
      Genrating diff &ndash; parsing diff
      
  </H2>




        Be in buffer where you have diff file and just turn on the


<PRE class="code">
      M-x tdi-mode
</PRE>


<P class="column8">
        Then take a look at the bindings you have available:


<PRE class="code">
      C-x b
</PRE>


<P class="column8">
        If you want to generate [rcs]diff for current buffer, call function


<PRE class="code">
      M-x tdi-diff-show   (I have bound this to C-z C-d)
</PRE>


<P class="column8">
        And it generates diff and puts you on <SAMP class="word">tdi-mode</SAMP>. X window users and
        those that have the highlighting capabitities can enjoy more about
        this mode, because it marks line numbers in buffer with
        <SAMP class="word">mouse-face</SAMP>. You just click the point to jump to diff position


</P>
  <A name="74" id="74"></A>
  <H2>
      Taking diffs
      
  </H2>




        The main purpose of this module is to help you taking &quot;diff shots&quot;,
        inside emacs. This means that the file must be loaded into
        emacs and your cursor must be in the buffers, before you execute


<PRE class="code">
      M-x tdi-diff-show
</PRE>

<P><UL>
	<LI>If the file is not rcs controlled you're offered regular diff
	<LI>if file is rcs controlled, your're offered rcsdiff prompt
	<LI>if the buffer has changed, you're offered to diff against
            last saved file to see recent changes you have done since you
	            saved the buffer.
</UL>




</P>
  <A name="75" id="75"></A>
  <H2>
      Command prompt
      
  </H2>




        The help key is on <SAMP class="word">?</SAMP>, press it to get summary of command while
        you're in minibuffer prompt. The command prompt in minibuffer looks
        like this for rcs controlled file.


<PRE class="code">
      &gt; cd /users/foo/dir1/dir2; rcsdiff -c -r1.21 test.txt
</PRE>


<P class="column8">
        You can edit this command as much as you like, but please leave <SAMP class="word">cd</SAMP>
        <SAMP class="word">XXX</SAMP> alone because the minibuffer commands expect it it be
        present. The hotkey command won't work without it.


</P>
  <A name="76" id="76"></A>
  <H2>
      Command prompt: rcsdiff and diff toggle
      
  </H2>




        To conveniently construct diff command against another file, say
        test2.txt, you can hit key <SAMP class="word">C-z</SAMP> to chage the prompt immediately to


<PRE class="code">
      &gt; cd /users/foo/dir1/dir2; diff -c test.txt
</PRE>


<P class="column8">
        And add the <SAMP class="word">test2.txt</SAMP> to the end of line. If you want to restore
        the previous rcsdiff form, just hit <SAMP class="word">C-z</SAMP> again. This <SAMP class="word">C-z</SAMP>
        facility works only if the initial command was rcsdiff. There is no
        point of converting initial diff command to rcsdiff command though.


</P>
  <A name="77" id="77"></A>
  <H2>
      Command prompt: tab completes file name
      
  </H2>




        While your're editing the command you can also use the TAB key to
        complete filename in the 'cd' command directory. If you specify any
        directories for the file, the directory's files are completed.
        That feature should allow you to get filenames into the prompt
        easily.


</P>
  <A name="78" id="78"></A>
  <H2>
      Command prompt: diffing between two Rcs revisions
      
  </H2>




        There is also more commands, like <SAMP class="word">C-x</SAMP> which changes


<PRE class="code">
      &gt; cd /users/foo/dir1/dir2; rcsdiff -c -r1.21 test.txt
</PRE>


<P class="column8">
        prompt so that it has now two -r commands. You can take diffs
        between two versions easily with it. The <SAMP class="word">C-x</SAMP> key is a toggle.


<PRE class="code">
      &gt; cd /users/foo/dir1/dir2; rcsdiff -c -r1.21 -r1.21 test.txt
</PRE>


<P class="column9"><STRONG>
         Case study:</STRONG>



<P class="column8">
        You see nice package on the net. You download it ;; and notice that
        it needs some fixes. You put the original version ;; to your
        private rcstree with the same version number as what ;; the package
        had; say 2.2. Then you CheckOut the original, make ;; changes, and
        put it back to tree with version 2.2.1.1. You dont't ;; put it back
        with 2.3, because that's not your file. You made the ;; correction
        to 2.2, so you must make a branch.


<P class="column8">
        Okay. You have the original 2.2 and you have the fixed version
        2.2.1.1 and you want to send the diff to the author. Here is how
        you do it

<P><UL>
	<LI>Be on the file buffer 2.2.1.1 and hit M-x tdi-dif
	<LI>Hit <SAMP class="word">C-x</SAMP> and edit the line to look &quot;-r2.2 -r2.2.1.1&quot;. You are
            comparing <STRONG class="word">old</STRONG> and <STRONG class="word">new</STRONG> versions.
	<LI>Hit <SAMP class="word">C-s</SAMP> to toggle between <SAMP class="word">-u</SAMP> or <SAMP class="word">-c</SAMP>. You normally want
            to send <SAMP class="word">-u</SAMP> gnu unified diff, because it is more readable.
            Provided that the receiver has gnu patch to understand it.
	<LI>Hit <SAMP class="word">C-f</SAMP> to add option <SAMP class="word">tdi-:cl-user-option</SAMP> which by
            default is <SAMP class="word">-kk</SAMP>. From the rcsdiff(1) man pages you will
            see that it roughly means: &quot;When you take diff between versions,
            ignore the rcs tag differencies&quot;. Confused? It means that
            the keywords that changed, like version, author, log ..
	            when you deposited 2.2 and 2.2.1.1 are ignored.
</UL>




<P class="column8">
        And hit enter. Then you get clean diff that you can send to author.
        And when he responds back or sends you new version, say 2.5,
        you repeat the whole process again if you intend to make more
        changes 8put original 2.5 on ice and make branch 2.5.1.1 for your
        changes)


</P>
  <A name="79" id="79"></A>
  <H2>
      Command prompt: autosave and backup file diff
      
  </H2>




        Other helpfull commands insert he #autosaved# and backup~ filenames
        into the current point. Remember to put the # or ~ file to the left
        and not to the right. you do want to diff current file against the
        saved one; right? The first one is original prompt. That second is
        after <SAMP class="word">C-x</SAMP> and latter after <SAMP class="word">C-v</SAMP>


<PRE class="code">
      &gt; cd /users/foo/dir1/dir2; diff -c test.txt
                                        * point here

      &gt; cd /users/foo/dir1/dir2; diff -c #test.txt# test.txt
      &gt; cd /users/foo/dir1/dir2; diff -c ~/backup/test.txt~ test.txt
</PRE>


<P class="column8">
        Notice that your backup file may not reside int he same directory.
        The backupfilename is returned by function <SAMP class="word">make-backup-file</SAMP>.


</P>
  <A name="80" id="80"></A>
  <H2>
      Generated diff: the Prereq tag
      
  </H2>




        It is important that when you send diff, it is diff between two
        rcs versions if possible (if you're author of program). In those
        cases where revision information can be found, the diff data
        is preceeded with this line:


<PRE class="code">
      Prereq: N.NN        eg. Prereq: 1.76
</PRE>


<P class="column8">
        If the receiving end has GNU patch, the patch program first checks
        if the version that person has is exactly N.NN and aborts if
        he had some other version. This prevent applying diffs that
        are meant to other versions. Regular Unix <EM class="word">patch</EM> program
        does not notice the <EM class="word">Prereq:</EM> tag, so consider getting more
        safer GNU version as soon as possible.


</P>
  <A name="81" id="81"></A>
  <H2>
      Patching
      
  </H2>




        There is also included little patching function.


<PRE class="code">
      M-x tdi-patch          non verbose
      C-u M-x tdi-patch      verbose
</PRE>


<P class="column8">
        For elisp (.el) files the <SAMP class="word">load-path</SAMP> is automatically searched
        for possible destination of the patch. You can set variable


<PRE class="code">
      tdi-:patch-list
</PRE>


<P class="column8">
        To match files and their associated patch directories if you
        receive patches for other files regularly. This function is most
        usefull for RCS diffs, because they can be easily detected and the
        file information is also included in the diff.


</P>
  <A name="82" id="82"></A>
  <H2>
      Patch: general notes
      
  </H2>




        Note: normally when <SAMP class="word">patch</SAMP> program is called it always makes
        backup with the suffix .orig. So if you have applied a patch,
        then there is two file in the directory.


<PRE class="code">
      FILE.txt        &ndash; patched file
      FILE.txt.orig   &ndash; original file, before the patch
</PRE>


<P class="column8">
        It also creates rejections file if all dind't go as planned.


<PRE class="code">
      FILE.txt.rej
</PRE>


</P>
  <A name="83" id="83"></A>
  <H2>
      Patch: success or failure
      
  </H2>




        When the patch has been applied, This package checks if all went
        well. If rejection file was created; then the patch process's
        output is shown and the rejection file is loaded so that you can
        see what possibly went wrong and if you should be concerned.


<P class="column8">
        If you get this rejection file, then there propably is potential
        trouble. Please contact the sender of patch immediately and tell
        about your troubles. There are few common reasons why patch failure
        happened.

<P><UL>
	<LI>Sender forgot <SAMP class="word">-kk</SAMP> switch when he run rcsdiff to the file
            that was not owned by him (See RCS for details about <SAMP class="word">-kk</SAMP>)
	<LI>Too few context, Sender should try increasing context with
            <SAMP class="word">-C</SAMP> switch (like <SAMP class="word">-C7</SAMP>)
	<LI>The patch were modified during email transit. Ask
            to send the patch with some encoded format: uuencode, base64,
	            PGP encrypted or PGP base64 signed (clearsig off) format.
</UL>




</P>
  <A name="84" id="84"></A>
  <H2>
      Patch: what happens after success
      
  </H2>




        When the patch succeeds, there is a bit special handling for Emacs
        elisp packages. Say we recieve correction to the following module
        and you have it loaded in emacs: (feature 'foo) returns true.


<PRE class="code">
      foo.el
</PRE>


<P class="column8">
        After patch is applied, you're asked if you want to reload the
        new release of <EM class="word">foo</EM> module (just patched). You should answer
        <SAMP class="word">Yes</SAMP> to get the newest one running in your Emacs immediately.


</P>
  <A name="85" id="85"></A>
  <H2>
      Patch: after success, returning to original version
      
  </H2>




        If the patched version, which is usually new version of the progrmam
        doesn't work as it is supposed to, you can go back to the original
        version by appluing the same patch again. You should report what
        problems you had to the maintainer and inform that you wnet back
        to previous version.


<P class="column8">
        <EM class="word">IMPORTANT</EM> If you did get the rejection file, you can't use that
        patch to go back to original!! See next chapter how to go to
        original version in that case


</P>
  <A name="86" id="86"></A>
  <H2>
      Patch: rejection file created &ndash; what to do?
      
  </H2>




        If you want to go back to original version, apply the same diff
        again; this reverses just applied patch. Just call <SAMP class="word">M-x</SAMP>
        <SAMP class="word">tdi-patch</SAMP> in the buffer where you have the diff.


<P class="column8">
        When you do that, the function detects that there is already a
        orig file and prompts you to choose an appropriate action.<BR>
        Here is the explanation what they do and what should you choose


<P class="column8">
        <STRONG class="word"><EM class="word">o</EM></STRONG>


<P class="column8">
        Go back to (o)riginal. This copies the FILE.txt.orig over the
        FILE.txt and deletes FILE.txt.orig and doesn't do <STRONG class="word">anything</STRONG>
        else (stops the patching process). You're back to starting
        point as if you never patched anything.


<P class="column8">
        <STRONG class="word"><EM class="word">r</EM></STRONG>


<P class="column8">
        &reg;etry means that the FILE.txt.orig is copied over FILE.txt and the
        pach is tried again for FILE.txt. You may have asked the author to
        send more context with using the -C10 switch and after you received
        this new patch you want to try if it now goes ok. The FILE.txt.orig
        still remains as a backup


<P class="column8">
        <STRONG class="word"><EM class="word">g</EM></STRONG>


<P class="column8">
        (G)o says that we should apply the diff again to FILE.txt. Do this
        <STRONG class="word">ONLY</STRONG> if you did not get rejections last time. The intention
        is that you apply the patch again, and this reverses the situation.
        I mean 1) you patch; you get new version 2) you patch again: you
        degrade to the version before patch (original file before patch)


</P>
  <A name="87" id="87"></A>
  <H2>
      Development note
      
  </H2>




        I know about <SAMP class="word">ediff.el</SAMP>, which is much more complete package than
        this is. My aim was to develop a simple but handy package for
        everyday diff'ing and easy package patching.


</P>
  <A name="88" id="88"></A>
  <H2>
      Bugs
      
  </H2>




        The &quot;f&quot; key, which shows the function identifier in diff browse
        mode <SAMP class="word">tdi-mode</SAMP>, can handle buffers which are narrowed, but if the
        buffer is using folding.el or similar package where goto-line does
        not work properly, the returned message shown to user is not
        correct.


<P class="column8">
        Please unfold the buffer and you get the correct result.


</P>
  <A name="89" id="89"></A>
  <H2>
      Sending good bug reports
      
  </H2>




        If you find anything funny happening in the command line prompt
        while you use the tdi minibuffer commands. Immediately do
        following.

<P><UL>
	<LI>Turn on debug: <SAMP class="word">M-x</SAMP> <SAMP class="word">tdi-debug-toggle</SAMP>
	<LI>Turn on emacs debug: (setq debug-on-error t)
	<LI>Clear the debug buffer <EM class="word">tdi-debug</EM> if it exists
	<LI>Start from original situation
	<LI>Do what you did and when the weird condition is met
            immediately go to <EM class="word">tdi-debug</EM> buffer and save the
	            content and send it to the maintainer.
</UL>




</P>
           </BLOCKQUOTE>
           <HR>
               <A name="90"  id="90"></A>
               <H1>
               Tinydired.el &ndash; Dired enchancements. Backgroud Ange ftp support
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="91" id="91"></A>
  <H2>
      Preface, Jan 1996
      
  </H2>




        This package started evolving, when I wanted something more from
        ange-ftp, like background file loading. And i dind't want to get
        popped to .zip or .tar.gz buffer after loading remote gz/zip file.
        I just wanted to download the files somewhere other than inside
        emacs. I also wanted to <EM class="word">mark</EM> files for download and get them all
        at once. With standard <SAMP class="word">ange-ftp</SAMP> you would have to load them one
        by one. Sometimes I also wanted to go associated <SAMP class="word">ange-ftp</SAMP> buffer
        and give commands directly there. Thre should be a command to
        switch between ange-ftp and dired buffers.


<P class="column8">
        Now you can do this with standard <SAMP class="word">ange-ftp</SAMP> and Emacs dired.
        Hope you enjoy your ange ftp as much as I do now.


<P class="column8">
        Note: This paskage is just extension to <SAMP class="word">ange-ftp</SAMP>, consider
        getting next generation ange-ftp, the <SAMP class="word">EFS</SAMP>, if you want
        overall better and more complete interface. Use this package if
        you only need features like batch put/get at backround.


</P>
  <A name="92" id="92"></A>
  <H2>
      Overview of features
      
  </H2>




<P><UL>
	<LI>Connecting to VAX host minimally supported. You can navigate
            in vax dired buffer and load files. Nothing more.
	<LI>Few enchancements to dired mode. Eg. keep only one
            dired buffer when ascending to directory. Shorten symlinks.
	<LI>User can mark and put files into STORE and start a backgroud
            ange-ftp session to get STORED files into download directory
	<LI>Easy switching between ange-ftp session buffer and dired buffer
	<LI>Dealing with ange ftp buffers in general
            (x)  killing all ange buffers at once
            (x)  killing all ange + dired ange buffers at once.
            (x)  switching to ange buffers with completion
	<LI>Run &quot;!&quot; on ange ftp dired buffer (operate on local copy)
	<LI>customizable backup file flagging.
	<LI>other handy dired commands, like &quot;pop to this file in emacs.&quot;
	            &quot;find all marked files&quot;...
</UL>




</P>
  <A name="93" id="93"></A>
  <H2>
      Vax dired listing note
      
  </H2>




        When you connect to a VAX host; you may get some error message
        and you don't see the dired listing; don't panic. Just repeat the
        <SAMP class="word">C-xC-f</SAMP> command with


<PRE class="code">
      C-x ESC ESC
</PRE>


<P class="column8">
        And it should succeed second time. There are quirks in the VAX handling
        and if you run into it; the usual cure is:


<PRE class="code">
      Kill the VAX ange-ftp process buffer
</PRE>


</P>
  <A name="94" id="94"></A>
  <H2>
      XEmacs note
      
  </H2>




        The dired and ange-ftp implementation (nowadays efs) is
        completely differen than in Emacs


<P class="column8">
        ** THIS PACKAGE IS FOR Emacs ONLY **


</P>
  <A name="95" id="95"></A>
  <H2>
      General dired additions
      
  </H2>




        In simplest form. This module installs some functions in your
        dired hooks. Their purpose is

<P><UL>
	<LI>To keep your dired buffer sorted so that directories are
            always put first.
	<LI>Delete unwanted files from dired buffer automatically.
	<LI>Shorten the symlink references, so that they don't spread
	            multiple lines and ruin your view.
</UL>




<P class="column8">
        It also changes one dired function with <SAMP class="word">defadvice</SAMP>, so that you
        can control if you want to have only one dired buffer when
        ascending to another directory. See variable:


<PRE class="code">
      tdd-:use-only-one-buffer-flag
</PRE>


</P>
  <A name="96" id="96"></A>
  <H2>
      Dired and ange-ftp additions
      
  </H2>




        In general, when you want to start ftp session in emacs you just do


<PRE class="code">
      C-x C-f /login@site:/dir/dir/file
</PRE>


<P class="column8">
        Let's take an example: To see what new things has arrived
        to GNU site, you'd do this:


<PRE class="code">
      C-x C-f /ftp@prep.ai.mit.edu:/pub/gnu/
</PRE>


<P class="column8">
        After that you are put into the dired listing, where you
        can mark files with dired-mark command


<PRE class="code">
      &quot;m&quot;
</PRE>


<P class="column8">
        Now you have files ready. Next put files into batch STORAGE.
        There is &quot;a&quot; prefix for ange-ftp related commands.


<PRE class="code">
      &quot;a&quot; &quot;S&quot;     big S put selected files into storage
      &quot;a&quot; &quot;q&quot;     to check what files you have batched
      &quot;a&quot; &quot;c&quot;     to clear the batch storage
</PRE>


<P class="column8">
        Now start ftp'ding the files in background. You're prompted
        for the download directory.


<PRE class="code">
      &quot;a&quot; &quot;g&quot;     &quot;get&quot; files
</PRE>


<P class="column8">
        If you want to operate on the associated ftp buffer
        directly, there is command


<PRE class="code">
      &quot;a&quot; &quot;b&quot;     b for &quot;buffer change&quot;
</PRE>


<P class="column8">
        that puts you into ftp, where the dired buffer refers. When
        you're in the ftp buffer you have some keybinding available.


<PRE class="code">
      C-c f       insert stored files on the line
      C-c d       insert directory name
      C-c b       back to dired window
</PRE>


<P class="column8">
        It's sometimes handy that you can give direct ftp commands.


</P>
  <A name="97" id="97"></A>
  <H2>
      Setting up ange ftp
      
  </H2>




        Here is my settings, which you can use as a reference so that you
        get the ange running. For more details, see the ange-ftp.el's
        source code. These settings include firewall &quot;ftpgw.poboxes.com&quot;

 ;; (setq ange-ftp-generate-anonymous-password t)
 (setq ange-ftp-dumb-unix-host-regexp  &quot;tntpc&quot;) ;PC hosts
 (setq ange-ftp-gateway-host &quot;ftpgw.poboxes.com&quot;)
 (setq ange-ftp-smart-gateway t)
 (setq ange-ftp-local-host-regexp &quot;\\.myhost\\.\\(com|fi\\)|^[^.]*$&quot;)
 ;;  Always use binary
 (setq ange-ftp-binary-file-name-regexp &quot;.&quot;)
 (autoload 'ange-ftp-set-passwd &quot;ange-ftp&quot; t t)
 (setq ange-ftp-generate-anonymous-password &quot;jari.aalto@poboxes.com&quot;)


</P>
  <A name="98" id="98"></A>
  <H2>
      How to use this modeule 3 &ndash; special vc
      
  </H2>




        There are some extra commands that you may take a look at.
        See source code of bind function


<PRE class="code">
      tdd-default-other-bindings
</PRE>


<P class="column8">
        What additional commands you get when loading this module.


<P class="column8">
        The VC special commands were programmed, because I felt that the
        C-x v v in dired mode didn't quite do what I wanted. I wanted
        simple ci/co/revert commands for files that were in VC control.
        And I wanted to handle them individually, expecially when ci'ing.
        (written for Emacs 19.28).


<P class="column8">
        This VC part of the package is highly experimental.
        I'm not sure if I support it in further releases.


</P>
  <A name="99" id="99"></A>
  <H2>
      Important ange-ftp interface note
      
  </H2>




        The ange ftp batch interface used here may cause unpredictable
        problems. Sometimes the <SAMP class="word">get</SAMP> or <SAMP class="word">put</SAMP> process doesn't start at all
        although you see message saying it started the job. I have had
        several occurrances where <SAMP class="word">lcd</SAMP> cmd succeeded, but then nothing
        happened. Repeating the <SAMP class="word">put</SAMP> or <SAMP class="word">get</SAMP> command cleared the problem
        whatever it was.


<P class="column8">
        So, never trust the message <SAMP class="word">completed</SAMP>, unless you saw that the
        download percentage count started running. If you're downloading
        important file, double check the real ftp buffer for correct response.
        Try again if ftp wasn't started. Another way to clear the problem: kill
        the ange ftp buffer and try the command from dired again. It
        automatically opens session to the site.


</P>
  <A name="100" id="100"></A>
  <H2>
      Advertise &ndash; other usefull packages
      
  </H2>




        There are exellent dired extensions around, please consider getting
        these packages:

<P><UL>
	<LI>dired-sort.el (requires date-parse.el)
	<LI>dired-tar.el
</UL>




</P>
  <A name="101" id="101"></A>
  <H2>
      Note: Slow autoload
      
  </H2>




        When you have added the autoloads into your .emacs, the first time
        you bring up dired buffer may be quite slow. This is normal, Emacs
        just need to load some additional files that this package uses.


</P>
  <A name="102" id="102"></A>
  <H2>
      Note: Refreshing the view takes long time / point isn't exatly the same
      
  </H2>




        This is normal, dired is just slow and program has to do lot of
        work to maintain the &quot;view&quot;. Eg. save view, save marks, delete
        marks, revert, sort, restore marks... Only the current line
        position is preserved where user was, not point.


</P>
  <A name="103" id="103"></A>
  <H2>
      Note: Code
      
  </H2>




        Emacs ships with package <SAMP class="word">dired-x.el</SAMP>, which seems to offer some
        more goodies to dired. Currently, if the <SAMP class="word">dired-x</SAMP> is detected the
        appropriate functions in this package are diabled, to prevent
        overlapping behavior. However, if the function behaves differently
        than the one in some dired extension package, then the function
        isn't disabled. Eg. see <SAMP class="word">tdd-load-all-marked-files</SAMP>, which can turn
        off marks.


</P>
  <A name="104" id="104"></A>
  <H2>
      Note: limited vax directory support
      
  </H2>




        You can connect to VAX host with <SAMP class="word">find-file</SAMP> and this package
        provides modified functions to allow you to use <SAMP class="word">f</SAMP> in dired
        and load file into Emacs. Any other TinyDired commands are
        disabled in dired vax buffer.  Don't try anything fancy there,
        you know that it isn't unix ls buffer.


<P class="column8">
        See function <SAMP class="word">tdd-remove-bindings</SAMP>. You must add your own
        keyboard disable function if you have added tdd functions to
        other bindings than the default to disable this package in
        VAX buffers. Add your disable funcion to


<PRE class="code">
      tdd-:readin-hook
</PRE>


</P>
  <A name="105" id="105"></A>
  <H2>
      Note: limited dos directory support
      
  </H2>




        You can connect PC hosts that print 'dir' into the dired buffer.
        Your only command available is `f, just like in vax dired, so
        please don't even try any other choices.


<P class="column8">
        The PC support is experimental and is based on unix --&gt; lan
        connected PC which is running <SAMP class="word">pctcp</SAMP> software: win 3.11
        (workgroup) <SAMP class="word">ctlapp.exe</SAMP> ftp server. Do not mail me about PC
        support, since I won't fix it if it doesn't work. Get <SAMP class="word">efs</SAMP>
        distribution if you need PC ftp support.


</P>
           </BLOCKQUOTE>
           <HR>
               <A name="106"  id="106"></A>
               <H1>
               Tinyeat.el &ndash; Eating blocks of text forward, backward
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="107" id="107"></A>
  <H2>
      Preface, overview of features
      
  </H2>




<P><UL>
	<LI>Determine how much text should be eaten around current cursor
            position. Eat extra spaces, extra newlines, next word
            next statement, next comment ... whatever is appropriate
	<LI>When you grow accustomed to this, it probably replace your
            old deleting habbits.
	<LI>Can also eat inside mixed case word: WordsThatAreLikeThis
	<LI>you can yank &quot;overwrite&quot; text under cursor with Meta mouse-2 or
            Meta C-y. (Std Emacs in overwrite mode doesn't allow you to
	            yank/overwrite)
</UL>




</P>
  <A name="108" id="108"></A>
  <H2>
      Non-windowed and Windowed Emacs
      
  </H2>




        This package works <STRONG class="word">best</STRONG> in windowed Emacs, because in Windowed
        environment you can use the modifiers Control, Alt and Meta
        freely with another keys. The idea of this package is to overload
        your single key, <SAMP class="word">backspace</SAMP>, as much as possible with various
        delete functionalities.


<P class="column8">
        In non-windowed Emacs there is no key named <SAMP class="word">backspace</SAMP>, so we have to
        rebind standard Emacs bindings instead. Many of this packages features
        are also unused because there are no suitable keys to bind the
        commands to. In non-windowed Emacs the extra bindings have
        been marked with (*):


<PRE class="code">
                      was                 now
      -------------------------------------------------------------
      Meta s          &lt;none&gt;              tie-backward-preserve (*)
      Meta d          kill-word           tie-forward-preserve  (*)
      Meta SPC        just-one-space      tie-delete-whole-word (*)
      Meta k          kill-sentence       tie-delete-paragraph  (*)
      Meta C-d        down-list           tie-kill-line-back    (*)
      Meta ESC        mark-defun          tie-erase-buffer
      Meta C-y        &lt;none&gt;              tie-yank-overwrite
</PRE>


</P>
  <A name="109" id="109"></A>
  <H2>
      Story behind this package
      
  </H2>




        I got sick of moving cursor around the point and using del/backspace
        when writing C++ and LISP symbols. Say I have:


<PRE class="code">
      (defun lisp-symbol-name-myname          ()
                              *
</PRE>


<P class="column8">
        And I decide I want to change that 'myname' to something
        else. Normally I'd have to reach out for ESC-d for <SAMP class="word">kill-word</SAMP> to
        delete <SAMP class="word">myname</SAMP>. Then I'd type a new name:


<PRE class="code">
      (defun lisp-symbol-name-mynew           ()
                                   *
</PRE>


<P class="column8">
        Now I notice that there are extra spaces involved, I don't want
        those before the '()' characters. I have to call <SAMP class="word">fixup-whitespace</SAMP>
        for that ... damn it's not bound to any keys by default (in this
        particular Emacs I'm using), so I have to type it the long way
        round: <SAMP class="word">M-x</SAMP> <SAMP class="word">fixup-whitespace</SAMP>. Now I'm beginning to think: &quot;Oh,
        why I didn't I bind it to some key...&quot;.  Next I notice that the
        'symbol-name-mynew' wasn't good name after all, So I decide to
        delete 3 words backward. Now, how do I do that?


<PRE class="code">
      (defun lisp-symbol-name-mynew ()
                                   *
</PRE>


<P class="column8">
        Where is the command to delete backward ... (I start stimulating my
        brain cells). After spending valuable minutes to find the
        <SAMP class="word">delete-backward-word</SAMP> command: &quot;Rats again, there is no such
        command&quot;. I end up tapping backspace until I reach the correct
        point:


<PRE class="code">
      (defun lisp- ()
                  *
</PRE>


<P class="column8">
        And start typing new name...


<PRE class="code">
      (defun lisp-my-func ()
</PRE>


<P class="column8">
        Then I suddenly notice that there is too many newlines above my
        newly created function: &quot;I really should delete those 5 extra ones
        above function&quot;.  &quot;Now, how do I kill backward 5 emnpty lines ? The
        <SAMP class="word">kill-line</SAMP> in C-k kills only forward&quot; ...


</P>
  <A name="110" id="110"></A>
  <H2>
      Lesson learned
      
  </H2>




        As you can notice, we often spend most of our time to position the
        cursor to the right spot and deleting text over there.. over here
        ..  typing more .. changing our mind ... etc.


<P class="column8">
        I thought it was time to do something creative, so that I wouldn't
        have to worry about the deleting of text so much. This package
        provides <STRONG class="word">smart</STRONG> deleting of text, whether you want to delete
        forward of backward. Naturally it isn't capable of miracles, it
        just does few guesses, and a guess may be wrong.


<P class="column8">
        If you end up in a situation where you suddenly notice that vast
        area of text have just vanished from you buffer, remember, there is
        no need to panic. Just send a bug report to me, and hit <SAMP class="word">undo</SAMP>.


<P class="column8">
        I'd be surprised if you ever want to discard this package when you
        have tried it. Can I smile happily at this point?


</P>
  <A name="111" id="111"></A>
  <H2>
      Default keybindings
      
  </H2>




        chunk delete: words, spaces, symbols ...


<PRE class="code">
      <              >                  <> [Delete whole word]
      Alt-Backspace   Control-backspace   Shift-Backspace
</PRE>


<P class="column8">
        Line delete


<PRE class="code">
      <              >                  <> [zap whole line]
      Alt-Backspace   Control-k (Alt-k)   Control-k
      + Shift                             + Alt
</PRE>


<P class="column8">
        Buffer delete


<PRE class="code">
      \/              /\                  \//\             ZAP
      untill pmax     untill pmin         Paragraph delete Whole buffer
      C-A-backspace   C-A-Backspace       C-S-backspace    Esc-Backspace
                      + Shift

</PRE>


<P class="column8">
        Joining next line to the end of current line: Esc Control-backspace


<P class="column8">
        <SPAN class="word-ref">[Some minibuffer hotkeys]</SPAN>


<PRE class="code">
      f1  = Kill whole line.
      f2  = Delete line backward (to the left)
</PRE>


<P class="column8">
        <SPAN class="word-ref">[Mouse binding]</SPAN>


<PRE class="code">
      (Alt|meta)-Mouse-2 overwries text when pasting.

</PRE>

</P>
           </BLOCKQUOTE>
           <HR>
               <A name="112"  id="112"></A>
               <H1>
               Tinyef.el &ndash; (E)lectric (f)ile minor mode. Easy filename composing
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="113" id="113"></A>
  <H2>
      Preface, Apr 1995
      
  </H2>




        I saw a post in gnu.emacs.sources (what a source of inspirations),
        where one of my friend Anders Lindgren <EM><A HREF="mailto:andersl@csd.uu.se" >andersl@csd.uu.se</A></EM> posted
        the basic code that allowed electric ~ and electric / character to
        wipe out full (mini)buffer in certain cases.


<P class="column8">
        What you see here, is complete rewrite and enchancement of that
        code. This is a real must for any minibuffer file handling.


</P>
  <A name="114" id="114"></A>
  <H2>
      Overview of features
      
  </H2>




<P><UL>
	<LI>Easy filename editing. Deletes directories at time, delete line
            backward, electric tilde, electric slash, electric colon etc..
	<LI>This is a must for minibuffer's <SAMP class="word">C-x</SAMP> <SAMP class="word">C-f</SAMP> command
	<LI>Mouse-3 in minibuffers clears the input and with mouse-2
	            you can paste from cutbuffer.
</UL>




</P>
  <A name="115" id="115"></A>
  <H2>
      Description
      
  </H2>




        Believe or not, but for years I didn't understood what an earth
        &quot;electric&quot; meant. I had heard many e-modes mentioned in the net,
        but never much payed attention to them... until now.  Well, this
        package isn't that <EM class="word">electric</EM>, because it only defines some keys to
        be electric and it needs some other keys solely to its own use
        (you can't insert these chars to buffer without <SAMP class="word">C-q</SAMP> <SAMP class="word">CHAR</SAMP>)


<P class="column8">
        If you're another non-english speaking, as I am, the electric means
        that the character you press behaves differently if the pressing
        happens around certain other charcters (anyway, some condition is
        met which triggers this other behavior). Other than that, the
        character behaves normally.


<P class="column8">
        Here is smple graph to give you an overview of what this mode does.
        In these presented cases cursor it at the end of line.
        Alternatively, just load this file, press C-x C-f and experiment
        with keys &quot;[]\/~&quot;.

<P><UL>
	<LI>b> means what's on the line <EM class="word">before</EM>
	<LI>a> means what's there <EM class="word">after</EM>
	<LI>&quot;&quot;  means what you just pressed
	<LI>[]  means which action the character triggered
</UL>




<PRE class="code">
      b> <A HREF="http:/www.site.com/~userFoo/dir1/dir2/dir3/" target="_top">http:/www.site.com/~userFoo/dir1/dir2/dir3/</A> &quot;/&quot; [e-slash]
      a> http:/
      The e-slash action wiped out the line, because writing
      two slashes normally indicates, that you want to give
      another path

      b> ~/dir1/dir2/dir3/                       &quot;~&quot; [e-tilde]
      a> ~
      The action wiped the line away, because it assumed
      you want to give &quot;~userFoo&quot; or another &quot;~&quot; relative path

      b> ~/dir1/dir2/dir3/                       &quot;[&quot; [step-delete-back]
      a> ~/dir1/dir2/
      The action wiped previous directory name or until
      special mark, See code, defaults are  &quot;:/@&quot; (ange-ftp things)

      b> ~/dir1/dir2/                            &quot;=&quot; [undo]
      a> ~/dir1/dir2/dir3/
      The action works like normal undo.

      b> ~/dir1/dir2/                            &quot;\&quot; [chunk-delete]
      a>
      The action deleted whole line. It deletes until special marks
      like &quot;@:&quot;. If repeated, it deletes constantly backward
</PRE>


</P>
  <A name="116" id="116"></A>
  <H2>
      Automatic Intallation
      
  </H2>




        This file includes function


<PRE class="code">
      tief-install
</PRE>


<P class="column8">
        which hooks the mode to the appropriate places. Eg. to your
        minibuffer. If you're in trouble, you can always turn this mode off
        with the supplied hotkey, which is by default.


<PRE class="code">
      C-c \
</PRE>


<P class="column8">
        You can't &quot;see&quot; whether mode is on or off in minibuffer, since it
        doesn't have its own mode line. But calling the hotkey will tell
        you the state change.


<P class="column8">
        You can also remove this mode completely from your emacs if you need
        to do that in emergencies. just call following function with
        some prefix argument like <SAMP class="word">C-u</SAMP>.


<PRE class="code">
      tief-install
</PRE>


</P>
  <A name="117" id="117"></A>
  <H2>
      Mouse bindings in minibuffer
      
  </H2>




        When this package loads, it calls function <SAMP class="word">tief-install-mouse</SAMP>
        which defined following bindings to your minibuffer


<PRE class="code">
      &lt;-- BIG erase backward from point Mouse-3 (because it's free)
      &lt;-- Small delete backward C-mouse-1. Use C-mouse-3 to undo( --&gt;)
</PRE>


<P class="column8">
        This should give your free hands to cut,paste and Delete, without
        lifting your hand off the mouse.




</P>
           </BLOCKQUOTE>
           <HR>
               <A name="118"  id="118"></A>
               <H1>
               Tinygnus.el &ndash; Gnus Plug-in. Additional functions. UBE fight etc.
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="119" id="119"></A>
  <H2>
      Preface, Sep 1997
      
  </H2>




        I haven't have a chance to try the new Gnus 5 for a long time
        because the envinronment didn't have Emacs 19.34. And when the
        sysadm installed it, I started slowly moving from my dear RMAIL
        (that I had configured to work very well) to the bold and beatiful
        Gnus. I had also started using procmail and subscribed to many
        mailing lists, so the only choice to manage all my mail was
        Gnus. Here you find some functions that I found usefull.


</P>
  <A name="120" id="120"></A>
  <H2>
      Overview of features
      
  </H2>




<P><UL>
	<LI>A sample .gnus startup file is available.
            Send email containing <STRONG class="word">subject</STRONG> 'send help' to [jari]
	<LI>Automatic reload of files when entring group with SPACE
            (mimic  Newsgroup behavior)
	<LI>You can have compresses .eld file. If you compress .gnus to
            .gnus.gz then the .eld files will be compressed too to .eld.gz
	            This saves you disk space in low quota account.
</UL>



<P><UL>
	<LI>Fast read group by showing only unread (newly arrived)
            articles. Speeds up reading your mail groups by 10x.
	<LI>Show immediately dormants in non-nntp groups. some people
            use dormant mark ? in their private mail groups as <SAMP class="word">todo</SAMP>
            and to be able to see those todo articles immediately saves
            you 5x time, when you don't have to separately limit to
	            dormants.
</UL>



<P><UL>
	<LI>Ready %uX user function that you can use in the *-line-format
            strings.
	<LI>Group User format function: &quot;expiry&quot;, Tell the expiry value
            for the group and varaious other values.
	<LI>Group User format function: &quot;comment&quot;, Tell the group comment.
	<LI>Group User format function: &quot;tick&quot;,    Tell if group has ticks.
</UL>



<P><UL>
	<LI>Send UBE complaint to all postmasters in Received headers.
            The ip addresses of postmasters are nslookup verified. You
            can select either individual article or process mark multiple
	            articles.
</UL>




</P>
  <A name="121" id="121"></A>
  <H2>
      Url pointers
      
  </H2>




<P><UL>
	<LI>Procmail information can be found from pm-tips.txt file.
            You get that by sending email with subject &quot;send help&quot; to
            [jari]
	<LI>Gnus can be found from <A HREF="http://www.gnus.org/" target="_top">http://www.gnus.org/</A>
</UL>




</P>
  <A name="122" id="122"></A>
  <H2>
      Fighting against UBE messages
      
  </H2>




        Many of us receive UBE (Unsolicited Bulk Email) and if we don't do
        anything to stop them, then the practice comes approved de facto
        internet convention. It is important that you complaint about every
        piece of UBE you may receive, your vote counts and it will also
        give you satisfaction to know that most of the postmasters kick off
        the idiot in the other end of the wire. I have provided two functions
        in this module:


<PRE class="code">
      tign-article-ube-send-to-postmasters    U      key, U = UBE
      tign-summary-ube-send-to-postmasters    C-c'u  key, send UBE
</PRE>


<P class="column8">
        The first function is fully interactive and it reads the current
        active article and composes <SAMP class="word">forward</SAMP> message to all postmasters
        mentioned in the <SAMP class="word">received</SAMP> header chain. Before sending you have
        a chance to reformat the article anyway you like.


<P class="column8">
        The latter function is usefull to batch send complaints: you
        process mark(#) articles in summary buffer, Hit C-c'u, and each
        article is processes and complaint send to postmasters. Before
        sending message, the function asks confirmation. You can suppress
        the confirmation with C-u prefix argument. <STRONG class="word">Note</STRONG>: It may take some
        time to compose all complaints if you have marked many articles,
        because parsing Received headers and checking them with <SAMP class="word">nslookup</SAMP>
        may be slow. If you use <SAMP class="word">procmail</SAMP> or Gnus split methods to flter
        your UBE mail to one single newsgroup, say <SAMP class="word">junk.ube</SAMP>, Then you can
        mark all messages in the newsgroup and handle all the UBE you have
        received in a whip.


<P class="column8">
        Someone may ask why the complaint message is sent to <EM class="word">postmaster</EM>
        address, while recently sites have set up an <EM class="word">abuse</EM> addresses as
        well. That's simply because RC822 requires that each has an email
        address should have postmaster account and you should be able
        to count on delivery to that address.


<P class="column10"><EM class="quote10">
          ...standard specifies a single, reserved  mailbox  address
          (local-part)  which  is  to  be valid at each site.  Mail sent to
          that address is to be routed to  a  person  responsible  for  the
          site's mail system or to a person with responsibility for general
          site operation.  The name of the reserved local-part address is:</EM>



<PRE class="code">
                            Postmaster
</PRE>


<P class="column10"><EM class="quote10">
          so that &quot;postmaster@domain&quot; is required to be valid. Some domains
          have opened specific addresses where you can send these
          xomplains, eg abuse@aol.com, fraud@uu.net. If you know a specific
          address where to send the complaint, update
          <SAMP class="word">tign-:ube-abuse-account-table</SAMP></EM>



</P>
  <A name="123" id="123"></A>
  <H2>
      Gathering information from articles (eg. URLs)
      
  </H2>




        If you read group that has very high traffic, and don't have to time
        to read all articles, but you're are still interested in seeing
        if there are any good urls mentioned, you can use function below.
        It will not record duplicate urls, only unique ones.


<PRE class="code">
      C-c ' g u       tign-summary-gather-urls
</PRE>


<P class="column8">
        Function steps through all marked articles (Mark command in summary
        buffer is in M P submap), examines each message and puts the urls
        in <SAMP class="word">tign-:output-buffer</SAMP>. You can clear and display with commands:


<PRE class="code">
      C-c ' g d       tign-summary-gather-display
      C-c ' g c       tign-summary-gather-clear
</PRE>


</P>
  <A name="124" id="124"></A>
  <H2>
      Configuring the user format functions
      
  </H2>




        Before you load this file, you should configure the variable
        <SAMP class="word">tign-:uff-table</SAMP> so that it won't clash the definitions of your
        own gnus-user-format-function-X. If you load this file without
        modifying the table, it will replace all susch existing functions
        according to that table.


<P class="column8">
        In case you don't know what I'm talking about, Go to Emacs info
        pages C-h i, Go to GNUS, select 'g' and enter 'Summary Buffer
        Lines' RET. Look at the specifier %uX, where X is anything.


</P>
  <A name="125" id="125"></A>
  <H2>
      Enhanced Gnus functions
      
  </H2>





<P class="column9"><STRONG>
         <SPAN class="word-ref">[Entering group in Topic mode with SPC]</SPAN></STRONG>



<P class="column8">
        Function <SAMP class="word">gnus-topic-read-group</SAMP> is enhanced to maximize speed of
        reading new articles. Normally when you enter Group, gnus shows
        unread and ticked articles, but if you have any previously ticked
        articles in group, making the summary buffer is slow. If we
        ignore the ticked articles and display only the newly arrived,
        unread, articles, the time to generate Summary buffer is 10x less.


<P class="column8">
        If you have many private mail,work, mailing list groups, this
        saves you from lot of time to be able to track new messages.


<P class="column9"><STRONG>
         <SPAN class="word-ref">[Showing dormants immediately in non-nntp groups]</SPAN></STRONG>



<P class="column8">
        Function <SAMP class="word">gnus-summary-limit-children</SAMP> is enhanced so that
        it will include dormant articles in Summary creation in non-nntp
        groups. Some people found out that the dormant mark ? is handy
        in mail groups to mean <SAMP class="word">todo</SAMP> or `see this later' or <SAMP class="word">urgent</SAMP>.
        Normally gnus treats all groups the same: nntp or private mail
        makes no difference. However the dormant mark can be used to mean
        different meaning in nntp group and non-nntp groups and this
        enchancement does just that.


<P class="column8">
        You get fast Summary with dormants now and you don't need to
        separately limit the buffer to show the dormants. To turn off
        this feature, set <SAMP class="word">tign-:show-dormants</SAMP> to nil.


</P>
  <A name="126" id="126"></A>
  <H2>
      Compressed Gnus newsrc files
      
  </H2>




        Having a unix account that has unlimited disk space is very rare
        and for that reason you should be able to keep files in compressed
        format as much as possible to save disk space so that you don't go
        over your Quota and see that annoying &quot;Quota limit exceed,
        remove nnnK withing N days...&quot;.


<P class="column8">
        Gnus 19.34 has support for Group files, but not for the bloating
        newsrc or .eld files. Gawk. They consume your disk real fast<BR>
        because they become real big in no time.


<P class="column8">
        For that reason I have included adviced Gnus code that
        automatically starts using compressed startup files if your
        <SAMP class="word">gnus-init-file</SAMP> has extension <SAMP class="word">.gz</SAMP>. Changing from normal init
        file to compressed one is easy:

<P><OL>
	<LI>gzip your .newsrc and .eld files
	<LI>(setq tign-:z &quot;.gz&quot;)
	<LI>M-x load-library RET tinygnus RET
</OL>




<P class="column8">
        If you later want to restore this settings: Unzip, do (setq tign-:z
        nil), and reload the package. But if you're of low quota, you
        propably do the reverse operation.


<P class="column8">
        I don't know about newer Gnus versions, I do hope that the full
        file compression is avilable there.


</P>
  <A name="127" id="127"></A>
  <H2>
      Gnus version note
      
  </H2>




        This file installs only features to Gnus 5.3 (Emacs 19.34) and
        if you're using newer gnus version the advice code is not activated.
        Using this package should be safe with any existing Gnus version
        later than 5.3.


</P>
  <A name="128" id="128"></A>
  <H2>
      Line format example for *Group* buffer
      
  </H2>




        I have configured my Group buffer line as follows to Qgnus(1997-10)
        If you try this with older gnus, drop away that fancy ~(cut 6) and
        use plain %d. I use procmail to <SAMP class="word">process</SAMP> my mail.


<PRE class="code">
      (setq gnus-topic-line-format &quot;%i%(%{%n%}%) %A &ndash; %g %v\n&quot;)

      (add-hook 'gnus-select-group-hook   'gnus-group-set-timestamp)
      (defconst gnus-group-line-format
          &quot;%M%S%p%3uZ[%L]%-4uE%uT %5y: %-40,40g %7,7~(cut 6)d %uC\n&quot;)
</PRE>


<P class="column8">
        Which looks like the following in the buffer, notice that the topic
        mode is on.


<PRE class="code">
      Procmail 34 &ndash; 9
        [2]3.g       0: nnml:list.ding        30T1810
        [2]3.        0: nnml:list.ntemacs     30T1819
      * [2]3.  !     0: nnml:list.procmail    30T1850
        [2]2.t      33: nnml:list.flamenco    30T1849
         | |   |                              %d
         | |   %uT
         | The whole &quot;2.t&quot; comes from %uE
         %L
</PRE>


<P class="column8">
        There you can see the benefit of the user functions. The <SPAN class="word-ref">[2]</SPAN> tells
        the group level, &quot;2.t&quot; says &quot;2&quot; day Expiry, &quot;.&quot; means that the
        perior is explicitely defined as a group parameter and &quot;t&quot; means
        that total expiry in the group parameter list is also on. Do you
        see the extra <SAMP class="word">g</SAMP> at the top line? It tells that the <SAMP class="word">gcc-self</SAMP>
        group parameter is activated in group parameter list. If group has
        Ticked articles, the %uT will show it. The %ud says &quot;Day 30 in the
        month, Time 18:10&quot; when you read the group.


<P class="column8">
        All these additional functions that display these status informations
        canb be found from this package.


</P>
  <A name="129" id="129"></A>
  <H2>
      Displaying the group parameter info
      
  </H2>




        As you saw above, the %uE function, or more precisely,
        <SAMP class="word">tign-uff-group-expiry</SAMP> controls what information is returned by
        looking at <SAMP class="word">tign-:uff-table</SAMP>. Please configure it to display
        whatever you want from group parameters.


</P>
  <A name="130" id="130"></A>
  <H2>
      Article wash functions
      
  </H2>




        If you are interested, you can add following function(s) to the
        <SAMP class="word">gnus-article-display-hook</SAMP>


<P class="column8">
	<P><UL>
	<LI><SAMP class="word">tign-article-fix-msword-quotes</SAMP>
</UL>






</P>
           </BLOCKQUOTE>
           <HR>
               <A name="131"  id="131"></A>
               <H1>
               Tinyhotlist.el &ndash; Hotlist of important buffers, files(ange-ftp), dired
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="132" id="132"></A>
  <H2>
      Preface, may 1995
      
  </H2>




        I'm big fan of 'msb.el', but when it comes to having important
        files at hand, I really need some companion with it. When I'm
        having an emacs session, it's very common that when I have 20 C++
        files in emacs. I start reading news while the compile it going on
        its own buffer <SPAN class="word-ref">[normally I have 15min break]</SPAN>, then I see some
        interesting article and I want to try some lisp code .. let's load
        couple of .emacs.XXXX configurable files. Then I realize that there
        is mail coming, because <SAMP class="word">dragbar-time.el</SAMP> tells me that, I switch to
        rmail and start reading the latest messages... Within that 15
        minute my emacs if full of buffers and when I use MSB to navigate
        through them I get frustrated: &quot;Where was that buffer again, do I
        need to step 3 panes before I can see that file...&quot;


<P class="column8">
        The navigation is especially problem if I'm only working with
        handful of source files <STRONG class="word">actively</STRONG>, while I still have 30+ files
        <STRONG class="word">loaded</STRONG>.


<P class="column8">
        What I really need, is a simple hotlist for my most recent files,
        where I can put/remove items very easily, and which I can
        immediately call. No more searching like in msb.el.


<P class="column8">
        Don't get me wrong, I'd never give <SAMP class="word">msb</SAMP> away, it's superb in class
        of its own, but I also need the hotlist, because the most recent
        files page in msb changes dynamically whenever I change buffers,
        but my hotlist stays the same, unless I remove item from it.


</P>
  <A name="133" id="133"></A>
  <H2>
      Overview of features
      
  </H2>




<P><UL>
	<LI>Provides X popup where you can add/remove current buffer.
            Kinda 'most important work file list'. In non-windowed system,
            you get completion menu instead of X-popup.
	<LI>You can keep any persistent files in hotlist: even ange-ftp files.
            Dired buffers can be saved to hotlist too.
	<LI>Hotlist can be saved and read on startup.
	<LI>This is not &quot;last visited files&quot; list, but persistent list of
            files. When you select item from hotlist the file is displayed
            if it is in Emacs, or loaded (by using ange-ftp if necessary)
	            if it wasn't.
</UL>




</P>
  <A name="134" id="134"></A>
  <H2>
      How to use the hotlist
      
  </H2>




        When you load this package, it defines hotlist cache to store the
        items. Obviously the list will be empty at first, but after you
        have added entry to it, you'll get the hotlist visible. How entries
        are added or removed from hotlist, is explained in function:


<PRE class="code">
      C-h f tiho-control
</PRE>


<P class="column8">
        If you use add/remove commands lot and you can spend some keybindings,
        you can define following bindings too. You don't necessarily need
        these, because you can always give the right prefix argument to
        <SAMP class="word">tiho-control</SAMP> that does exactly the same.


<PRE class="code">
      (global-set-key [(shift f3)]   'tiho-add)
      (global-set-key [(control f3)] 'tiho-remove)
</PRE>


<P class="column8">
        Non-windwed users can use the popups via completion menu, while
        it's not as nice as X-popup. Call this function from keyboard.


<PRE class="code">
      tiho-control-kbd
</PRE>


<P class="column8">
        Here is an example of the displayed hotlist in X popup. The second
        string to the right is abbreviation name of the directory, eg <SAMP class="word">~ftp1</SAMP>
        is a shortname for /user@site.com:~user/project/this/. The <SAMP class="word">txt</SAMP> is
        shortname for $HOME/doc/txt/


<PRE class="code">
      +-------------------+
      |hotlist            |
      |===================|
      |*Backtrace*        |
      |*VC-log*           |
      |.emacs             |
      |.procmailrc        |
      |ChangeLog          |
      |RMAIL              |
      |file.txt     txt   |
      |other.txt    txt   |
      |remote.cc    ~ftp1 |
      |remote.cc    ~ftp2 |
      +-------------------+
</PRE>


</P>
  <A name="135" id="135"></A>
  <H2>
      Shortening long filenames
      
  </H2>




        The typical menu item is quite long, because there is buffer name
        and filename part. The default rule shortens the home directory
        names to &quot;&quot; but if your file is elswhere, you have to modify the
        <SAMP class="word">tiho-:abbreviate-file-name-table</SAMP>. There is examples how to use it
        at the end of source file. Like:


<PRE class="code">
      /user@site.com:~user/project/this/  --&gt; ~ftp1
</PRE>


</P>
  <A name="136" id="136"></A>
  <H2>
      Hooks: saving hotlist after each cache update
      
  </H2>




        The buffers are stored into variable <SAMP class="word">tiho-:cache</SAMP> and there is two
        hooks that run after the entry is deleted or added to the cache.
        The hooks are <SAMP class="word">tiho-:add-hook</SAMP> and <SAMP class="word">tiho-:remove-hook</SAMP>. They contain
        default value <SAMP class="word">tiho-save-hotlist</SAMP> which updates the cache on disk
        after each change. You can set these hooks to nil if you want to
        manually control when to save cache. (Maybe you load BASE cache
        everytime and modify it during Emacs session, but you mdon't want
        to save this &quot;session&quot; hotlist).


<PRE class="code">
      (add-hook 'tiho-:load-hook 'my-tiho-load-hook)

      (defun my-tiho-load-hook ()
        &quot;My hotlist settings&quot;
        (setq tiho-save-hotlist nil   tiho-:remove-hook nil)
        )
</PRE>


</P>
  <A name="137" id="137"></A>
  <H2>
      Saving and restoring the hotlist
      
  </H2>




        When you're satisfied with the hotlist, save it to file with command:


<PRE class="code">
        M-x tiho-save-hotlist
</PRE>


<P class="column8">
        If you want to automatically restore the hotlist, when package loads:


<PRE class="code">
      (add-hook 'tiho-:load-hook 'tiho-load-hotlist)
</PRE>


<P class="column8">
        If you want that the <STRONG class="word">current</STRONG> hotlist is automatically saved when
        you exit Emacs, add also this:


<PRE class="code">
      (add-hook 'kill-emacs-hook 'tiho-save-hotlist)


</PRE>

</P>
           </BLOCKQUOTE>
           <HR>
               <A name="138"  id="138"></A>
               <H1>
               Tinyigrep.el &ndash; Top level interface to igrep.el
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="139" id="139"></A>
  <H2>
      Preface, Dec 1996
      
  </H2>




        Some time during summer 1996 Kevin Rodgers <EM><A HREF="mailto:kevinr@ihs.com" >kevinr@ihs.com</A></EM>
        decided to put together all grep calls to one package, igrep.el:
        <SAMP class="word">agrep</SAMP>, <SAMP class="word">egrep</SAMP>, <SAMP class="word">fgrep</SAMP> and <SAMP class="word">zgrep</SAMP>. It also could search trees
        recursively.


<P class="column8">
        I immediately picked up the package from the emacs sources group
        and started using it in my emacs. The default <SAMP class="word">M-x</SAMP> <SAMP class="word">grep</SAMP> command
        that comes with emacs is pale shadow compared to <SAMP class="word">igrep.el</SAMP>. There
        were usually some common directories that I wanted to grep all the
        time, like news articles, info pages, my project directories, lisp
        sources, my Emacs init files, so I started to building top level
        interface to utilize <SAMP class="word">igrep.el</SAMP> to its fullest potential.


</P>
  <A name="140" id="140"></A>
  <H2>
      Description
      
  </H2>




<P><UL>
	<LI>Toplevel interface to <SAMP class="word">igrep.el</SAMP>: Easy command menu access.
	<LI>You can toggle igrep options while you're using the
            echo-area menu.
	<LI>You can directory searches easily: grep all your
            news files, your Emacs news files, your text files, your lisp
            files, grep all manual paths... just configure one variable.
            You can jump to matches from the <EM class="word">compile</EM> buffer where
            the results appear, like when using normal grep.
	<LI>The default installation included many default directories
            to search for: Pel .pod files, perl installation .pm files,
            Emacs lisp tree_: cl, vm, tm, semi, mc, gnus and Emacs Info
            tree files, Grep all Manual pages installed in your system,
	            grep your ~/bin ... more.
</UL>




</P>
  <A name="141" id="141"></A>
  <H2>
      Do you need this package?
      
  </H2>




        If you use Emacs &quot;grep&quot; then I advice you to move to igrep.el and
        start using this package too. It simplifies your grep tasks much
        more.Additionally, if you have several directories where you keep
        some persistent data where you want to do lookup from time to time,
        then you propably appreciate this package. It defines all the
        parameters for you and all you need to supply is the SEARCH-STRING.


</P>
  <A name="142" id="142"></A>
  <H2>
      Suggestion
      
  </H2>




        I have found usefull to keep the igrep buffer in a special frame
        when I work in X environment. See if you like this too:


<PRE class="code">
      (if window-system
         (setq special-display-buffer-names
           '(&quot;*compilation*&quot; &quot;*grep*&quot; &quot;*igrep*&quot;)))
</PRE>


</P>
  <A name="143" id="143"></A>
  <H2>
      A simple example how to use search database
      
  </H2>




        Suppose you want to search 1) emacs cl*el files 2) all your ~/Mail
        (recurse into dirs) 3) your ~/News files. A sample database
        definitions looks like this:


<PRE class="code">
      (require 'tinyigrep)  ;; gives macro `tigr-db-lisp-elt'

      (tigr-db-push-elt
        (tigr-db-lisp-elt
           &quot;cl.el&quot; &quot;lisp-cl&quot; &quot;egrep&quot; ;Grep only the cl libraries
           '(list (concat dir &quot;cl*el&quot;))))
      ;;
      ;; Notice '(nil) which turn on recursive search.
      ;;
      (tigr-db-push-elt '(&quot;Mail&quot; (&quot;egrep&quot; (&quot;~/Mail/*&quot;) (nil))))

      ;; This greps only ~/News/*
      (tigr-db-push-elt '(&quot;News&quot; (&quot;egrep&quot; (&quot;~/News/*&quot;))))
</PRE>


</P>
  <A name="144" id="144"></A>
  <H2>
      Special database for current file directory
      
  </H2>




        Normally you predefine databases in variable <SAMP class="word">tigr-:database</SAMP>.
        There is also a special database whose name is <SAMP class="word">/</SAMP>, which refers to
        files that are under current buffer's filedirectory. Eg. say you
        are editing:


<PRE class="code">
      /user/foo/txt/file.txt
</PRE>


<P class="column8">
        Selecting a special database <SAMP class="word">/</SAMP> will give you a prompt to limit
        search for files under that directory. You can moidfy the file
        pattern as you like:


<PRE class="code">
      Search: /user/foo/txt/*.txt
</PRE>


<P class="column8">
        You can use this search criteria for successive searches by selection
        <SAMP class="word">last</SAMP> database.


</P>
  <A name="145" id="145"></A>
  <H2>
      Selecting igrep command from command menu
      
  </H2>




        When you call TinyIgrep, you will get prompted for database selection,
        which is &quot;lisp-cl&quot;, &quot;Mail&quot; or &quot;News&quot; as you just defined them. The
        igrep interface menu looks like this:


<PRE class="code">
      igrep: i)grep g)uess l)ast time d)ired [c)ase r)ecur u)ser]
</PRE>


<P class="column8">
        And more help on commands you can get with ?, key <SAMP class="word">c</SAMP> toggles case
        sensitivity of the search by adding or removing the -i option for
        grep, <SAMP class="word">r</SAMP> can be used to toggle recursive mode on or off, and
        <SAMP class="word">u</SAMP> toggles user switches on and off. The user options are
        stored to own history list <SAMP class="word">tigr-:history-igrep-user-options</SAMP> where
        they can be recalled.


</P>
  <A name="146" id="146"></A>
  <H2>
      List of predefined databases
      
  </H2>




        For your convenience, function <SAMP class="word">tigr-install-default-databases</SAMP>
        is run from <SAMP class="word">tigr-:load-hook</SAMP>, which defines several databses
        as default values. Here is summary of available selections:


<P class="column7"><EM><STRONG>
       Home:</STRONG></EM>


<P><UL>
	<LI><EM class="word">/</EM>             Search current directory
	<LI><EM class="word">home-bin-sh</EM>   Search ~/bin/ for *.sh *.awk
	<LI><EM class="word">home-bin-pl</EM>   Search ~/bin/ for Perl *.pl
</UL>




<P class="column7"><EM><STRONG>
       Operating system:</STRONG></EM>


<P><UL>
	<LI><EM class="word">man</EM>           Search manpages
	<LI><EM class="word">c-usr-include</EM> Search C header *.h files in /usr/include
</UL>




<P class="column7"><EM><STRONG>
       Perl pages:</STRONG></EM>


<P><UL>
	<LI><EM class="word">perl5-modules</EM> Search Perl 5 modules *.pm in @INC
	<LI><EM class="word">perl-modules</EM>  Search Perl modules *.pm in @INC
	<LI><EM class="word">perl-pod</EM>      Search Perl installation *.pod pages
</UL>




<P class="column7"><EM><STRONG>
       Emacs and Emacs lisp:</STRONG></EM>


<P><UL>
	<LI><EM class="word">elisp-home</EM>    Search ~/lisp or ~/elisp for *.el
	<LI><EM class="word">lisp-dot-files</EM> Search amon all .emacs* files in <SAMP class="word">load-path</SAMP>
	<LI><EM class="word">load-path</EM>     Search <SAMP class="word">load-path</SAMP> *.el
	<LI><EM class="word">lisp-emacs-distribution</EM> Search the Emacs installation root
</UL>




<P class="column7"><EM><STRONG>
       Emacs packages:</STRONG></EM>


<P><UL>
	<LI><EM class="word">lisp-pcl-cvs</EM>
	<LI><EM class="word">lisp-elib</EM>
	<LI><EM class="word">lisp-cl</EM>
	<LI><EM class="word">lisp-mc</EM>
	<LI><EM class="word">lisp-irchat</EM>
	<LI><EM class="word">lisp-bbdb</EM>
	<LI><EM class="word">lisp-w3</EM>
	<LI><EM class="word">lisp-vm</EM>
	<LI><EM class="word">lisp-semi</EM>
	<LI><EM class="word">lisp-apel</EM>
	<LI><EM class="word">lisp-flim</EM>
	<LI><EM class="word">lisp-mel</EM>
	<LI><EM class="word">lisp-tiny</EM>
</UL>




<P class="column8">
        If you want to define a shotr name for any of these defauls, add
        additional etry eg. for vm. The last parameter could be '(nil) which
        would enable recursive search.


<PRE class="code">
      (tigr-db-push-elt-lisp-package &quot;vm&quot; &quot;vm.el&quot; &quot;grep&quot; nil)
</PRE>


<P class="column8">
        If you like short names and do lit of list, you can define shorter
        database names:


<PRE class="code">
      (dolist (package '(&quot;vm&quot; &quot;gnus&quot; &quot;irchat&quot; &quot;semi-def&quot; &quot;mc&quot; &quot;tinylib&quot;))
          (tigr-db-push-elt-lisp-package
             package (concat package &quot;.el&quot;) &quot;egrep&quot;))
      ;; end of code

</PRE>

</P>
           </BLOCKQUOTE>
           <HR>
               <A name="147"  id="147"></A>
               <H1>
               Tinyindent.el &ndash; like indented-text-mode, but minor-mode, smart indent
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="148" id="148"></A>
  <H2>
      Preface, sep 1994
      
  </H2>




        The original auto-indent-mode from autoindent.el was very short
        and limited, so I thought I extend it a little...here is the
        result.  Thank you Alan for giving me a push to extend your code
        into new directions.  When I spoke with Alan and he gave me free
        hands, because he hadn't used the .el for quite a long time.


<P class="column8">
        I wasn't satisfied with the  indent-relative function, so
        I coded a preprocessor for it. Now the cursor won't jump
        all over the line if the previous one was empty. Just
        try original  M-x indent-relative when there is empty line above
        and you'll see what I mean.


<P class="column8">
        And where this module really shines: Has it ever been easier to line
        up variables according to '=' or in within lisp 'let*', or writing
        mail messages while this mode is turned on...


</P>
  <A name="149" id="149"></A>
  <H2>
      Overview of features
      
  </H2>




<P><UL>
	<LI>General block editing or indentation MINOR mode. Replacement for
            <SAMP class="word">indented-text-mode</SAMP>.
	<LI>Takes over the TAB and BACKSPACE key.
	<LI>Looks back to guess right indentation. and uses relative indent
            when not at BOL.
	<LI>Special indentation is suggested if cursor is at BOL and
            user defined regexp is matched in line above. (like adding
            multiple c++ comments)
	<LI>Extra tii-tt-mode for writing descriptions within comments. This
            allows user to choose when to use HARD tab or SOFT tab = relative
            to the text above. TAB TAB inserts hard tab, TAB SPC inserts soft
	            tab.
</UL>




</P>
  <A name="150" id="150"></A>
  <H2>
      Word about defining keys to maps
      
  </H2>




        Do not ever use <SAMP class="word">local-set-key</SAMP> inside some my-XXX-mode-hook,
        because you may loose these keybindings when minor modes are turned on.
        Always use (define-key XXX-mode-map &lt;key&gt; &lt;func&gt;) inside hooks
        and your keybindings will not be affected.


<P class="column8">
        Simple example for lisp mode:


<P class="column3">
   (add-hook 'lisp-mode-hook 'my-lisp-hook)     ;; *better version*
   (add-hook 'emacs-lisp-mode-hook 'my-lisp-hook)


<P class="column3">
   (defun my-lisp-hook ()
     &quot;My lisp setings&quot;
     (define-key shared-lisp-mode-map           ;; <<
<SPAN class="quote7">\M-e&quot; (definteractive (eval-current-buffer) (message &quot;eval ok</SPAN><BR>
   ;; End


<P class="column3">
   (defun my-lisp-hook ()                       ;; *not recommmended version*
     &quot;My lisp setings&quot;
     (local-set-key                             ;; <<
<SPAN class="quote7">\M-e&quot; (definteractive (eval-current-buffer) (message &quot;eval ok</SPAN><BR>
   ;; End



<P class="column8">
        In the latter case, turning on the tii&lt;or any&gt; minor mode would
        have caused losting your ESC-e keybinding.


</P>
           </BLOCKQUOTE>
           <HR>
               <A name="151"  id="151"></A>
               <H1>
               Tinylib.el &ndash; Main library of general functions
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="152" id="152"></A>
  <H2>
      Preface, 1995
      
  </H2>




        I noticed, that I started using several functions in program
        modules I developed over the time, so it was time to move all common
        parts into general library.


<P class="column8">
        Briefly:

<P><UL>
	<LI>This is library, so the package itself does nothing,
            there may be some interactive functions, so just skim through code.
	<LI>Collection of general functions. With these you can solve your
            problems within minutes, instead of spending days thinking
	            &quot;How do I do this with lisp? Does there exist a function...?&quot;
</UL>




</P>
  <A name="153" id="153"></A>
  <H2>
      Quick function help
      
  </H2>




        Please use function


<PRE class="code">
      tinyliby.el / ti::y-get-file-documentation
</PRE>


<P class="column8">
        which will build up a buffer containing all functions/macros
        and variables used in any lisp package file. You can print the results
        to get an overview of all functions in this file.


<P class="column8">
        If you feel that some function description is not clear, please
        drop me a mail. There is no plans for separate info files; that's why
        I try to keep the function descriptions as good as possible.


<P class="column8">
        Also look at the function


<PRE class="code">
      tinyliby.el / ti::y-describe-symbols
</PRE>


<P class="column8">
        which will help you to find particular lisp information from the
        emacs. Eg. to search for function that has &quot;file&quot; in their name.


</P>
  <A name="154" id="154"></A>
  <H2>
      If you're pacakge write, here is more resources
      
  </H2>




        Here is standard toolset I use for writing/studying/lining up
        variables for lisp...


<PRE class="code">
      tinybm.el           drawing sections (bookmarks)
      tinytab.el          tab minor mode
      tinyindent.el       another &quot;line up my vars&quot; minor mode
      lisp-mnt.el         std emacs package use lm-verify
      eldoc.el            show func doc immediately (under cursor)
      find-error.el       find lisp error. put cursor on it
</PRE>


</P>
  <A name="155" id="155"></A>
  <H2>
      What is this 'tiny' thing?
      
  </H2>




        The term <EM class="word">tiny</EM> does not refer to file size, it just happened some
        years back that released my first package under name &quot;tinyappend.el&quot;
        and I started using the prefix &quot;tiny&quot; in front of packages.


</P>
  <A name="156" id="156"></A>
  <H2>
      Code policy
      
  </H2>




        All functions are written by [jari], unless otherwise stated.
        If I have found interesting function from some other .el I have
        written a reference to that .el. If the code is directly taken
        'almost as is' all the credit belongs to the Author of the
        original code. Cheers for him, to write so recpectable code, that
        it can be used right from the box!


<P class="column8">
        If someone contributes good, general purpose function, all the
        credit belongs to him automatically. Persons name and date and so
        on is included.


</P>
  <A name="157" id="157"></A>
  <H2>
      TinyXXX Libraries' intention
      
  </H2>




        These libraries are by no means private. My wish is that all Lisp
        developers would contribute their general purpose functions and
        they would be merged into libraries so that the functions would be
        commonly available.


<P class="column8">
        The biggest problem in the lisp world seems to be compatibility:
        after every new Emacs release you have to be on your toes if that
        broke backward compatibility. This is understandable from the Emacs
        developers point of view: they don't want to carry any old burden
        with the latest high tech product. But it places other lisp package
        writes in an awkward situation: if they do have the chance
        to follow the Emacs development, sooner or later their fine package
        breaks.


<P class="column8">
        Then comes the issue of Emacs and XEmacs differencies and different
        platforms, now when NT has gained firm grounding.


<P class="column8">
        In order to reuse the code in all my modules and to keep up with
        the Emacs/XEmacs interface and different releases, I have chosen to
        put the general function to these libraries that you see.


<P class="column8">
        When I hear about new Emacs functions, I move the old code
        to (b)backward library. This way you can run the packages with any
        decent 19.x+ Emacs version. Feel free to drop me a note if you
        know a function that should be used instead of some of these library
        functions. I'll update all my tools immediately.


</P>
  <A name="158" id="158"></A>
  <H2>
      Registration
      
  </H2>




        If you're going to use these function, it may be good idea to register
        you as a &quot;user&quot; of these libraries. When the libs changes, you will
        be mailed a message and you can follow the development; what new funcs
        may help you better, which bugs are found and may affect you.


<P class="column8">
        I do not have accees to mailing lists, nor can I maintain one,
        so the registration is used for simple message that inform about the
        lib development phases only.


</P>
  <A name="159" id="159"></A>
  <H2>
      Code reliability
      
  </H2>




        Almost all of these functions are in actual use all the time and
        they have been found to be quite good behaving. This doesn't
        mean that they don't contain bugs. And if you feel that
        function should have more parameters or they should behave &quot;more
        generally&quot;, please mail me. I'm willing to take suggestions of
        all kinds.


<P class="column8">
        The functions are <EM class="word">not</EM> tested systematically, one by one.
        Instead, I have done couple of quick tests after coding to
        verify that the func works expectedly. It may still have bugs,
        when fed with some other data or used in some other task. Please
        be patient and send me backtrace and the values used and I'll fix
        bugs real fast.


<P class="column8">
        Report bugs immediately, since someone may be using that
        funtion without knowing the error.


</P>
  <A name="160" id="160"></A>
  <H2>
      Turn on you debug
      
  </H2>




        If some function gives you error, immediately turn on debug
        and repeat your task


<PRE class="code">
      (setq debug-on-error t)
      (setq debug-ignored-errors nil)  ;; Emacs 20.x
</PRE>


<P class="column8">
        Now when error happened, you get <EM class="word">Backtrace</EM> buffer displayed.
        Send me the contenst of the buffer and all variable values that
        are relevant to call. See 'e' command in backtrace to display
        values.


</P>
  <A name="161" id="161"></A>
  <H2>
      Function naming convention in this library
      
  </H2>




        So why this kind of naming? Have you ever tried to find function in
        emacs? Then you know... If you want to find all functions related
        to file handling, you can't just say


<PRE class="code">
      file-[lisp-complete-symbol]
</PRE>


<P class="column8">
        because the function naming in emacs is &quot;traditional&quot;, meaning
        that they are like spoken language, where word &quot;file&quot; may exist
        in any part of the function name, like


<PRE class="code">
      xxx-file-xxx-xxx
</PRE>


<P class="column8">
        So, to ease finding function while I'm programming in lisp, I chose
        to name functions so that they have some sort of prefix. If you
        want to list all functions related to file in tinylibXX you just do


<PRE class="code">
      ti:f-[lisp-complete-symbol]
</PRE>


<P class="column8">
        Same goes to any other category. I assure you , while it may not
        look nice, it certainly saves lot of programming time. This
        essentially same as what XEmacs team has done fo the function names.


<P class="column8">
        Following prefix syntax has been used, so that functions and
        variables can be found easily, when they have common beginning.


<PRE class="code">
      LIB-id-funcName

      LIB = library where function belongs  'ti::'
            variables have only one ':' --&gt; 'ti:'

      id  = specifier that tell where the function applies to.
      a  = (a)dviced emacs functions
      b  = (b)uffer related
      c  = (c)onversions, convert in general
      d  = (d)ate tools
      e  = (e)vents
      f  = (f)ile handling
      k  = (k)eymap control
      l  = (l)ist manipulation
      m  = (m)isc category
      o  = (o)verlay handling
      p  = shell and (p)rocess handling
      q  = (q)uestions and user interaction in general
      s  = (s)string manipulation
      t  = (t)ext properties (faces)
      w  = (w)indow and frame handling
      x  = (x) and X-popup menu related
      y  = s(y)stem manipulation, information from internals.
</PRE>


<P class="column8">
        Two char identifiers are for specific tasks/libs


<PRE class="code">
      mt  = (m)ail (t)ools, includes News handling tools too.
          See tinylibmt.el
      xe  = (Xe)macs compatibility functions. You should use
          these is you want to write portable code.
      ck  = Convert key bindings
      id  = Identifying buffer content.
</PRE>


</P>
  <A name="162" id="162"></A>
  <H2>
      Local varibale naming in the tinylibXXX.el functions.
      
  </H2>




        I have tried to use following names in functions' 'let' body.
        However, when I started coding these long time ago I hadn't
        thought about setting up any discipline in variable naming, so there
        is still functions which do not use standard naming.


<P class="column8">
        I find it very handy, when I always use same names for same purposes,
        it makes the code more easy to read and understand when the variety
        of names is not so big.


<P class="column8">
        If you think about submitting general code, I'd like to see the
        functions using these variables. Of cource it's up to you if
        you feel naming conventions are waste of time. Still, spend a moment
        thinking who might be reading your code.


<PRE class="code">
      beg end     begin area, end area [points]
      bf, bfn     buffer file name
      bn          buffer name
      bp          buffer pointer  , sometimes &quot;beginning point&quot;
      buffer      buffer [pointer or name]
      cmd         usually a shell or process command string
      ep          end point &ndash; see bp
      func        variable to store a function symbol
      fid         &quot;function id&quot;, name which is used in debug trace
      list        a list
      len         length of object [string, list, array]
      line        current line contents as string
      level       matching subexpression level
      mb me       match end/beginning point or Marker beg/end
      nbr         holding integer
      ob          original buffer [pointer or name]
      p           general point
      pb pe       point: beg, end
      ptr         a list pointer that will be moved.
      [-]re[-]    referring to regexp
      reg         register [integer ie. char]
      ret         return value of a function
      str         string
      verb        flag representing 'vebosity' usually (interactive-p)
      win         a window pointer
</PRE>


</P>
  <A name="163" id="163"></A>
  <H2>
      Detailled explanation of some functions or macros in this library
      
  </H2>



    ----------------------------------------------------------------------


</P>
  <A name="164" id="164"></A>
  <H2>
      Defining minor mode fast
      
  </H2>




        If you're eager to define minor mode in 1 minute, then here is
        one macro that does everything for you. After this you have all the
        minor mode variables ready and the mode works in bot Emacs
        and XEmacs including the menus.


<PRE class="code">
      (eval-and-compile   ;; So that defvars and defuns are seen
      (ti::m-fmacro-minor-mode-wizard
       ;;
       ;; 1. prefix for variables and functions
       ;; 2. Modeline name
       ;; 3. prefix key for mode.
       ;; 4. Menu bar name
       ;; 5. &lt;forget this&gt;
       ;;
       &quot;xxx-&quot; &quot; xxxModeline&quot; &quot;\C-cx&quot; &quot;xxxMenubar&quot; nil

       &quot;XXX minor mode. Does fancy things.&quot;  ;; mode description
        Defined keys:
        \\{xxx-mode-map}
        &quot;

        &quot;XXX help&quot;    ;; message displayed when user calls mode
        nil           ;; Forms When minor mode is called

       ;; This is used by easy-menu.el and defines menu items.
       (list
        xxx-mode-easymenu-name
        [&quot;Eval whole buffer&quot; xxx-eval-current-buffer    t]
        ..
        )

       ;;  this block defines keys to the mode. The mode minor map is
       ;;  locally bound to 'map' symbol.
       (progn
         (define-key map (concat p &quot;-&quot;) 'xxx-eval-current-buffer)
         (define-key map (concat p &quot;=&quot;) 'xxx-calculate)
         )
       ))
</PRE>


</P>
  <A name="165" id="165"></A>
  <H2>
      Defining minor mode step by step
      
  </H2>




        If you want to take more personal control over the minor mode
        creation, here I explain step by step what macros you need to include
        in your pacakge to get minor mode created, This takes only
        half an hour and you have basic minor mode ready. Put all
        following calls near top of your file. We suppose we're
        creating XXX-mode.


<P class="column8">
        <STRONG class="word">[1]</STRONG> First, define standard variables for minor mode.


<PRE class="code">
      (ti::m-vmacro-minor-mode &quot;xxxModeline&quot; &quot;\C-cx&quot; &quot;xxxMenubar&quot;)
</PRE>


<P class="column8">
        After that user has  following varibles for customization. (for
        complete list of created variables, see the macro's description)


<PRE class="code">
      ;; Don't like default key combo C-c x
      (setq xxx-mode-prefix-key &quot;\C-cm&quot;)

      ;; The default mode string was too long, use shorter.
      (setq xxx-mode-name &quot;xxx&quot;)

      ;;  When mode runs, I want to do this.
      (add-hook 'xxx-mode-hook 'my-xxx-settings)

      ;;  I want to add additional keys
      (add-hook 'xxx-mode-define-keys-hook 'my-xxx-keys)
</PRE>


<P class="column8">
        <STRONG class="word">[2]</STRONG> Next we need installation function, which installs our minor
        mode so that emacs is aware of it. The minor mode funcktions,
        xxx-mode, will call xxx-mode-define-keys-hook which takes care of
        defining keys to keymaps and creating menus with easy-menu.el. The
        separate installation function is used, because it takes care of
        emacs specific things and if called with additional argument, it
        also knows how to remove the mode gracefully.


<PRE class="code">
      (ti::m-fmacro-minor-mode-install
       xxx-install-mode
       xxx-mode
       xxx-mode-map
       xxx-mode-name
       xxx-mode-define-keys-hook
       )
</PRE>


<P class="column8">
        <STRONG class="word">[3]</STRONG> Do we have additional files attached to the end of package?
        If yes, then we need pgp-tar unpack function too.


<PRE class="code">
      (ti::m-fmacro-install-pgp-tar &quot;xxx-install-files&quot;  &quot;xxx.el&quot;)
</PRE>


<P class="column8">
        <STRONG class="word">[4]</STRONG> Finally the user callable minor mode function is created.


<PRE class="code">
      (ti::m-fmacro-minor-mode
       xxx-mode
       &quot;XXX minor mode. Does fancy things.&quot;
       Defined keys:
       \\{xxx-:mode-map}
       &quot;
       xxx-install-mode
       xxx-mode
       xxx-mode-name
       xxx-mode-prefix-key
       xxx-mode-easymenu
       nil                        ;Yes, print turn on/off message
       &quot;XXX help&quot;
       xxx-mode-hook
       )
</PRE>


<P class="column8">
        That's it. when you execute all these statements you have basic core
        for emacs minor mode. The only things misisng is the actual
        functions that the minor mode commands uses and the function that
        defines keys and menus for the minor mode. You propably want to
        start from the function that defines keys and menus. Here is ready
        macro for that too.


<PRE class="code">
      (add-hook' xxx-mode-define-keys-hook 'xxx-mode-define-keys)

      (ti::m-fmacro-define-keys
       &quot;xxx-mode-define-keys&quot;
       'xxx-:mode-map
       'xxx-:mode-prefix-key

       'xxx-:easymenu
       'xxx-:easymenu-name
       &quot;Programming help menu.&quot;
       (list
        xxx-:easymenu-name
        [&quot;Eval whole buffer&quot; xxx-eval-current-buffer    t]
        ..
        )
       '(progn
          (define-key map (concat p &quot;-&quot;) 'xxx-eval-current-buffer)
          (define-key map (concat p &quot;=&quot;) 'xxx-calculate)
          ..
          )
       )


</PRE>

</P>
           </BLOCKQUOTE>
           <HR>
               <A name="166"  id="166"></A>
               <H1>
               Tinyliba.el &ndash; library for (a)utoload definitions
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="167" id="167"></A>
  <H2>
      Preface, 1998
      
  </H2>




        This is lisp function library, package itself does nothing.
        This library defines some packages' function in autoload state.


</P>
           </BLOCKQUOTE>
           <HR>
               <A name="168"  id="168"></A>
               <H1>
               Tinylibb.el &ndash; library of (b)ackward compatible functions.
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="169" id="169"></A>
  <H2>
      Preface, 1998
      
  </H2>




        This is lisp function library, package itself does nothing.
        This library defines new [X]Emacs release functions for older
        [X]Emacs releases.


</P>
  <A name="170" id="170"></A>
  <H2>
      Code policy
      
  </H2>




        If I have found some usefull macro from someone's .el or from
        news, the proper source and name of author + time is preserved. All
        the credit goes to those marvellous programmers!


</P>
  <A name="171" id="171"></A>
  <H2>
      Usage
      
  </H2>




        You must not autoload this package; but always include


<PRE class="code">
      (require 'tinylibm)
</PRE>


<P class="column8">
        Yes, there is no typo, you load &quot;m&quot; lib. It will handle arranging
        everything for you. This library is included by &quot;m&quot; library
        automatically. Repeat: you don't have to put any of these in your
        packages:


<PRE class="code">
      (require 'tinylib)
      (require 'tinyliba)
      (require 'tinylibb)
      (require 'tinylibo)
      (require 'tinyliby)
</PRE>


</P>
  <A name="172" id="172"></A>
  <H2>
      Todo
      
  </H2>




        1998-10 I just noticed that SEMI included poe*el libraries that also
        emulate various Emacs versions. I really think there should be only
        one emulation library for all package writers. I'm considering
        to move functionatility from this lib and xe lib to SEMI packages.
        <SPAN class="word-ref">[Then Users would need SEMI. Hm.]</SPAN>



</P>
           </BLOCKQUOTE>
           <HR>
               <A name="173"  id="173"></A>
               <H1>
               Tinylibck.el &ndash; Library to (c)onvert (k)eybindings for XEmacs or Emacs
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="174" id="174"></A>
  <H2>
      Preface
      
  </H2>




        This file tries to overcome differencies between Emacs and XEmacs
        keybinding. I developed this at the time when I used 19.28 and
        I wanted to use my other packages with any emacs version in
        spite of key definition differencies. This file is in fact
        &quot;library&quot; and propably interests only lisp programmers that want
        to make some old package, that has Emacs specific bindings,
        to work in XEmacs (or vice versa).


</P>
  <A name="175" id="175"></A>
  <H2>
      Emacs 19.30+ note
      
  </H2>




        Newer Emacs release now supports XEmacs styled bindings.
        You can write


<PRE class="code">
      (local-set-key [(control meta up)] 'ignore)
</PRE>


<P class="column8">
        and it should work both in XEmacs and Emacs. If all your keybindins
        are like that and you don't use Emacs lower than 19.30, then you
        don't need this package. I recommend that you use primarily this
        style.


</P>
  <A name="176" id="176"></A>
  <H2>
      Putting your key definitions to separate file
      
  </H2>




        You should separate all you keybindings to <STRONG class="word">one</STRONG> file,
        do not stuff all your emacs definitions in one huge ~/.emacs,
        but instead use some basic structure like this:


<PRE class="code">
      ~/.emacs            &ndash; the main
      ~/.emacs.kbd.el     &ndash; All the keybindinds
      ~/.emacs.x.el       &ndash; X settings and X-packages loads
      ~/.emacs.vc.el      &ndash; vc settings and modifications
      ~/.emacs.bup.el     &ndash; Backup settings and redefinitions
      ~/.emacs.gnus.el    &ndash; gnus customization
      ..
</PRE>


<P class="column8">
        You can load your other initialize files from .emacs with <SAMP class="word">load</SAMP>
        command. Suppose you have Emacs keybinding startup file; which you
        want to make compatible with XEmacs too. The reason why you should
        use <SAMP class="word">ti::ck-maybe-activate</SAMP> is that, it can determine your emacs
        version and decide when the converter is needed and when not.


<PRE class="code">
      ;; at the beginning of keybindings, you add these

      (require 'tinylibm)
      (autoload 'ti::ck-advice-control &quot;tinylibck&quot;)

      (ti::ck-maybe-activate 'xemacs-mouse)
      (load &quot;~/.emacs.keys&quot;)          ;; All XEmacs styled bindings
      (ti::ck-maybe-activate 'xemacs-mouse 'disable)

      ;;  load rest of the startup files
      (load &quot;~/.emasc.x)
      ...
      ;; End of startup file
</PRE>


</P>
  <A name="177" id="177"></A>
  <H2>
      Some lowlevel explanation
      
  </H2>




        If you're in Emacs, you use X-event bindings like this


<PRE class="code">
      (global-set-key [C-up] 'ignore)
</PRE>


<P class="column8">
        Unfortunately, this does not work in XEmacs, but using the
        conversion function before the definition, it does.


<PRE class="code">
      (global-set-key (ti::ck-do [C-up]) 'ignore)
</PRE>


<P class="column8">
        Now the current Emacs version gets the right keybinding,


<PRE class="code">
      for Emacs  it returns       --&gt; [C-up]
      for XEmacs it returns       --&gt; '(control up)
</PRE>


<P class="column8">
        You can also use the XEmacs keybinding, since the conversion goes
        both ways. Having the following setting:


<PRE class="code">
      (global-set-key (ti::ck-do '(control up)) 'ignore)
</PRE>


<P class="column8">
        it converts this to suitable form depending on the current Emacs
        in use.


</P>
  <A name="178" id="178"></A>
  <H2>
      About advices
      
  </H2>




        So that you don't have to go and add that 'ti::ck-do' call for every
        keybinding, I have provided advices that hook themself to
        appropriate keybinding functions.  The conversion is then done
        transparently and you don't have to change a thing in you
        keybinding settings.


</P>
  <A name="179" id="179"></A>
  <H2>
      About debugging
      
  </H2>




        If you suspect any weird behavior in your emacs while
        this package is loaded, you should check that the <SAMP class="word">ti::ck-:debug</SAMP>
        is turned on. (<SAMP class="word">M-x</SAMP> <SAMP class="word">ti::ck-debug-toggle</SAMP>)


<P class="column8">
        The buffer <SAMP class="word">ti::ck-:debug-buffer</SAMP> constantly records any conversion
        actions and you can find the problems quickly. Please send the
        supicious/false conversion lines to the maintainer of this package
        and if possible, tell how the conversion should go in your opinion.


<P class="column8">
        I'd recommend that you keep the debugging permanently on, because
        if problems arise afterwards and if the debug were off, there is
        no way to tell what went wrong in what command.


<P class="column8">
        Important; when you have problems, increase


<PRE class="code">
      ti::ck-:debug-buffer-size
</PRE>


<P class="column8">
        immediately to some arbitrary big value so that you get all the
        conversions recorded.


</P>
  <A name="180" id="180"></A>
  <H2>
      Known limitations
      
  </H2>




        This package tries to do its best to make the conversion, but
        sometimes it is just impossible. For example the following
        case is beyond of this package. In Emacs you can define


<PRE class="code">
      (define-key xxx-mode-map [?\C-`] 'some-function)
                               ^^^^^^^
</PRE>


<P class="column8">
        But when your're in XEmacs and you try to do the same, it gives
        error although tinylibck is currently active. The reason is that lisp
        intepreter never actually passes key  &quot;?\C-`&quot; to <SAMP class="word">define-key</SAMP>
        but it actually evaluates the vector in place to an integer value
        and sends that to <SAMP class="word">define-key</SAMP> function . The call actually is
        seen in Emacs like this:


<PRE class="code">
      (define-key xxx-mode-map [4194400] 'some-function)
                               ^^^^^^^^^in my HP-UX 9.05
</PRE>


<P class="column8">
        And in XEmacs it is evaluates to this:


<PRE class="code">
      (define-key xxx-mode-map [0] 'xxx-tab-backward)
</PRE>


<P class="column8">
        The code &quot;0&quot; appears, because XEmacs doesn't know Emacs &quot;?\C-`&quot;.
        You should write <SPAN class="word-ref">[(control ?\`)]</SPAN> for XEmacs and it would work ok.
        Be aware of this limitation if you plan to use Emacs styled
        bindings. Alternatively, you can tell that you that some
        particular piece of code has been written by using XEmacs style.
        (Wouldn't you want to you use it all the time in Emacs...)


<PRE class="code">
      ;;   This is Emacs file.
      (require 'tinylibck)                   ;Keybind converter.
      (ti::ck-advice-control)             ;turn it on

      ;;   But here I want to use xemacs style for a while
      (define-key tit-mode-map [(control ?\`)]  'tit-tab-backward)
      ;; And other similar keybindings ...
      (ti::ck-advice-control 'disable)    ;don't leave it on
</PRE>


</P>
  <A name="181" id="181"></A>
  <H2>
      Thank you
      
  </H2>




        Vladimir Alexiev <EM><A HREF="mailto:vladimir@cs.ualberta.ca" >vladimir@cs.ualberta.ca</A></EM>
        Presented initial idea of the conversion process.
        Commented how the conversion should go in XEmacs.


<P class="column8">
        Stephen Eglen  <EM><A HREF="mailto:stephene@cogs.susx.ac.uk" >stephene@cogs.susx.ac.uk</A></EM>
        Stephen had the patience to send bug reports from XEmacs 19.12 and
        test new versions of tinylibck.el


</P>
           </BLOCKQUOTE>
           <HR>
               <A name="182"  id="182"></A>
               <H1>
               Tinylibid.el &ndash; Library for (Id)entifying buffer, regardless of mode
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="183" id="183"></A>
  <H2>
      Preface, feb 1995
      
  </H2>




        Seems quite uninteresting package to you? I bet it does, unless
        you're a lisp programmer who has infite time to twiddle his
        c++-mode-hook + 20 others hooks and have all the time develop nice
        little funcs to make living in emacs easier :-/


<P class="column8">
        While someone may think that all users stick to one mode eg. when
        they are programming C++, that's not obvious. For example I move
        constantly between all kind of modes during programming and the
        trouble is, that while the buffer LOGICAL content remains the same,
        the hooks knows nothing about it. Hooks are just dummies that gets
        called whenever you turn some mode on, try C++ mode over nroff code
        and you'll be suprised...<SPAN class="super">not a serious example of cource</SPAN>


<P class="column8">
        Now let's see one example: like I coded this package:

<P><OL>
	<LI>write list               ;lisp-mode + folding-mode
	<LI>hmm, write some comments ;tii-mode,  no folding
	<LI>hmm, need center-command ;text-mode
	<LI>code again               ;lisp + ..
	<LI>adjust defconst var pos. ;tii-mode (tinyindent.el)
	<LI>code again               ;lisp-mode
</OL>




<P class="column8">
        I have bound all common modes into keys that I can access very fast
        so that changing modes is no problem. What is the problem, is that
        when you turn off the CODE-mode, all info about comment-start etc.
        vanishes. The tii-mode and TIC (tinycom.el) fortunately doesn't
        care about the modes, because they have their own heuristics to
        determine suitable comments etc.


</P>
  <A name="184" id="184"></A>
  <H2>
      Overview of features
      
  </H2>




<P><UL>
	<LI>This is LIBRARY package and should be called from lisp.
	<LI>Try to identify the buffer by using various criterias.
	<LI>Usefull for checking what kind of file is in buffer and making
	            decisions based on that, like in hooks.
</UL>




</P>
  <A name="185" id="185"></A>
  <H2>
      Imenu example
      
  </H2>




        If your're using imenu.el to generate buffer jump points, it is
        very likely that the imenu command won't generate right jump points
        if you're in wrong mode.


<P class="column8">
        let's use imenu example. This is how I used to have it configured:

 ;; ** Hm **
 ;;
 (defun my-imenu-mouse (event)
   (interactive &quot;e&quot;)
   (my-imenu))
 ;;
 (defun my-imenu (&amp;optional arg)
   &quot;Sets parameters to imenu.&quot;
   (let* (raise
         )
     (setq imenu-max-items 20
          imenu-sort-function nil)
     (cond
     ((memq major-mode '(lisp-mode emacs-lisp-mode lisp-interaction-mode))
       (setq imenu-create-index-function 'imenu-example--create-lisp-index
      imenu-sort-function         'imenu--sort-by-name
      raise t
      ))
      ((memq major-mode '(c++-mode))
       (setq imenu-create-index-function 'imenu-example--create-c++-index
      imenu-sort-function         'imenu--sort-by-name
      raise t
      ))
      ((memq major-mode '(c-mode))
       (setq imenu-create-index-function 'imenu-example--create-c-index
      imenu-sort-function         'imenu--sort-by-name
      raise t
      ))
      )
     (if raise (imenu))
     ))
 ;; End


<P class="column8">
        Code seemed pretty obvious don't' you think ? It sniffs around to
        see if we're on some mode and then configures imenu according to
        it.


<P class="column8">
        Here is much better and more robust way. It'll let you be in any
        mode while retaining right imenu. [The example can be
        automatically extracted with function ti::m-pkg-rip-magic from
        tinylib.el, follow the instructions there.]

 ;; ** I'd use this **

 (require 'imenu)

 ;;  Separate functions for keyboard and mouse.
 (defun my-imenu-mouse (event &amp;optional arg)
   (interactive &quot;e\nP&quot;)
   (my-imenu arg))
 ;;

 (defun my-imenu (&amp;optional arg)
   &quot;Sets parameters to imenu. If called with arg, the output is
 unsorted.
 &quot;
   (interactive &quot;P&quot;)
   (let* (
         (s-func (if arg nil 'imenu--sort-by-name))
         (table
          '((lisp-mode
       imenu-example--create-lisp-index)
      (emacs-lisp-mode
       imenu-example--create-lisp-index)
      (c++-mode
       imenu-example--create-c++-index)
      (c-mode
       imenu-example--create-c-index)
      ))
      ;;  So, in what mode were really?
         (mode (or (ti::id-info t) major-mode))
         (el (assoc mode table))
         )
     (if (null el)
        (message &quot;Sorry, no imenu for this buffer.&quot;)
       (setq imenu-max-items            20
      imenu-sort-function         s-func
      imenu-create-index-function (nth 1 el))
       (imenu)                          ;launch it !
       )
   ))
 ;; End


</P>
  <A name="186" id="186"></A>
  <H2>
      Your mode is not supported ?
      
  </H2>




        I'm sure that this file cannot identify all modes out there, since
        I'm only aware of these included in this package. Please send me
        any example file that is edited in particular mode, I'd be glad to
        support more modes.


</P>
  <A name="187" id="187"></A>
  <H2>
      What buffers to identify ?
      
  </H2>




        The aim of this package is to be 'aid'; offer some help for user's
        that need to set up their hooks or use commands that are based on
        buffer content. This is <EM class="word">not</EM> the same as buffer recognition, and
        this package will not be one. To recognize all buffers and their
        contents would be waste of time.


<P class="column8">
        Summarum: let's be reasonable and <STRONG class="word">think</STRONG> what buffers we need to
        identify and add support to those.


</P>
           </BLOCKQUOTE>
           <HR>
               <A name="188"  id="188"></A>
               <H1>
               Tinylibm.el &ndash; library of s(m)all macros or functions
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="189" id="189"></A>
  <H2>
      Preface, 1995
      
  </H2>




        This is lisp function library, package itself does nothing.
        It contains small functions or macros.


</P>
  <A name="190" id="190"></A>
  <H2>
      Code policy
      
  </H2>




        If I have found some useful macro from someone's .el or from
        news, the proper source and name of author + time is preserved. All
        the credit goes to those marvellous programmers!


</P>
  <A name="191" id="191"></A>
  <H2>
      Usage
      
  </H2>




        You must not autoload this package; but always include


<PRE class="code">
      (require 'tinylibm)
</PRE>


<P class="column8">
        You don't need any other require commands: all my other library
        functions get defined as well by using autoload.  Repeat: you don't
        have to put these in your packages:


<PRE class="code">
      (require 'tinylib)   ;; leave this out
      (require 'tinyliby)  ;; not needed either.

</PRE>

</P>
           </BLOCKQUOTE>
           <HR>
               <A name="192"  id="192"></A>
               <H1>
               Tinylibmenu.el &ndash; Library for echo-area menu
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="193" id="193"></A>
  <H2>
      Preface, Feb 1996
      
  </H2>




        Oh Boy, my ~/.emacs.keys.el file started looking like a mess.
        There were hundreds of bindings that were impossible to remember
        any more. Many times I was staring at the buffer and wondering


<P class="column10"><EM class="quote10">
          ..I'm sure I have bound function xxx somewhere..but I can't
          remember where...</EM>



<P class="column8">
        Normally I'd reach for the M-x COMMAND to try to remember the
        function name, but other times I'd hit <SAMP class="word">C-x</SAMP> <SAMP class="word">b</SAMP> to bring up all
        bindings. Then I would start tedious search with <SAMP class="word">C-s</SAMP> to find the
        function I was longing for. I thought that there definitely had to
        be some way to construct menu that would use echo area. Instead of
        remembering that I had done these bindings


<PRE class="code">
      &quot;C-cmf&quot;             , m = (m)ode functions, f = folding-minor-mode
      &quot;C-cmF&quot;             , ... auto-(f)ill minor mode
      ...
</PRE>


<P class="column8">
        When I have TinyMenu, I can call, say <SAMP class="word">f1</SAMP>, to bring up menu which
        assists me to find proper function in the echo area.


</P>
  <A name="194" id="194"></A>
  <H2>
      Overview of features
      
  </H2>




<P><UL>
	<LI>This package can be used as lisp library; Mode's
            keybindings can be put behind echo area menu. (similar to
            menu bar, but easier to use.)
	<LI>Regular Emacs user can also put less used binding to guided
	            echo menu by just defining couple of menu variables.
</UL>




</P>
  <A name="195" id="195"></A>
  <H2>
      Customizing ready menus
      
  </H2>




        If some package defines good menus and you only want to change them a
        little and not to copy the whole 'defvar MENU' to your .emacs, you
        can use following functions to manipulate the menu items


<PRE class="code">
      ti::menu-add
      ti::menu-set-doc-string
</PRE>


<P class="column8">
        Say, you have following menu


<PRE class="code">
      (defconst ti::menu-:menu-sample
      '(
        &quot;?)help, 1)test1, 2)test2&quot;
        ((?1 . (  (ti::menu-test1 1 2 3)))
         (?2 . (  (ti::menu-test2 1 2 3)))
         )))
</PRE>


<P class="column8">
        and you don't like keybinding '?2'. You first delete the menu item,
        then add yours and lastly you update the doc string that is printed
        in echo area. Here is how you do all these three steps.


<PRE class="code">
      (ti::menu-add 'ti::menu-:menu-sample ?2  nil 'delete)
      (ti::menu-add 'ti::menu-:menu-sample ?t '( (my-test 1 2 3)))
      (ti::menu-set-doc-string 'ti::menu-:menu-sample
                           &quot;?)help, 1)test1, t)myTest&quot;)
</PRE>


<P class="column8">
        And the modified menu looks like this


<PRE class="code">
      (defconst ti::menu-:menu-sample
      '(
        &quot;?)help, 1)test1, t)myTest&quot;
        ((?1 . (  (ti::menu-test1 1 2 3)))
         (?t . (  (my-test 1 2 3)))
         )))
</PRE>


<P class="column8">
        If you want to replace many commands from the menu, it is lot
        easier if you copy the menu <SAMP class="word">defvar</SAMP> and make direct changes there.
        If you want to make it all with lisp, here is example which
        replaces 2 items from the menu


<PRE class="code">
      (mapcar
        '(lambda (x)
           (let ((key (car x))
                 )
             (ti::menu-add 'ti::menu-:menu-sample nil 'delete) ;; Remove old
             (ti::menu-add 'ti::menu-:menu-sample key (cdr x)) ;; Add new
             ))
      '((?1 . ( (my-1 1 2 3)))     ;; New menu item replacements
        (?2 . ( (my-2 1 2 3)))
        ))
      ;; End

      (ti::menu-set-doc-string 'ti::menu-:menu-sample &quot;?)help, 1)my1 2)my2&quot;)
</PRE>


</P>
  <A name="196" id="196"></A>
  <H2>
      Having a test run
      
  </H2>




        The easiest way to get a hold on the echo menu is that you try it.
        Follow these steps. Then you're ready to make your own menus.

<P><OL>
	<LI>Load this file. M-x load-file ~/elisp/tinylibmenu.el
	<LI>Start menu with <SAMP class="word">M-x</SAMP> <SAMP class="word">ti::menu-menu-default</SAMP>
	<LI>Press key <SAMP class="word">?</SAMP> or <SAMP class="word">h</SAMP> to get help and <SAMP class="word">q</SAMP> to quit menu.
	<LI>Try offered choices
</OL>




</P>
           </BLOCKQUOTE>
           <HR>
               <A name="197"  id="197"></A>
               <H1>
               Tinylibmt.el &ndash; Library of (m)ail and news (t)ool functions
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="198" id="198"></A>
  <H2>
      Preface 1995
      
  </H2>




<P><UL>
	<LI>This is library. Package itself does nothing.
	<LI>Collection of functions to deal with Mail/News specific tasks.
</UL>




</P>
           </BLOCKQUOTE>
           <HR>
               <A name="199"  id="199"></A>
               <H1>
               Tinylibo.el &ndash; Library for handling (o)verlays
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="200" id="200"></A>
  <H2>
      Preface 1995
      
  </H2>




        The functions were developed to ease the usage of highlighting,
        which really seemed &quot;inside&quot; stuff when I first wanted to use
        colored text in emacs.

<P><UL>
	<LI>This is LIBRARY module, it does nothing on its own.
	<LI>Offers functions for 19.xx overlay handling
</UL>




</P>
  <A name="201" id="201"></A>
  <H2>
      Code policy
      
  </H2>




        All functions are written by [jaalto], unless otherwise notified.
        If I have found interesting function from some other .el I have
        written a reference to that .el. If the code is directly taken
        'almost as is' all the credit belongs to the Author of the
        original code. Cheers for him, to write so recpectable code, that
        it can be used right from the box!


<P class="column8">
        If someone contributes good, general purpose function, all the
        credit belongs to him automatically. Persons name and date and so
        on is included.


</P>
           </BLOCKQUOTE>
           <HR>
               <A name="202"  id="202"></A>
               <H1>
               Tinylibt.el &ndash; Text property handling library
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="203" id="203"></A>
  <H2>
      Preface, apr 1995
      
  </H2>





<P class="column10"><EM class="quote10">
          <SPAN class="word-ref">[This is primarily a library]</SPAN></EM>



<P class="column8">
        Now, when this highlightging is available in 19.xx, why don't we
        use it for marking texts too, especially when we are looking for
        documentation of some program and we want to find certain words, or
        that we want to see TABS in the buffer. This little .el eases the
        job of visualizing items in buffer.


<P class="column8">
        Where I use this most is inside GNUS/DING/RMAIL hooks, to mark
        interesting peoples articles and seeing where is my articles.  The
        font-lock/lazy-lock are a little bit too heavy for those things,
        because these buffers hold &quot;solid&quot; data, text, that does not
        change, and I feel that executing arbitrary 'ti::t-re-search'
        command to highligh the headers I want is more easier that with
        font-lock, especially when I can change the faces in the fly with
        'ti::t-re-search'.


<P class="column8">
        Yes, I'm aware of the capabilities of DING, which highlights
        articles for you already, but sometimes I want more personal
        highlighting in summary buffer etc...


<P class="column8">
        But the font-lock/lazy-lock are unreplacable in programming modes,
        which has to deal with dynamic text.


</P>
  <A name="204" id="204"></A>
  <H2>
      Overview of features
      
  </H2>




<P><UL>
	<LI>This package is primary aimed for elisp programmers, but
            interactive users will also find handy functions.
	<LI>Shows matched text with color in the buffer.
	<LI>This is <EM class="word">NOTHING</EM> like font-lock, lazy-lock or hilit19,
            which are demand driven packages intended for certain major modes.
            Use this package to &quot;manually&quot; mark interesting things in
            any buffer.
	<LI>Examples: highlighting on/off tabs, Verifying PGP
            fingerprints against trusted list like <A HREF="http://www.uit.no/" target="_top">http://www.uit.no/</A>
	<LI>UNDO: adjustable stack size. Stack is cleared if
	            stack limit reached (stack 'wraps')
</UL>




</P>
  <A name="205" id="205"></A>
  <H2>
      User functions
      
  </H2>




        Mostly this package is designed for lisp programmers, who add
        some highlight commands in hooks. For quick text highlighting,
        you can use these interactive functions:


<PRE class="code">
      ti::t-looking-at
      ti::t-buffer                        ;; Highlight in whole buffer area
      ti::t-re-search-forward
      ti::t-re-search-backward
      ti::t-undo

      ti::t-clear-buffer-properties
      ti::t-clear-region-properties

      ti::t-mark-region
      ti::t-unmark-region

      ti::t-mouse-mark-region
      ti::t-mouse-unmark-region
</PRE>


</P>
  <A name="206" id="206"></A>
  <H2>
      Setting different face (programming)
      
  </H2>




        If you want permanetly change the face, when marking text
        use commands


<PRE class="code">
      ti::t-search-face-set   ;to set
      ti::t-search-face-reset ;to get default color back
</PRE>


<P class="column8">
        If you want temporarily use some face, supply direct FACE parameter
        when you call search functions, like:


<PRE class="code">
      ti::t-re-search-forward (re &amp;optional level face)
</PRE>


</P>
  <A name="207" id="207"></A>
  <H2>
      Note
      
  </H2>




        This is for simple text highlighting only. Like finding certain items
        or marking something quickly and temporarily (great for text files)


<P class="column8">
        You can mix font-lock/hilit19 and TIMA package, but remember that
        these packages have different goals. Use TIMA only for finding
        things in buffer, or marking certain articles in gnus...


<P class="column8">
        Be carefull: if you use <SAMP class="word">ti::t-clear-buffer-properties</SAMP>, you will
        wipe out all text properties.



</P>
           </BLOCKQUOTE>
           <HR>
               <A name="208"  id="208"></A>
               <H1>
               Tinylibxe.el &ndash; Emulation library for Emacs and XEmacs
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="209" id="209"></A>
  <H2>
      Preface 1996
      
  </H2>




<P><UL>
	<LI>This is library, package itself does nothing.
	<LI>Compatibility for both XEmacs and Emacs
</UL>




<P class="column8">
        I saw some incompatibilities reported for XEmacs and Emacs, which
        prevented writing portable code. I started collecting some
        problematic things here. Please send me more lisp code if you know
        more imcompatibilities, so that developers don't have to struggle
        so much.


</P>
  <A name="210" id="210"></A>
  <H2>
      Overlay.el in XEmacs19.15
      
  </H2>




        Good news; XEmacs 19.15 will have new package that emulates
        Emacs overlay functions. Beware, at least VM goes nuts in XEmacs if you
        load this...
        The author is Joe Nuspl <EM><A HREF="mailto:nuspl@nvwls.cc.purdue.edu" >nuspl@nvwls.cc.purdue.edu</A></EM>


</P>
  <A name="211" id="211"></A>
  <H2>
      What you should know &ndash; keep this in mind
      
  </H2>




        This library's intention is to make it possible to use some package
        that is written only in Emacs or only in XEmacs in mind. Normally
        You couldn't use that package in another emacs, because there may
        be functions that are not implemented.


<P class="column8">
        When you load this library, it emulates those unknown functions
        as much as it can, so that that you can use the package for
        both emacs. However, it may not be possible to reproduce
        exacttly the same behavior in the Emacs that wa not the primary
        target for the package. The emulation may in worst case be
        only so, that you are able to load the package without errors,
        but the functionality of the package doesn't correspond
        to the original version.


<P class="column8">
        When you write your own packages, do not try to make use of the
        latest glory details of the Emacs. If you do, you can be
        sure that your package won't work anywhere else.


</P>
  <A name="212" id="212"></A>
  <H2>
      Coding to specific Emacs
      
  </H2>




        I'd like propose that you don't test against missing fetatures
        when it comes to XEmacs and Emacs compatibility, but instead use
        direct tests


<PRE class="code">
      (emacs-p)           ;; from 'M' lib, tinylibm.el
      (xemacs-p)
</PRE>


<P class="column8">
        In these those <STRONG class="word">specific</STRONG> cases where you would like to use &quot;special&quot;
        code for either Emacs version.



</P>
           </BLOCKQUOTE>
           <HR>
               <A name="213"  id="213"></A>
               <H1>
               Tinyliby.el &ndash; library of functions related to Emacs s(y)stem
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="214" id="214"></A>
  <H2>
      Preface, 1995
      
  </H2>




        Some emacs system related functions are collected hre, that
        I used all the time. I was working with <SAMP class="word">tinydgboot.el</SAMP>, which let
        me boot Ding 0.xx or GNUS 4 configuration without leaving emacs. I had
        to introduce myself to totally new areas in emacs: the symbols in
        obarray.


<P class="column8">
        Briefly

<P><UL>
	<LI> This is lisp code library. Package itself does nothing.
	<LI> Collection of Emacs s(y)stem related functions.
</UL>




</P>
  <A name="215" id="215"></A>
  <H2>
      Code policy
      
  </H2>




        All functions are written by [jari], unless otherwise notified.
        If I have found interesting function from some other .el I have
        written a reference to that .el. If the code is directly taken
        'almost as is' all the credit belongs to the Author of the
        original code. Cheers for him, to write so recpectable code, that
        it can be used right from the box!


</P>
           </BLOCKQUOTE>
           <HR>
               <A name="216"  id="216"></A>
               <H1>
               Tinylisp.el &ndash; Emacs lisp programming help grabbag
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="217" id="217"></A>
  <H2>
      Preface, Feb 1997
      
  </H2>




        My private lisp help functions were scattered around my files and
        in other private libraries. One day I decided that I wanted a minor
        mode to access all those tools I had written for lisp. I didn't
        want to continue stacking up my <SAMP class="word">lisp-mode-hook</SAMP> for all the growing
        features.


<P class="column8">
        So, if you're programming in elisp, this minor mode may slightly
        increase your productivity :-)


</P>
  <A name="218" id="218"></A>
  <H2>
      Overview of features
      
  </H2>




        Lisp coding help

<P><UL>
	<LI>Create list of all variables from the buffer. (or occur menu)
            You can use this list to update your bug report function or just
            to get an overview of the variables. Chck names and the order how
            you have used them (The order is important if you use defcustom)
	<LI>Create function list (or occur menu)
	<LI>Create autoload list
	<LI>Evaluate current definition under point (reparse function,
            reset defvar or even defcustom variable)
	<LI>Print variable's value under point, set variable's value
            under point (backs up the original value which you can restore)
	<LI>Call function under point (to test it immediately)
	<LI>Indent function/variable around point.
	<LI>FINDS LISP CODE ERROR POINT.
	<LI>In DEBUGGER <EM class="word">Backtrace</EM> hit 'R' to record the content of the value
            to <EM class="word">tili-record</EM> This is great when you want to send bug report
            to maintainer and you can attach the state of the variables
	            with it.
</UL>



<P><UL>
	<LI>Code flow help: jump to variable of function definition even if
            it is located in different file. Does not use TAGS; but assumes
            that function is <SAMP class="word">known</SAMP> to Emacs.
	<LI>Two extra echo area modes: Show underlying properties/overlays or
	            Show charcters' syntax information.
</UL>




<P class="column8">
        Edebug support

<P><UL>
	<LI>Sit on function name and call <SAMP class="word">tili-edebug-instrument</SAMP> and
            the remote function will be instrumented. If you used just
            plain edebug, then you'd have to manually load the function into
            current point and hit <SAMP class="word">edebug-eval-defun</SAMP>, for each function.
            (Note that &quot;i&quot; auto-instrument doesn't always work from
            edebug)
	<LI>Easily uninstrument functions: at point, in buffer,
	            everything known
</UL>




<P class="column8">
        Elp support &ndash; Lisp code profiling

<P><UL>
	<LI>Access elp commands from echo menu
	<LI>Profile your package or buffer's functions easily.
            Sit somewhere in function and un/instrument it with one command.
	            Un/instrument all functions in the buffer with one command.
</UL>




<P class="column8">
        Elint support &ndash; Lint your elisp code

<P><UL>
	<LI>catches mispellings and undefined variables
	<LI>function calls with the wrong number of arguments, and
	            some typos such as (let (a (car b)) ...)
</UL>




<P class="column8">
        Checkdoc support &ndash;  Check doc strings for style requirements

<P><UL>
	<LI><A HREF="ftp://ftp.ultranet.com/pub/zappo" target="_top">ftp://ftp.ultranet.com/pub/zappo</A>
	<LI>Easy interface to checkdoc commands.
	<LI>A tool that makes sure your package follows the guidelines
	            presented in File: elisp, Node: Documentation Tips.
</UL>




<P class="column8">
        Find-func.el support


<P class="column8">
	<P><UL>
	<LI>If we cannot determine function by itself, call this package.
</UL>




<P class="column8">
        Remarks

<P><UL>
	<LI>Please take a look new XEmacs package bench.el (19.15 and 20.2)
	            for bechmarking.
</UL>




</P>
  <A name="219" id="219"></A>
  <H2>
      Tutorial, how do you check your package
      
  </H2>




<P><UL>
	<LI>$ f  Take a look at your function names: are they well named,
            so that same categories begin with same words. Below it would be
            a mistake to have latter as xxx-clear-buffer, because then
            you cant find all common function with <SAMP class="word">lisp-complete-symbol</SAMP>
            command on xxx-buffer-*. Code is not a spoken language but
            meant to be used by programmers (Compare function naming in
	            XEmacs and Emacs, where XEmacs does the the right thing)
</UL>




<PRE class="code">
          xxx-buffer-handling
          xxx-buffer-clear

      Check also that your macros are defined first before functions.
      If possible, maintain this definition order in your file

          defvar, defconst, defcustom  (on top of file)
          defsubst
          defmacro
          defun
</PRE>

<P><UL>
	<LI>C-u $ v Check variable names as the function names above,
            but also see that you have defined right user variables which
            should be using <SAMP class="word">defcustom</SAMP>. The extra C-u argument will print
            this information.
	<LI>$ x  Check the lisp package layout: first line and footer must
            be in proper format and that Author etc. tags are in
            their places.
	<LI>Check the documentation strings with Checkdoc.
            To get overview of errors, do: $ c -  and $ c RET
            which a) turned off query b) checked whole buffer for errors.
            When you have got a clear look, then start correcting mistakes
            and do $ c a (semiautomatic correction) $ c BACKSPACE to correct
	            full buffer.
</UL>




</P>
  <A name="220" id="220"></A>
  <H2>
      Defcustom.el and evaluating an `defcustom' variable
      
  </H2>




        If you don't know what defcustom is, or if you don't use it, you
        can ignore this section. The defcustom variables are evaluated
        pretending like they were <SAMP class="word">defconst</SAMP>, but because this evaluation
        is a bit special, pay attention to following paragraph.


<P class="column8">
        If you got thrown to error during evaluation, pay attention now,
        CALL COMMAND $ Z or <SAMP class="word">M-x</SAMP> <SAMP class="word">tili-emergency</SAMP> IMMEDIATELY. For full
        details, see function documentation strings in the source file for
        these:


<PRE class="code">
      (defadvice defconst
      (defun     tili-eval-at-point
</PRE>


</P>
  <A name="221" id="221"></A>
  <H2>
      Find lisp code error position
      
  </H2>




        The most usefull functions in this package are the two error
        finding functions which try their best to put you on a line that
        generates the lisp error. You can use this feature to eg. check
        your ~/.emacs starup files and find the spot where
        <SAMP class="word">eval-current-buffer</SAMP> fails.


<P class="column8">
        The best function, <SAMP class="word">tili-error-find-1</SAMP>, was programmed by Mikael
        Djurfeldt <EM><A HREF="mailto:mdj@sanscalc.nada.kth.se" >mdj@sanscalc.nada.kth.se</A></EM> and is included here with his
        permission. Thanks Mikael, the funstion has saved from me a lot
        of debugging!


</P>
  <A name="222" id="222"></A>
  <H2>
      Following lisp code call chain
      
  </H2>




        The traditional way to follow lisp code is to use TAGS file (See
        'etags' or 'ctags' shell binary and C-h a &quot;tags&quot;) which reads bunch
        of *el files and builds up internal representation of all defined
        symbols and their locations.


<P class="column8">
        But using tags is not very flexible if you write the code yourself,
        because when you add new fucntion or new variable, the TAGS file is
        immediately out of date. Hm. The TAGS is general tool for many
        programming languages, but in Emacs lisp, we can take advantage of
        the fact that Emacs already knows where the symbols are defined.
        The information is stored to <SAMP class="word">load-history</SAMP> whenever you run <SAMP class="word">load</SAMP>
        <SAMP class="word">require</SAMP> <SAMP class="word">load-file</SAMP> or <SAMP class="word">load-library</SAMP>.


<P class="column8">
        In this package, there are two functions that make use of
        <SAMP class="word">load-history</SAMP> and if the symbol is not in the history, they try to
        find definition from the current buffer. You see, if you do
        <SAMP class="word">eval-current-buffer</SAMP> the definition information is <STRONG class="word">not</STRONG> stored to
        <SAMP class="word">load-history</SAMP>. With these commands you can browse some packages
        without any extra TAGS file.


<P class="column10"><EM class="quote10">
          <SPAN class="word-ref">[The only assumption is that you have <SAMP class="word">loaded</SAMP> the file !!]</SPAN></EM>



<PRE class="code">
      $ '     tili-jump-to-definition (do not record call chain)
      $ +     tili-jump-to-definition-chain (record call chain)
      $ \177  tili-back-to-definition (propably your backspace key)
              This returns to previously saved call-chain point
</PRE>


<P class="column8">
        The jump command also know following prefix arguments


<PRE class="code">
      M-0 $ ' tili-jump-to-definition (empty call chain)
      C-u $ ' tili-jump-to-definition (record call-chain)
</PRE>


</P>
  <A name="223" id="223"></A>
  <H2>
      Examining text properties and overlays in buffer
      
  </H2>




        If you have ever played with text properties or overlays (called
        extents in XEmacs), you know how hard it is to examine buffer's
        characters and debug where the properties are.


<P class="column8">
        In this package there is &quot;constant char browing mode&quot; where every
        time you move your cursor, the face info and/or overlay info is
        displayed in the echo-area. If you supply <SAMP class="word">3</SAMP> <SAMP class="word">C-u</SAMP> arguments, the
        information is also recored to the separate buffer. This is the
        most easiest way to examine some chacter properties in arbitrary
        buffer positions. See C-h f on following function:


<PRE class="code">
      $ p     tili-property-show-mode
</PRE>


</P>
  <A name="224" id="224"></A>
  <H2>
      Examining charcter syntax
      
  </H2>




        Major modes define syntax tables for characters and sometimes you
        want to see the syntax class of a character under cursor. This mode
        behaves in the same manner as text propery display, just turn it on
        and it will constantly show char info.


<PRE class="code">
      $ y     tli-syntax-show-mode
</PRE>


</P>
  <A name="225" id="225"></A>
  <H2>
      Snooping interesting variables
      
  </H2>




        Has is happeed to you that your're debugging package and it
        installs many hooks and and sets many different variables and then
        you suddenly realize that it went all wrong? You may evn have
        noticed that some ill behaving package keeps preventing file
        writing!


<P class="column8">
        No problem, you can define interesting variable sets to peek their
        contents, eg. checking all file related hooks for problems.  And if
        you supply C-u prefix arg, your editings are updated to the
        variables. With any other non-nil arg, the contents of the
        variables are recorded (kinda before install &ndash; after install
        snooping) See function:


<PRE class="code">
      $ s     tili-snoop-variables
</PRE>


<P class="column8">
        And additional prefix arguments: You can save variables states,
        modify them as you like, and go back to restores values.


</P>
  <A name="226" id="226"></A>
  <H2>
      Elp: notes
      
  </H2>





<P class="column10"><EM class="quote10">
          <SPAN class="word-ref">[excerpt from Barry's elp.el]</SPAN>
          ...Elp can instrument byte-compiled functions just as easily as
          interpreted functions, but it cannot instrument macros.  However,
          when you redefine a function (e.g. with eval-defun), you'll need to
          re-instrument it with M-x <SAMP class="word">elp-instrument-function</SAMP>.  This will also
          reset profiling information for that function.  Elp can handle
          interactive functions (i.e. commands), but of course any time spent
          idling for user prompts will show up in the timing results.</EM>



<P class="column8">
        To elp functions right, follow these steps. <STRONG class="word"><EM class="word">important</EM></STRONG> '(defun&quot;
        must be left flushed in order the function to be found. If there is
        any leading spaces before the '(' or 'defun', then function won't
        be found and will not be (un)instrumented.

<P><UL>
	<LI>$ E A Restore (a)ll elp'd functions
	<LI>$ -   Eval buffer containing functions (or eval single function)
	<LI>$ I   Instrument all functions in buffer (or single function)
	<LI>$ h   Run the harness test that calls the functions
</UL>




</P>
  <A name="227" id="227"></A>
  <H2>
      Elp: Summary mode's sort capabilities
      
  </H2>




        When you call $ E s to show the elp result(s), the results buffer
        is put into <SAMP class="word">tili-elp-summary-mode</SAMP> where you can sort the columns
        with simple keystrokes. The sort keys correspond to the column names.


<PRE class="code">
      f)unction Name  c)all Count  e)lapsed Time  a)verage Time
      =============   ==========   ============   ============
</PRE>


</P>
  <A name="228" id="228"></A>
  <H2>
      Elp: customizations
      
  </H2>




        You should be aware of this variable in elp; which resets the
        list every time you display it.


<PRE class="code">
      elp-reset-after-results
</PRE>


<P class="column8">
        You can toggle it's value from the echo menu.


</P>
  <A name="229" id="229"></A>
  <H2>
      Edebug support
      
  </H2>




        To instrument function for edebug, you'd normally have curson inside
        current function and call <SAMP class="word">C-u</SAMP> <SAMP class="word">M-x</SAMP> <SAMP class="word">edebug-eval-defun</SAMP>. But
        suppose you only see function call like this:


<PRE class="code">
      (my-function arg arg arg)
</PRE>


<P class="column8">
        then you'd have to a) find out where the function is defined
        b) load that file c) position cursor over the fuction definition
        d) call edebug to instrument it. That's too much of a work. Instead
        there are commands that do this for you. See edebug submap <SAMP class="word">C-e</SAMP>
        for edebug commands


<PRE class="code">
      $ C-e RET   Instrument function _named_ at point
      $ C-e DEL   Uninstrument function _named_ at point
      $ C-e SPC   Instrument all functions in buffer
      $ C-e x     Uninstrument all functions in buffer
      $ C-e X     Uninstrument all functions instrumented by $ C-e RET


</PRE>

</P>
           </BLOCKQUOTE>
           <HR>
               <A name="230"  id="230"></A>
               <H1>
               Tinyload.el &ndash; Load set of packages when Emacs is idle (lazy load)
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="231" id="231"></A>
  <H2>
      Preface, Jul 1997
      
  </H2>




        While I had arranged my Emacs <SAMP class="word">rc</SAMP> files to use all possible and
        imagineable autoloads, there still were packages that couldn't be
        autoloaded due to their setup nature or behaviour. I still had to
        put <SAMP class="word">require</SAMP> commands into my <SAMP class="word">.emacs</SAMP> in order to use those
        modules. It also meant that for every <SAMP class="word">require</SAMP> command, the Emacs
        startup slowed. I had a very very complex boot configuration, so
        waiting 2 minutes for Emacs startup screen was too frustrating. It
        was all my fault, why did I had to stuff all interesting packages
        in the startup file...And guess what, This package was born. Now
        my emacs is ready for typing in 10 seconds. Voila.


<P class="column8">
        What this package does, it caches the load requests and executes
        them when it thinks there is free time. Instead of setting up
        all at once on startup, we build the emacs configuration piece
        by piece, untill your 100% configuration is there.


<P class="column8">
        The benefit is that your Emacs start instantly, and when it is
        idle, it loads all the remaining packages that you wanted to be
        available in your daily Emacs session.


</P>
  <A name="232" id="232"></A>
  <H2>
      Overview of features
      
  </H2>




<P><UL>
	<LI>Delayed (Lazy) loading of packages (at some later time); eg after
            15 seconds of idle time, remaining files are loaded one by one.
	<LI>You no longer have to use <SAMP class="word">require</SAMP> in your .emacs, instead,
            you define <SAMP class="word">tilo-:load-list</SAMP> where you put the request.
	<LI>Your .emacs starts 10x faster when the extra <SAMP class="word">require</SAMP>
	            <SAMP class="word">load</SAMP> commands are out.
</UL>




</P>
  <A name="233" id="233"></A>
  <H2>
      First user notice
      
  </H2>




        When you use this package for the first time, you may feel
        uncomfortable with the amount of messages you see running by in
        your echo area. And if you're in echo-area prompt (eg. after <SAMP class="word">C-x</SAMP>
        <SAMP class="word">C-f</SAMP>) those messages ruin your display there too.


<P class="column8">
        Just don't panic. Move your cursor key to the left or right or do
        something else and the loading will be interrupted. As long as
        there is activity in your Emacs the load will not happen.


<P class="column8">
        The messages that are displayed in the echo area are important,
        because they get stored to <EM class="word">Messages</EM> buffers and you can take a
        look if anything strange happened. Like if some package couldn't be
        loaded at all. Pay attention to <EM class="word">fatal</EM> messages.


</P>
  <A name="234" id="234"></A>
  <H2>
      Messages in *Message* buffer
      
  </H2>




        There are different types of messages


<PRE class="code">
      TinyLoad: fdb ok      (10% 1/10)              [1]
      TinyLoad: elp 'noerr! (20% 2/10)              [2]
      TinyLoad: fatal load error ~/.emacs.init.el   [3]
</PRE>

<P><UL>
	<LI><SPAN class="word-ref">[1]</SPAN> Package was loaded and show some remaining
            statistics.
	<LI><SPAN class="word-ref">[2]</SPAN> You had defined 'noerr parameter and the
            recent load of the package failed: it didn't exist along
            <SAMP class="word">load-path</SAMP>.
	<LI><SPAN class="word-ref">[3]</SPAN> When file was beeing loaded; some error was generated. You
            should study this file by hand and spot the problem manually.
	            Be sure that the syntax of the file is correct.
</UL>




<P class="column8">
        In addition to these basic messages, there are some internal
        messages that do not concern regular user, only the maintainer.
        When he TinyLoad wakes up; you will see following message


<PRE class="code">
      Tinyload: timer expired; invoking load process... [ok;ok;N]
                                                          | |  |
                                             process status |  |
                                              Continue status  |
                              Busy count; and deadlock indicator
</PRE>


<P class="column8">
        Which simply means that Emacs called the laoder function and
        because <EM class="word">Continue</EM> <EM class="word">status</EM> was nil, user did nothing at the time
        of invocation. If the message [busy;stop;N] then user was doing
        something that weren't allowed to be interrupted. Usually this
        happens when cursor is in echo area eg. after <SAMP class="word">C-x</SAMP> <SAMP class="word">C-f</SAMP>.
        If the cursor never leaves the echo area or if the busy situation
        continues for a certain period of time, the program automatically
        clears the busy signal and continues loading. You should not see
        infinite [busy;stop.N] messages. If you really see 100 such messages;
        then contact the author: there must be an unresolved deadlock and
        a bug in the program.


<P class="column8">
        When the <SAMP class="word">tilo-:load-list</SAMP> has been handled, the laoder process
        terminates itself. The following message tells that the process has
        ceased to exist. If you want to start reading the list again,
        call <SAMP class="word">M-x</SAMP> <SAMP class="word">tilo-install</SAMP>.


<PRE class="code">
      TinyLoad: Bye, No more packages to load.
</PRE>


</P>
  <A name="235" id="235"></A>
  <H2>
      Tutorial
      
  </H2>




        You better understand how you would use this package if I demonstrate
        the usage with examples. Let's supposes your emacs startup consists of
        following <SAMP class="word">rc</SAMP> files.


<PRE class="code">
      .emacs              &ndash; the main load controller
      .emacs.path.el      &ndash; settings paths/1st line mode list...
      .emacs.bup.el       &ndash; Backup settings
      .emacs.set.el       &ndash; Std Emacs variable settings

      .emacs.keys.el      &ndash; Keyboard settings
      .emacs.font.el      &ndash; Fonts and Font lock; faces settings
      .emacs.hooks.el     &ndash; All add-hook commands and mode settings.
      .emacs.gnus5.el     &ndash; GNUS 5 customizations (could be .gnus too)
      .emacs.std-pkg.el   &ndash; Loading std Emacs packages and their setup
      .emacs.pkg.el       &ndash; Non-std distrib, additional packages
      .emacs.tips.el      &ndash; Tips (code samples) from the Usenet
      .emacs.mail.el      &ndash; mail agent; mode; settings
</PRE>


<P class="column8">
        Now suppose your .emacs load all these files like this


<PRE class="code">
      ;; .emacs &ndash; Emacs startup controller

      (require 'rc-path   &quot;~/.emacs.path&quot;)
      (require 'rc-bup    &quot;~/.emacs.bup&quot;)
      (require 'rc-set    &quot;~/.emacs.set&quot;)
      (load &quot;~/.emacs.keys.el&quot;)
      (require 'rc-font   &quot;~/.emacs.font&quot;)
      (load &quot;~/.emacs.hooks&quot;)
      (load &quot;~/.emacs.gnus5&quot;)
      (load &quot;~/.emacs.std-pkg&quot;)
      (load &quot;~/.emacs.pkg&quot;)
      (load &quot;~/.emacs.tips&quot;)
      (add-hook 'mail-mode-hook
                '(lambda () (require 'rc-mail &quot;~/.emacs.mail&quot;)))
</PRE>


<P class="column8">
        Both <SAMP class="word">require</SAMP> and <SAMP class="word">load</SAMP> commnds have been used: you use the
        <SAMP class="word">require</SAMP>, if you don't expect that the file will change during
        your emacs session and you use <SAMP class="word">load</SAMP> if you expect it to
        change. If you would call


<PRE class="code">
      M-x load-file ~/.emacs
</PRE>


<P class="column8">
        Only the <SAMP class="word">load</SAMP> command's files would be loaded again. All the
        <SAMP class="word">require</SAMP> files would have been skipped, because the <SAMP class="word">rc</SAMP> resource
        features had already been defined.


<P class="column8">
        Okay, loading all these files, either with <SAMP class="word">require</SAMP> or <SAMP class="word">load</SAMP>,
        takes too much time when you start Emacs; it is time to activate the
        delayed loading. Your emacs looks like this after some rearrangements


<PRE class="code">
      ;; .emacs &ndash; Emacs startup controller
      ;; We want to have these minimum features immediately available

      (require 'rc-path   &quot;~/.emacs.path&quot;)
      (require 'rc-bup    &quot;~/.emacs.bup&quot;)
      (require 'rc-set    &quot;~/.emacs.set&quot;)
      (load &quot;~/.emacs.keys.el&quot;)

      ;;  Load this setup when I start composing mail.

      (add-hook 'mail-mode-hook
                '(lambda () (require 'rc-mail &quot;~/.emacs.mail&quot;)))

      ;;  But we can afford loading these later

      (defconst tilo-:load-list
        '((&quot;~/.emacs.font&quot;    'rc-font)
          (&quot;~/.emacs.hooks&quot;   'rc-hooks)
          (&quot;~/.emacs.gnus5&quot;   'rc-gnus5)
          (&quot;~/.emacs.std-pkg&quot; 'rc-std-pkg)
          (&quot;~/.emacs.pkg&quot;     'rc-pkg)
          (&quot;~/.emacs.tips&quot;    'rc-tips)
          (&quot;~/.emacs.mail&quot;    'rc-mail)
          ))

      ;;  Byte compile this and the require is fast.

      (require 'tinyload)
</PRE>


<P class="column8">
        Whe you load this .emacs, only the most necessary files are loaded
        and your Emacs is up very fast. When the <SAMP class="word">tinyload</SAMP> finds that
        your Emacs is idle it loads all the rest packages you defined in
        the <SAMP class="word">tilo-:load-list</SAMP>. As simple as that.


<P class="column10"><EM class="quote10">
          NOTE: Please pay attention to one detail above. The ~/.emacs.mail
          will be loaded from load list <STRONG class="word">and</STRONG> it will be loaded when
          you call M-x <SAMP class="word">mail</SAMP>. Do you believe there is redundancy? The
          idea is that you may call M-x <SAMP class="word">mail</SAMP> way before the TinyLoad
          reaches that file in its load list and the hook guarrantees that
          you get the setup at mail invoke time.</EM>



<P class="column10"><EM class="quote10">
          But it may be the other way round: TinyLoad has already loaded
          the mail setup for you and thus invoking M-x <SAMP class="word">mail</SAMP> is fast,
          because there is nothing to load any more.</EM>



<P class="column10"><EM class="quote10">
          Similar things you should do to GNUS, VM, RMAIL and others that
          you call and whose setup you want to have immediately available</EM>



<P class="column8">
        For more complex setup, refer to end of this source file, where I
        have attached my personal setup.


</P>
  <A name="236" id="236"></A>
  <H2>
      Delayed loading, require and autoload
      
  </H2>




        Above you saw how to load your Emacs <SAMP class="word">rc</SAMP> files. But the delayed
        loading is not only suitable for those. It also helps you to load
        files, that can't be autoloaded.


<P class="column10"><EM class="quote10">
          If you can arrange loading a packages with <SAMP class="word">autoload</SAMP> command,
          do that. Never put <SAMP class="word">require</SAMP> or direct <SAMP class="word">load</SAMP> command into your
          Emacs <SAMP class="word">rc</SAMP> file, because load commands eat start time.</EM>



<P class="column8">
        Well defined package explain in the <EM class="word">installation</EM> section two ways
        how to load it: here is an example from tinytab.el


<PRE class="code">
      (require 'tinytab)

      or use this; your .emacs is read quicker

      (autoload 'tit-mode              &quot;tinytab&quot; t t)
      (autoload 'tit-return-key-toggle &quot;tinytab&quot; t t)
</PRE>


<P class="column8">
        The first way forces loading the file (takes time); and the latter
        only tells that the package's functions <SAMP class="word">tit-return-key-toggle</SAMP> and
        <SAMP class="word">tit-mode</SAMP> exist. If you happen to call those functions, <STRONG class="word">only</STRONG>
        then the package gets loaded. The big difference here is that when
        you put the latter in your Emacs rc file, Emacs reads it 20x faster
        than the <SAMP class="word">require</SAMP> command.


<P class="column8">
        It is not always possible arrange loading package with autoloads,
        because the package may behave so that in order to get the features
        installed, package must do the setup by itself: you can't do it
        yourself as in autoload case. Here are few packages that can't be
        autoloaded:


<PRE class="code">
      tinymy      &ndash; collection of utilities
      fdb         &ndash; Emacs Debug error filter
      fa-extras   &ndash; Filling extras
      suggbind    &ndash; Command reminder
</PRE>


<P class="column8">
        When you would normally include a <SAMP class="word">require</SAMP> command into your Emacs
        <SAMP class="word">rc</SAMP> file, you can now move the package to load list and keep
        only autoloads in the <SAMP class="word">rc</SAMP> files.


<PRE class="code">
      ;; Old .emacs.pkg.el rc file

      (autoload ....
      (autoload ....
      (require 'fa-extras)
      (autoload ....

      ;; New .emacs.pkg.el rc file

      (autoload ....
      (autoload ....
      (autoload ....
</PRE>


<P class="column8">
        And the missing entry has been moved to <SAMP class="word">tilo-:load-list</SAMP>.


</P>
  <A name="237" id="237"></A>
  <H2>
      Use separate rc file for load definitions
      
  </H2>




        It may be good idea to make a separate <SAMP class="word">rc</SAMP> file that only has
        the load list definition and a call to tinyload.el, like this:


<PRE class="code">
      ;; .emacs.tilo.el &ndash; load definitions for tinyload.el
      ;;
      ;; If you compile this file, defconsts shuts up ByteCompiler

      (defconst tilo-:load-list
        '(...
          ...
          ))
      (require 'tinyload)
      (provide 'rc-tinyload)
      ;; End of file
</PRE>


<P class="column8">
        And then you add following call to your .emacs, to the end
        of the file Id assume, while the place really doesn't matter.


<PRE class="code">
      (require 'rc-tinyload &quot;~/.emacs.tilo&quot;)
</PRE>


</P>
  <A name="238" id="238"></A>
  <H2>
      Timer process used
      
  </H2>




        A normal timer process is used to load the packages from the load
        list. The timer runs in regular intervals and loads one package at
        a time: more packages are not loaded if there was input pending at
        the time of previous load.


<P class="column8">
        The load messages are recorded to <EM class="word">Messages</EM> buffer. In Old Emacs
        releases this buffer does not exist; but it will be created for you.


</P>
  <A name="239" id="239"></A>
  <H2>
      About implementation
      
  </H2>




        When you define <SAMP class="word">tili-:load-list</SAMP>, the value of the variable is
        saved under property 'original. When the idle timer runs, the list
        is read from the beginning and each package at a time is loaded.
        The last unloaded package position is saved under property 'pos.


<P class="column8">
        The situation looks like this:


<PRE class="code">
      tili-:load-list 'original   --&gt; (list) original contents
      tili-:load-list 'pos        --&gt; (nth nbr) next package to load.
</PRE>


<P class="column8">
        If your do something in your emacs while the list is beeing looped,
        or when the loader function is about to be called, that interrupts
        the work. Next time the timer funtions run runs, happens:

<P><UL>
	<LI>It checks if the current list matches 'original. Yes, means that
            the list hasn't been modified. No, means that it should examine
            the list all aver again, starting from the beginning.
	<LI>If the list was original, it picks the 'pos point and
            loads all the remaining packages, one at a time until it
            sees activity.
	<LI>If there is nothing to load, the 'pos points to the end
	            of list. Function returns immediately and does nothing.
</UL>




</P>
  <A name="240" id="240"></A>
  <H2>
      Force loading
      
  </H2>




        There is also property 'fatal-list which contains entries that
        couldn't be loaded. The list is updated while the loading takes
        place. If you examined the failed files and made some corrections;
        you can try to reload the whole load list again if you call


<PRE class="code">
      C-u M-x tilo-loader-process
</PRE>


</P>
  <A name="241" id="241"></A>
  <H2>
      Restart
      
  </H2>




        If you want to restart the evaluation of load list, call <SAMP class="word">M-x</SAMP>
        <SAMP class="word">tilo-install</SAMP>, which will install the package again by removing
        old processes and resetting counters.


</P>
           </BLOCKQUOTE>
           <HR>
               <A name="242"  id="242"></A>
               <H1>
               Tinylock.el &ndash; Simple emacs locking utility
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="243" id="243"></A>
  <H2>
      Preface, feb 1995
      
  </H2>




        This is again one of those 'tiny tools' I came up with time to
        time. It was inspired by a post to gnu.emacs.help group where
        someone asked for emacs locking capability. Two years ago I did
        similar terminal locking shell script, but I never thought it
        would be nice for emacs too.


<P class="column8">
        I had a sketch of what to do 2 months ago, but I was so busy I
        never completed this el. So I couldn't post the answer to person
        asking for the locking capability.


<P class="column8">
        I find this usefull, when I'm leaving my work place and want to set
        my emacs in consistent state, so that no-one accidentally messes my
        C++ project files. I normally leave all xterms and emacses open
        during the weekend and anyone may use my X-tube meanwhile. And
        nowadays when I use PGP I appreciate that I can lock my mail
        buffers and PGP pass phrases inside emacs safely when I go
        somewhere else for a while.


</P>
  <A name="244" id="244"></A>
  <H2>
      Overview of features
      
  </H2>




<P><UL>
	<LI>Locks emacs completely until right key is entered.
	<LI>Auto-locks emacs after NN minutes idle time
	<LI>False login attemps are stored in history log.
	<LI>Blanks display or displays message buffer when locked.
	<LI>Hooks: before and after lock is activated and removed
</UL>




</P>
  <A name="245" id="245"></A>
  <H2>
      About locking procedure
      
  </H2>




        Don't get shocked now... When the lock gets in effect there must be
        no running processes inside emacs that would generate error and
        make emacs vulnerable to break in's.


<P class="column8">
        That's why all the running processes are killed before the lock
        takes in effect. If you have some valuable processes that are
        constantly running, you must make a separate &quot;process control&quot;
        function that would restart any such processes. Use the appropriate
        hook to activate those processes again after the emacs is
        unlocked. Use hooks


<PRE class="code">
      til-:before-lock-hook       ;; Save processes here
      til-:after-lock-hook        ;; restore processes here
</PRE>


<P class="column8">
        and following function which tells you what processes are running.


<PRE class="code">
      M-x list-processes
</PRE>


<P class="column8">
        All extra frames are also deleted. At least for now, because I
        don't know a reasonable way to save the frame configurations
        right now. Please send me piece of code or pointer to package
        that can save and restore frames and the windows back to previous
        state if you know good solution.


</P>
  <A name="246" id="246"></A>
  <H2>
      About auto locking feature, Emacs prior 19.34
      
  </H2>




        When you load this package the <SAMP class="word">til-:load-hook</SAMP> runs
        <SAMP class="word">til-process-control</SAMP> command that setup up a timer process that
        wakes up periodically. If the emacs has not changed compared to
        last saved emacs state, then the auto locking takes in effect
        immediately.


<P class="column8">
        In old Emacs the activity is determined in simple way

<P><UL>
	<LI>if buffer list order has changed user is doing something.
	<LI>if <SAMP class="word">switch-buffer</SAMP> was used, user is doing something
	<LI>if any buffer's size has changed, user is doing something.
</UL>




<P class="column8">
        This checking may not be anough in somes: if user just scroll some
        text in buffer for NN minutes, then from <SAMP class="word">til-process</SAMP> 's point of
        view there has not been any activity and the user may suddenly
        notice that emacs locks up. Doing nothing but viewing one buffer
        all the time is fortunately rare.


</P>
  <A name="247" id="247"></A>
  <H2>
      About auto locking feature in new Emacs
      
  </H2>




        New Emacs releases have command <SAMP class="word">run-with-idle-timer</SAMP> which we use
        if it is available. When there has been no activity for NN minutes,
        your Emacs locks up.


<P class="column8">
        The advice code and the other tricks we needed to detect idle
        activity in lower emacs versions aren't installed in these Emacs
        versions, so you don't have to worry about sudden lock.


</P>
  <A name="248" id="248"></A>
  <H2>
      Auto lock password
      
  </H2>




        Do not put password in your ~/.emacs, but answer to the question
        which is asked when this file is loaded. If you want to change it
        during your emacs session, call function


<PRE class="code">
      M-x til-auto-lock-set-password
</PRE>


</P>
  <A name="249" id="249"></A>
  <H2>
      Changing the auto lock interval
      
  </H2>




        The auto lock interval depends on the wake up time of timer
        process. The default time is 20 minutes when you load this
        file. You can change the time by calling


<PRE class="code">
      M-x til-auto-lock-set-interval
</PRE>


<P class="column8">
        Or by putting this code in your ~/.emacs


<PRE class="code">
      ;; First define the hook, so that we can append to it
      (setq til-:load-hook
         '(til-timer-control til-auto-lock-set-password)

      ;; add function to the end
      (add-hook 'til-:load-hook 'my-til-auto-lock-set-interval 'append)


      (defun my-til-auto-lock-set-interval ()
        &quot;Change interval to 10 minutes.&quot;
        (til-auto-lock-set-interval 10))
      ;; end of example

</PRE>

</P>
           </BLOCKQUOTE>
           <HR>
               <A name="250"  id="250"></A>
               <H1>
               Tinylpr.el &ndash; Easy Emacs lpr command handling, popup, completions
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="251" id="251"></A>
  <H2>
      Preface, 1996, overview of features
      
  </H2>




<P><UL>
	<LI>Managing printers or print styles easily
	<LI>Queue information
	<LI>Has ready X-popup example to select print styles etc.
	<LI>Echo menu provided to select printing advice:
</UL>




<PRE class="code">
      TinyLpr: 01c2 r)egion b)uffer l)ine numbers d)printer
               Q)ueue s)tyle &gt;P
</PRE>


<P class="column8">
	<P><UL>
	<LI>Ps print support in another <SAMP class="word">P</SAMP> echo-menu:
</UL>




<PRE class="code">
      TinyLpr: 01c2(ps) rR)egion bB)uffer sS)Spool d)espool
</PRE>


</P>
  <A name="252" id="252"></A>
  <H2>
      Story behind this package
      
  </H2>




        Long time ago, I get frustrated that in out environment there
        existed dozen printers and also I had dozed ways to print the
        file. In HP-UX there exists many printing related commands:


<PRE class="code">
      mmpage       multi-page 1-8, like sunOS enscript
      lp
      lpr
      a2ps
      squeeze.awk  my own empty line squeezer. Ever run CPP on C/C++ ?
      groff        I make some nroff files...
      banner       big letters
      lpstat
      col -bx      remove ctrl codes from man pages
      pps          pretty printer for PostScript &ndash; jau@tut.fi
      pr           format files
      fold         fold long lines for finite width output device
      adjust       for filling, centering, ..justifying
</PRE>


<P class="column8">
        If I wanted to print the file in some other format, ie combining
        some of the commands I had to go and chnage the


<PRE class="code">
      lpr-switches
</PRE>


<P class="column8">
        every time. That was real tedious. And I stopped that after first
        experiments. Instead I made nice popup menu to emacs where I could
        see lpstatus, select print command, cancel print job etc...


</P>
           </BLOCKQUOTE>
           <HR>
               <A name="253"  id="253"></A>
               <H1>
               Tinymacro.el &ndash; Fast way to assign newly created macro to key
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="254" id="254"></A>
  <H2>
      Preface, 1995
      
  </H2>




        Started as a very little project when <EM><A HREF="mailto:mosh@ramanujan.cs.albany.edu" >mosh@ramanujan.cs.albany.edu</A></EM>
        (Mohsin-Ahmed) 1995-03-17 in gnu.emacs.help post asked for easy way
        to assign newly created macro to some key.


<P class="column8">
        I sent a reply, where I had made simple function to do such thing,
        unfortunately Mohsin bounced me and complained that it didn't work
        right and that he didn't want only one macro, which was recycled
        every time. I had sent code which used only one, and the same
        function name every time it was called, effectively erasing the old
        macro.


<P class="column8">
        I started twisting the code little bit, and so I finally came up with
        this package, which uses user configurable macro-name-functions.


</P>
  <A name="255" id="255"></A>
  <H2>
      Description
      
  </H2>




<P><UL>
	<LI>Two keystrokes to make a macro: one to record, one to
            assign it to key.
	<LI>To see the macro assignments to keys, just call <SAMP class="word">tim-macro-info</SAMP>
	<LI>Default macro count is 10, but you can increase it with <SAMP class="word">tim-:stack-max</SAMP>
</UL>





</P>
           </BLOCKQUOTE>
           <HR>
               <A name="256"  id="256"></A>
               <H1>
               Tinymail.el &ndash; Some mail add-ons. Report incoming mail, TAB complete
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="257" id="257"></A>
  <H2>
      Preface, Apr 1996
      
  </H2>




        This mail composing helper functions have been with me over a year
        or so but and I finally decided to put them to a nice package.
        Hope you find use for this 'tiny tool' too and don't
        hesitate to drop me a mail if you know more nifty things that
        I could add here to improve this package.


</P>
  <A name="258" id="258"></A>
  <H2>
      Overview of features
      
  </H2>




<P><UL>
	<LI>Generate sendmail PLUS emulated address: login@domain (Mr Foo+info)
            Works like real sendmail PLUS addressing:
            login+info@domain (Mr Foo)
	<LI>Generate anti-ube addresses to prevent UBE from arriving to your
            mailbox.
	<LI>Some handy additions to mail sending interface.
	<LI><SAMP class="word">X-Sender-Info</SAMP> field is generated while you type To address.
	<LI>Changes Fcc dynamically according to header content.
	<LI>Very easy TAB completion: two modes, alias and definition string.
            Also completes password file entries if your .mailrc doesn't
	            have match.
</UL>



<P><UL>
	<LI>Easy interface for completing field with TAB. Eg completing
            Followup-To/Gcc/Newsgroups and any user defined field; like
            Class or Priority
	<LI>Fcc/Gcc folder can have compression extension .gz or .Z
	<LI>Customizable TAB key. You can use tab for other purposees
	            in other headers than Cc/To where it completes email addresses.
</UL>



<P><UL>
	<LI>Mail, GNUS 4/5 message, VM, MH compatible.
	<LI>MIME support: turns on Multipart sending if buffer size is
            bigger than 50K. (this is just an example function) for
	            <SAMP class="word">timi-:post-hook</SAMP>.
</UL>




<P class="column7"><EM><STRONG>
       BBDB supported</STRONG></EM>



<P class="column8">
        Search BBDB for partial matches when you complete To and Cc
        fields in header. Eg if you remember person's address, &quot;site&quot; or
        something, hit just TAB and all found <SAMP class="word">Net</SAMP> field completions
        are offered.


<P class="column8">
        Notice that you have to <STRONG class="word">manually</STRONG> add Eg full
        user name, phone number, whatever to the Net Field on order to
        complete to those items. The default <SAMP class="word">:</SAMP> command adds only
        this:


<PRE class="code">
      Foo Bar
           net: abc@example.com
</PRE>


<P class="column8">
        An in order to make that usefull for completion purposes, you need to
        modify the field with <SAMP class="word">C-o</SAMP>


<PRE class="code">
      Foo Bar
           net: Foo Bar - Head of Skyscraper inc. abc@example.com
</PRE>


<P class="column8">
        Now you can complete to any word found in the <SAMP class="word">Net</SAMP> line.


</P>
  <A name="259" id="259"></A>
  <H2>
      Installation note
      
  </H2>




        This package installs itself to <SAMP class="word">mail-setup-hook</SAMP> and you should
        know why if you try to get the package running for some other
        mail agent that Emacs mail, RMAIL, GNUS and VM where this pacakge
        has been tested.


<P class="column8">
        The <SAMP class="word">mail-setup-hook</SAMP> is called <EM class="word">after</EM> the basic headers, like
        To and Subject, are already in the buffer. Function <SAMP class="word">timi-mail</SAMP>
        needs to read the contents of To in order to determine how
        it starts (it puts 1 or 2 spaces at the beginning of To field at
        the initial start, so that the pacakges Cc control is started
        right. When you call simple mail, C-x m, the auto Cc feature is on
        (1 space) and when you hit reply, the auto Cc feature is off
        (2 spaces).


<P class="column8">
        So, if your mail agent doesn't call <SAMP class="word">mail-setup-hook</SAMP>, find similar
        hook that runs after the headers are in the buffer and install
        to that hook <SAMP class="word">timi-mail</SAMP>.


</P>
  <A name="260" id="260"></A>
  <H2>
      Completion: Guess Completion feature
      
  </H2>




        There are two basic completion modes: 'alias and 'string,
        which is selected via <SAMP class="word">timi-:complete-mode</SAMP>. They refer to
        your ~/.mailrc definitions:


<PRE class="code">
      alias Peter-Pan     &quot;Disney character &ndash; <EM><A HREF="mailto:ppan@disney.com" >ppan@disney.com</A></EM>&quot;
            |             |
            alias mode    string match mode
</PRE>


<P class="column8">
        when you hit the completions key (TAB in headers) the current
        word is picked at point and searched from either of these two
        definition lists.


<P class="column8">
        Since the alias expansion is familiar to everyone, I'll only explain
        the latter. It is very powerfull completion indeed. Say you
        have this in your ~/.mailrc


<PRE class="code">
      alias tweedle &quot;Mister Foo, Skyscraper Doing co. foo@company.com&quot;
</PRE>


<P class="column8">
        Then you start composing a message. The lines 1-4 present what
        possibly you can type into the To: field before you hit the
        comletion key, TAB.


<PRE class="code">
      1  To: company
      2  To: Foo
      3  To: sky
      4  To: mister
</PRE>


<P class="column8">
        It doesn't matter what you type initially; it can be anything you
        remember from the person's definition string. At this point you
        call <SAMP class="word">timi-complete-guess</SAMP> key, TAB, and any of those lines, 1-4,
        will be replaced with


<PRE class="code">
      To: Mister Foo, Skyscraper Doing co. foo@doing.com
</PRE>


<P class="column8">
        Easy? Yup, and if there are more matches to, say &quot;foo&quot;, you're offered
        a completion list of alias names, where you can pick exact match.


<P class="column8">
        You no longer have to remember &quot;exact&quot; alias names, It's enough
        if you remember &quot;something&quot; that belongs to person's definition:
        email, surname, firstname, domain part....


<P class="column7"><EM><STRONG>
       Accepting the found match from .mailrc</STRONG></EM>



<P class="column8">
        TinyMail supports running several completion function so that
        the right match is inserted into the buffer. In order to
        discard the found match from .mailrc file, you can set a trigger
        to <SAMP class="word">timi-:confirm-mailrc-regexp</SAMP>. Suppose, you want to confirm
        completion whenever you are sending mail to your collegues that
        work in &quot;disney.com&quot;. You'd set:


<PRE class="code">
      (setq timi-:confirm-mailrc-regexp &quot;disney.com&quot;)
</PRE>


<P class="column8">
        And if the match was picked from mailrc, you have a chance to
        reject the string and move on with other completion functions.


<PRE class="code">
      To: world
</PRE>


<P class="column8">
        When you hit tab here, a string &quot;info@disneyword.com&quot; was found from
        the mailrc, but that's not what you want to insert and because
        you had set timi-:confirm-mailrc-regexp, you get confirmation:


<PRE class="code">
      TinyMail: Use? info@disneyword.com
</PRE>


<P class="column8">
        Which you answer &quot;n&quot;. The completion was cancelled and all
        other function in the Shared Tab key have a chance to find more
        suitable choice. (See Shared tba key explanation later)


</P>
  <A name="261" id="261"></A>
  <H2>
      Completion: Password table
      
  </H2>




        In addition to .mailrc completion, there is support for completing
        entries found from <EM class="word">passwd</EM> file. If the Guess complete above fails
        the password file is examined if the mode is turned on. See
        variable


<PRE class="code">
      timi-:password-mode
</PRE>


<P class="column8">
        Which is set to t by default. When you complete password entries
        for the first time, building all necessary variables will take
        some time. This is normal and you have to live with that.


<P class="column8">
        Once the password file completions have been parsed, the content
        is written to cache file


<PRE class="code">
      timi-:password-file
</PRE>


<P class="column8">
        Next time you need password completions, if this file exists,
        it will be read insted of heavy /etc/passwd file parsing. If you
        want to force reading the /etc/passwd again, just delete that file
        and it will be recreated next time passwd completion is used.


</P>
  <A name="262" id="262"></A>
  <H2>
      Completion: Custom completion of any header
      
  </H2>




        You can complete any fild by setting variable
        <SAMP class="word">timi-:table-header-complete</SAMP> For example to complete two header,
        you would set the variable like this. See variable documentation
        for more information.


<PRE class="code">
      (set-alist
       'timi-:table-header-complete
       &quot;Class&quot;                ;; Add new header with completion list
       '(&quot;confidential&quot;
         &quot;private&quot;
         &quot;for internal use only&quot;
         &quot;personal private&quot;
         &quot;personal another&quot;
         ))
      ;; end example
</PRE>


</P>
  <A name="263" id="263"></A>
  <H2>
      Minor mode: basic information
      
  </H2>




        Emacs clears <SAMP class="word">post-command-hook</SAMP> in case of errors and in response to
        too many <SAMP class="word">C-g</SAMP> keypresses and this causes TinyMail to die, because
        it is sintalled in the hook. To reinstall the hooks, you call


<PRE class="code">
      C-c t m
</PRE>


</P>
  <A name="264" id="264"></A>
  <H2>
      Minor mode: To field tracking
      
  </H2>




        While you're composing message, this package awakens in
        regular basis and checks your To: field's content. If it finds
        anything to do, it adds some more fields to your message.


<PRE class="code">
      To: foo@bar.com             &lt;-- let's assume this triggers
</PRE>


<P class="column8">
        Result is:


<PRE class="code">
      To: foo@bar.com
      X-Sender-Info: Jerry Foo. 21st, NY, p. 222-333-444.
</PRE>


<P class="column8">
        As soon as the X-Sender-Info tracking is done, the To-field
        content is saved. When the tracking awaken again, it <EM class="word">checks</EM> if
        the To-field content has changed against this saved value. If it
        hasn't, nothing is done.


<P class="column8">
        This means, that you <EM class="word">can</EM> modify the contents of X-Sender-Info
        field after the post command function has finished. If you later
        want to force it to track the headers again, change the To-field
        contents somehow (add space to the end...)  and this gives a signal
        that to-field has changed.


</P>
  <A name="265" id="265"></A>
  <H2>
      Minor mode: Fcc field tracking
      
  </H2>




        By default the Fcc is not added in your mail message, thus the
        automatic Fcc tracking doesn't get activated. Add following entry
        into your emacs to record your outgoing mail messages


<PRE class="code">
      (setq mail-archive-file-name &quot;~/.RMAIL.out&quot;)
</PRE>


<P class="column8">
        When Emacs sees that you have set this, it adds the Fcc field to
        your mail message. Alternatively you can press keys


<PRE class="code">
      C-c C-f C-f    ;; mail-fcc
</PRE>


<P class="column8">
        in <EM class="word">mail</EM> buffer and it asks you to insert the Fcc field.  Only
        now, when the Fcc is in the message, the automatic Fcc handling
        starts snooping around your headers and changing it if it finds a
        match from variable


<PRE class="code">
      timi-:table-fcc
</PRE>


<P class="column8">
        If you want to disable Fcc changing (and edit it by hand),
        put two spaces at front of the Fcc. like this:


<PRE class="code">
      FCC:  ~/.RMAIL.secondary
          ^^
</PRE>


<P class="column7"><EM><STRONG>
       Fcc and saving outgoing copy in compressed format</STRONG></EM>



<P class="column8">
        If you have an ccount that has quota limits, you want to save space
        as much as possible. You can save your outgoing mail copy in
        compressed format if you prepend the filename with &quot;.gz&quot; or
        &quot;.Z&quot;. TinyMail will automatically load jka-compr if it sees any of
        those extensions. The fcc folder definition looks like this.


<PRE class="code">
      (defconst timi-:table-fcc
         (list
          (list &quot;elisp-archive&quot;    &quot; ~/.mail.elisp-post.gz&quot;)
          (list &quot;bug-gnu&quot;          &quot; ~/.mail.bug.gz&quot;)
          (list &quot;.&quot;                &quot; ~/.mail.out.gz&quot;) ;; general
          ))
</PRE>


<P class="column8">
        The <SAMP class="word">my-z</SAMP> function adds &quot;.gz&quot; into the filename if you have enabled
        the compression. The implementation of the <SAMP class="word">my-z</SAMP> function is
        presented in the end of the file. You can use it to construct other
        filenames as well. You <STRONG class="word">have</STRONG> to add (require 'jka-compr) is you
        want to use compresses RMAIL file.


<PRE class="code">
      ;;  first one is defined in paths.el
      (setq rmail-file-name        &quot;~/RMAIL.gz&quot;)
      (setq mail-archive-file-name &quot;~/.RMAIL.out.gz&quot;)
</PRE>


</P>
  <A name="266" id="266"></A>
  <H2>
      Minor mode: Gcc archiving in Gnus
      
  </H2>




        Gcc featuire is similar to Fcc, but the Gcc is special in GNUS 5
        newsreader. All instruction you read above about Fcc are same for
        Gcc tracking feature. The only table you have to configure is


<PRE class="code">
      timi-:table-gcc
</PRE>


<P class="column8">
        Before you start defining Gnus folders; you must create them to
        Gnus from <EM class="word">Group</EM> buffer with commands G m. Eg. I have created
        following Gnus folders for newsgroup posting


<PRE class="code">
      nnfolder+archive:post-pgp
      nnfolder+archive:post-emacs
      nnfolder+archive:post-gen
</PRE>


<P class="column8">
        Which are used when I hit F key to answer to message. [See setup
        below] You might wonder &quot;...if I use code below and TIMI; what
        happens?&quot;. The code below sets the Gcc folder only once when you
        start composing message, propably a followup and there is a
        <SAMP class="word">Newsgroups</SAMP> header in the buffer. But if you hit R r to reply
        directly to person (or use message-mode for mailing), there is <SAMP class="word">To</SAMP>
        header in the buffer. Only now TIMI changes the Gcc field according
        to <SAMP class="word">To</SAMP> field contents.


<P class="column8">
        The code below is for Newsgroup posting, TIMI, in the other hand is
        for private mail handling.


<PRE class="code">
      (setq gnus-message-archive-group 'my-gnus5-archive)

      (defun my-gnus5-archive  (group)
        &quot;Achive outgoing mail to right group: Create the group by G m&quot;
        (interactive)
        (let* (
               )
          (or (stringp group)                 ;No accidents...
              (setq group &quot;&quot;))
          (cond
           ((string-match &quot;pgp\\|anon\\|privacy&quot; group)
            (my-z &quot;nnfolder+archive:post-pgp&quot;))
           ((string-match &quot;emacs\\|gnu&quot; group)
            (my-z &quot;nnfolder+archive:post-emacs&quot;))
           (t
            (my-z &quot;nnfolder+archive:post-gen&quot;)
            ))
          ))
      ;;

</PRE>


</P>
  <A name="267" id="267"></A>
  <H2>
      Feature: Sending message to mailing list
      
  </H2>




        In Gnus you may have defined mailing lists like this


<PRE class="code">
      list.linux-announce
      list.ding
      list.java
</PRE>


<P class="column8">
        And your personal work and mail groups with


<PRE class="code">
      mail.private
      mail.misc

      work.documents
      work.fault
      work.customer
</PRE>


<P class="column8">
        And so on (daemon messages to junk.daemon, Spam to junk.spam ...)
        Now suppose you are reading group list <SAMP class="word">list.xxx</SAMP> and you hit <SAMP class="word">f</SAMP>
        to send followup to an article. Your composed message looks like this:


<PRE class="code">
      To: Artile-posted-by-person-foo  foo@bar.com
      Cc: some-list-member,  <EM><A HREF="mailto:list-xxx@listmanager.service.net" >list-xxx@listmanager.service.net</A></EM>
</PRE>


<P class="column8">
        The Message goes to two people in the list and get's CC'd to
        list. Not what you want. You want simple:


<PRE class="code">
      To: <EM><A HREF="mailto:list-xxx@listmanager.service.net" >list-xxx@listmanager.service.net</A></EM>
</PRE>


<P class="column8">
        And this is what TinyMail does for you. All you need to do it to
        make sure the current list group has Group parameter <SAMP class="word">to-list</SAMP>.
        defined. You add one with G p From <EM class="word">Group</EM> and typing


<PRE class="code">
      ((to-list . &quot;The List NAME list-foo@bar.com&quot;))
</PRE>


<P class="column8">
        This feature is controlled by <SAMP class="word">timi-:feature-hook</SAMP> which contains
        function <SAMP class="word">timi-mail-send-to-list</SAMP>. If you remove the function from
        the hook, this feature is disabled


</P>
  <A name="268" id="268"></A>
  <H2>
      Feature: Reporting incoming mail in local mail spool
      
  </H2>




        Function to control mail reporting:


<PRE class="code">
      turn-on-timi-report-mail
      turn-off-timi-report-mail
</PRE>


<P class="column8">
        When you load this package a Report Mail feature is activated.
        If you're running windowed Emacs, the X-dragbar (top of the frame)
        is used to display the last incoming mail and count of pending
        unread mail. Here the last message was from Mr. foo and the
        pending mail count in spool is six.


<PRE class="code">
      &quot;foo@bar.com 6&quot; ;; See variable `timi-:report-format-string'
</PRE>


<P class="column8">
        In non-windowed Emacs this same information is displayed in echo
        are instead. If you would like to have it always displayed in
        echo are, even in X envinronment, then set variable
        <SAMP class="word">timi-:report-window-system</SAMP> to nil before loading this package.


<P class="column8">
        If you would like see more infomation about the arrived mail, you
        can adjust <SAMP class="word">timi-:report-spool-buffer-control</SAMP> eg. to keep
        permanent record of incoming mail. Value 'keep says that the report
        mail buffer is kept when mail is queried, so you can glance it from
        time to to for full information about arrived messages.


<P class="column8">
        If the only feature you want is the mail reporting functionality,
        you can activate it and disable all other settings with:


<PRE class="code">
      (setq timi-:enter-mail-hook-list nil)  ; Don't activate timi-mode
      (require 'tinymail)
</PRE>


<P class="column7"><EM><STRONG>
       Setting up report mail notify program</STRONG></EM>



<P class="column8">
        The <SAMP class="word">timi-:report-mail-notify-program</SAMP> feches the Berkeley Mailbox
        formatted information from mailboxes. The default program used
        is from(1), but in case you don't have it, a equivalent command
        &quot;grep '^From ' $MAIL&quot; is used. See also frm(1)
        and nfrm(1) newmail(1) mailfrom(1) if you can use them in your system.


<P class="column8">
        If you use Gnus and separate spool files, like you do with Procmail,
        then you need to gather all the information from the spool files.
        Let's suppose you don't want to know about mailing list messages,
        but only messages saved to your private and work spool files:


<PRE class="code">
      ~/Mail/spool        or nnmail-procmail-directory
      mail.misc
      mail.private
      mail.programming
      mail.emacs
      mail.java
      ...

      work.meetings
      work.docs
      work.customer
      ...
</PRE>


<P class="column8">
        In that case you have to install custom mail notify program. A
        simple multiple mailbox grep will work here. Note, we also grep
        default MAIL:


<PRE class="code">
      (setq timi-:report-mail-notify-program
        (format
          &quot;grep '^From ' %s %s %s &quot;
          (or (getenv &quot;MAIL&quot;) (error &quot;No $MAIL defined&quot;))
          (concat (expand-file-name &quot;~/Mail/spool/&quot;) &quot;mail.*&quot;)
          (concat (expand-file-name &quot;~/Mail/spool/&quot;) &quot;work.*&quot;)))
</PRE>


<P class="column8">
        Take a look at variable <SAMP class="word">timi-:report-spool-buffer-control</SAMP> which
        has default value 'keep where the <SAMP class="word">timi-:report-mail-notify-program</SAMP>
        results are gathered. You may find it usefull to keep the
        <SAMP class="word">timi-:report-spool-buffer</SAMP> <EM class="word">timi-mail-spool</EM> visible in some
        distant frame to act like biff(1). From there you can find more
        detailled information of incoming message queue, than the simple
        message count in echo-area or x-dragbar.


<P class="column8">
        <STRONG class="word">Note</STRONG>: XEmacs has package <SAMP class="word">reportmail.el</SAMP>. In case that package
        is loaded, the report mail feature here is not installed.


</P>
  <A name="269" id="269"></A>
  <H2>
      Feature: TM/SEMI MIME support
      
  </H2>




        When you're sending a big message and you have Tm mime-edit
        mode active, the split flag will be turned automatically on
        if the message size exceeds <SAMP class="word">mime-editor/message-default-max-lines</SAMP>
        You will see odeline indicator &quot;SplitN&quot;, where N is approximated
        count of the splits. If you don't want to send split message
        (you really should to save network capasity), then you have
        to turn off the split flags: <SAMP class="word">mime/editor-mode-flag</SAMP>.
        Use frunction <SAMP class="word">timi-tm-editor-toggle-split-flag</SAMP> to toggle the flag.
        <STRONG class="word">Note</STRONG>: &quot;split1&quot; means that there is only one message to be sent, if
        it says &quot;Split2&quot;, then approx. 2 parts will be sent.


</P>
  <A name="270" id="270"></A>
  <H2>
      Feature: Saving unused mail buffers on Emacs exit
      
  </H2>




        This file installs one function to <SAMP class="word">kill-emacs-hook</SAMP> that loops
        through all mail buffers and appends the buffer content to


<PRE class="code">
      timi-:dead-mail-file
</PRE>


<P class="column8">
        If you had some unfinished messages that you didn't yet send, you
        can restore the copy from this file when you restart emacs again.
        By default function <SAMP class="word">mail-send-and-exit</SAMP> is adviced so that when
        you send mail and hit C-c C-c the <EM class="word">mail</EM> buffer is not buried, but
        killed (ie. there is no dead mail in your emacs when you send
        them). In gnus 5 message-mode, you hsould also use following to
        trash sent mail


<PRE class="code">
      (setq message-kill-buffer-on-exit t)
</PRE>


<P class="column8">
        If you don't want to use this feature, add following command to
        your .emacs


<PRE class="code">
      (add-hook 'timi-:load-hook 'my-timi-:load-hook)
      (defun my-timi-:load-hook  ()
        (remove-hook 'kill-emacs-hook 'timi-save-dead-mail))
      ;; End
</PRE>


<P class="column8">
        <STRONG class="word">Note</STRONG>: VM keeps the sent mail buffer around. This package won't
        install <SAMP class="word">timi-save-dead-mail</SAMP> if VM is already present when package is
        loaded. If you load TinyMail first and VM afterwards, the hook got
        installed at the load phase of TinyMail. If you're a VM user, you
        may prefer the above suggestion where <SAMP class="word">my-timi-:load-hook</SAMP> makes
        sure the hooks is not there.


</P>
  <A name="271" id="271"></A>
  <H2>
      Feature: anti-ube email addresses
      
  </H2>





<P class="column7"><EM><STRONG>
       Philosophy</STRONG></EM>



<P class="column8">
        Changing the email address so that is is not pointing to your natural
        address is usually referred as &quot;address munging&quot;. There are two schools
        that take firm position to express their views in this matter. Those
        who say that it is &quot;plain wrong to munge address&quot; and those who say
        &quot;RFC does not require you to use REAL, returnable, address&quot;. I'm
        from the non-purist side and I think that the email address is property
        of an individual who take measureres to protect himself from getting
        into the email harvester's &quot;2 billion email address on a CD rom for
        $100&quot;


<P class="column8">
        To clear your mind from doubts whether it is right to munge the
        address according to RFC hear [1997-11-05 gnus.emacs.gnus,
        Marty Fouts]:

<P><UL>
	<LI>The real implementation of news software doesn't care if the from
            field is munged or not
	<LI>No RFC forces the address of the poster to be a <EM class="word">reachable</EM> addr.
            It only requires such addresses to be syntactically correct.
	<LI>RFC 1036 <STRONG class="word">specifically</STRONG> states that it is not an internet
            standard.
	<LI>netnews is a <EM class="word">public</EM> forum. mail is a <EM class="word">private</EM>
            communication medium. Posting in a <STRONG class="word">public</STRONG> forum does not
            require that I give you access to <STRONG class="word">private</STRONG> address, just as
            speaking at a public meeting does not require that I give you my
	            unlisted phone number.
</UL>




<P class="column7"><EM><STRONG>
       Why munge From address</STRONG></EM>


<P><UL>
	<LI>Email address is one's own property. The reasons to munge are
            one's own.
	<LI>Filter solution is no-road. It's an arms race; some UBE always
            sneaks through and it will never stop the actual UBE.
	<LI>Not all people have access to filtering tools (eg. Unix Procmail).
	<LI>POP users download their post and each UBE byte costs in transfer
	            time.
</UL>




<P class="column8">
        NOTHING WORKS AS WELL AS <EM class="word">NOT</EM> GIVING THE REAL ADDRESS IN THE
        FIRST PLACE.


<P class="column8">
        With TinyMail you can ativate the address munging very easily
        for selected newsgroups and make those email harverters gatehering job
        more difficult. Human's that want to contact you can still decode the
        address if they want to talk to you direct.


<P class="column8">
        To activate address munging for newsgrus matching regexp, set variable
        <SAMP class="word">timi-:from-anti-ube-regexp</SAMP>. Your <SAMP class="word">user-mail-address</SAMP> is be hahsed
        and different adderss is generated every time.


<PRE class="code">
      me@here.com   --&gt; me.ads-hang@here.com, me.hate-ube@here.com ...
</PRE>


</P>
  <A name="272" id="272"></A>
  <H2>
      Feature: Sendmail Plus Addressing (introduction)
      
  </H2>




        <SPAN class="word-ref">[excerpted from Procmail tips, pm-tips.txt, for background]</SPAN>


<P class="column10"><EM class="quote10">
          Recall from [rfc1036] that the prederred Usenet email address
          formats are following</EM>



<PRE class="code">
          From: login@example.com
          From: login@example.com (First Surname)
          From: First Surname login@example.com
</PRE>


<P class="column10"><EM class="quote10">
          A new sendmail supports plus addressing, where the address is
          treated like login@example.com and the extra &quot;plus-info&quot; is
          available eg to procmail or other LDAs. See Eli'd faq for more
          information at <A HREF="http://www.faqs.org/faqs/mail/addressing/" target="_top">http://www.faqs.org/faqs/mail/addressing/</A> A typical
          sendmail enabled plus address looks like:</EM>



<PRE class="code">
        login+plus-info@domain
</PRE>


<P class="column10"><EM class="quote10">
          We can simulate plus addressing with pure RFC compliant address. We
          exploit RFC comment syntax, where comment is any text inside
          parentheses. According to Eli's paper, comments should be preserved
          during transit. They may not appear in the extact place where
          originally put, but that shouldn't be a problem. So, we send out
          message with following <SAMP class="word">From</SAMP> or <SAMP class="word">Reply-To</SAMP> line:</EM>



<PRE class="code">
        first.surname@domain (First Surname+mail.default)
</PRE>


<P class="column10"><EM class="quote10">
          Now, when someone replies to you, the MUA usually copies that
          address as is and you can read in the receiving end the PLUS
          infomation and drop the mail to appropriate folder: <SAMP class="word">mail.default</SAMP>.</EM>



<P class="column10"><EM class="quote10">
          <SPAN class="word-ref">[About subscribing to mailing lists with RFC comment-plus addess]</SPAN></EM>



<P class="column10"><EM class="quote10">
          It's very unfortunate that when you subscribe to lists, the comment
          is not preserved when you're added to the list database. Only the
          address part is preserved. I even put the comment inside angles to
          fool program to pick up everything between angles.</EM>



<PRE class="code">
        first.surname(+list.linux)@example.com
</PRE>


<P class="column10"><EM class="quote10">
          But I had no luck. They have too good RFC parsers, which throw away
          and clean comments like this. Eg. procmail based mailing lists, the
          famous <SAMP class="word">Smartlist</SAMP>, use <SAMP class="word">formail</SAMP> to derive the return address and
          <SAMP class="word">formail</SAMP> does not preserve comments. The above gets truncated to</EM>



<PRE class="code">
        first.surname@example.com
</PRE>


<P class="column10"><EM class="quote10">
          You can put anything inside RFC comment and do whatever you want
          with these plus addresses. <STRONG class="word">NOTE</STRONG>: there are no guarrantees that
          the RFC comment is preserved everytime. Well, the standard RFC822
          says is must be passed untouched, but I'd say it is 90% of the
          cases where mail is delivered from one server to another, it is
          kept.</EM>



<P class="column10"><EM class="quote10">
          Example: if you discuss in usenet groups, you could use address</EM>



<PRE class="code">
        first.surname@example.com (First Surname+usenet.default)
        first.surname@example.com (First Surname+usenet.games)
        first.surname@example.com (First Surname+usenet.emacs)
        first.surname@example.com (First Surname+usenet.linux)
</PRE>


</P>
  <A name="273" id="273"></A>
  <H2>
      Feature: Sendmail Plus Addressing in TinyMail
      
  </H2>




        The idea of setting PLUS information is that you &quot;tag&quot; you messages
        and when thay are returned to you, you can file the messages to proper
        folders. For me the  my procmail traps the plus infomation and files,
        but you can make Gnus to store the messages too by using fancy
        splitting.


<P class="column8">
        The sender field generation is disabled in <SAMP class="word">message-mode-hook</SAMP>
        by function <SAMP class="word">timi-message-disable-sender</SAMP>, so that From field is
        trusted. If you still want to generate the <EM class="word">Sender</EM> field, then
        add this after package has been loaded.


<PRE class="code">
      (remove-hook 'timi-message-disable-sender 'message-mode-hook)
</PRE>


<P class="column7"><EM><STRONG>
       Non-Group posting</STRONG></EM>



<P class="column8">
        Use your custom function to decide that address to use and what plus
        information to use bt setting function to <SAMP class="word">timi-from-info-function</SAMP>.
        Non-Group posting means, that your're not inside ant Gnus Newsgroup
        from where you initialte &quot;post&quot;. A typical invocation to no-Group
        posting is C-x m.


<P class="column7"><EM><STRONG>
       Newwsgroup posting</STRONG></EM>



<P class="column10"><EM class="quote10">
          You might want to set <SAMP class="word">timi-from-info-function</SAMP> return different
          email address for usenet newsgroup posts. Order some free email
          eg from <A HREF="http://www.xoom.com/" target="_top">http://www.xoom.com/</A> and use that for Usenet discussions.
          That way you can reserve your normal address to your private
          email communication.</EM>



<P class="column8">
        The settings you need to enable the address generation is quite
        basic. Table <SAMP class="word">timi-:from-table-prefix</SAMP> sets the left part of the
        plus address component and <SAMP class="word">timi-:from-table-postfix</SAMP> can set the
        right part after period.


<PRE class="code">
      timi-:from-table-prefix + timi-:from-table-postfix
</PRE>


<P class="column8">
        forms the  &quot;+left.right&quot; information added after your
        <SAMP class="word">user-full-name</SAMP> part. If <SAMP class="word">timi-:from-table-prefix</SAMP> returns
        nothing, the <SAMP class="word">timi-:from-table-postfix</SAMP> is used as is.  Here is
        example setup. Pay attention to the &quot;work.misc&quot; which is sole return
        value for all addresses matching &quot;my-work-site&quot;.


<PRE class="code">
      (defconst timi-:from-table-prefix
        '((&quot;emacs\\|perl&quot; . &quot;mail&quot;)
          (&quot;.&quot;   &quot;usenet&quot;)
          )
      ;;

      (defconst timi-:from-table-postfix
        '(
          (&quot;games&quot;                                 . &quot;games&quot;)
          (&quot;emacs\\|[a-z]+\\.el\\&gt;\\|(def\\|(setq&quot; . &quot;emacs&quot;)
          (&quot;perl\\|\\.pl\\&gt;&quot;                       . &quot;perl&quot;)
          (&quot;my-work-site\\&gt;&quot;                       . &quot;work.misc&quot;)
          )
      ;;
</PRE>


<P class="column7"><EM><STRONG>
       Gnus support</STRONG></EM>



<P class="column8">
        If you use Gnus as a newsreader, then you get sme bonus. There are lot
        added value for gnus users so that the default plus information is
        generated based on the group you're posting from. In genral the
        plus address generated is directly the group's name. That's quite
        convenient.


<P class="column8">
        Mailing lists:

<P><UL>
	<LI>Rename all your mailing lists to start with convertion &quot;list.NAME&quot;
            like list.ding, list.linux, list.procmail, list.dance ...
	<LI>Edit each mailing lists group parameter with G p from <EM class="word">Group</EM>
	            buffer and add mailing list destination address address
</UL>




<PRE class="code">
          ((to-list . &quot;Mailing List Name <EM><A HREF="mailto:address@domain" >address@domain</A></EM>&quot;))
</PRE>


<P class="column8">
        Now when the <SAMP class="word">to-list</SAMP> property is set, The Gnus group is labelled
        as &quot;mailing list&quot;. If the <SAMP class="word">to-list</SAMP> property is not set, the group is
        not considered as mailing list.


</P>
  <A name="274" id="274"></A>
  <H2>
      Configuration: Post command and Faster response
      
  </H2>




        The post command takes a nap regularly and when it awakens, it ;;
        checks what has happened to headers. If you feel that the response
        time ;; is too slow, you can change the value


<PRE class="code">
      timi-:awake-time
</PRE>


<P class="column8">
        You must remember that the more smaller the time is, the more often
        the post command is run. This means that whenever you hit cursor
        down to move around the buffer, the more likely you see that the
        cursor hangs or doesn't move very quickly. It takes some time to
        run the post-command, so it is not recommended that you use too low
        value.


<P class="column8">
        Please use PgUp and PgDown keys instead to move over big buffer
        portions to avoid cursor hang effect.


</P>
  <A name="275" id="275"></A>
  <H2>
      Configuration: Highlighting colour settings
      
  </H2>




        The default highlighting is only provided to your convenience. If
        you use <SAMP class="word">font-lock</SAMP> the internal highlighting is <EM class="word">automatically</EM>
        suppressed.


</P>
  <A name="276" id="276"></A>
  <H2>
      Configuration: Default citation header
      
  </H2>




        In this packge you find function <SAMP class="word">timi-citation-generate</SAMP> which
        generates citation that uses international iso8601 date format,
        user name and the Gnus mailing group from where you're replying


<PRE class="code">
      * Tue YYYY-MM-DD John Doe johnd@example.com mail.emacs
      | ...said something
</PRE>


<P class="column8">
        to activate this citation refererence function with your Mail User
        Agent (Gnus, RMAIL ..), call:


<PRE class="code">
      (add-hook 'timi-load-hook 'timi-install-citation)
</PRE>


<P class="column8">
        For supercite, you install this function to the handlers and
         select it with index 0.</STRONG>



<PRE class="code">
      (require 'sc)
      (push (list timi-citation-generate) sc-rewrite-header-list)
      (setq sc-preferred-header-style 0)
</PRE>


</P>
  <A name="277" id="277"></A>
  <H2>
      Code Note: Shared TAB key
      
  </H2>




        When TinyMail is active in the mail buffer, it takes ower your tab
        key. The default function <SAMP class="word">timi-complete-guess-in-headers</SAMP> is
        electric, meaning that it behaves like ordinary tab if the point
        is not in Cc or To headers. If the point is in C or in To, then
        the completion feature is activated. If you have plans to use the tab
        key to do some other special things in other headers, you're free to
        to do so. All you have to do is to add your own custom function
        into


<PRE class="code">
      `timi-:complete-key-hook'
</PRE>


<P class="column8">
        and have it return <SAMP class="word">t</SAMP> if your function did something. See also
        <SAMP class="word">timi-:table-header-complete</SAMP> where you can define custom headers and
        the completions easily.


</P>
  <A name="278" id="278"></A>
  <H2>
      Examples
      
  </H2>




        Look at the end of this file for examples I may have attached.


</P>
           </BLOCKQUOTE>
           <HR>
               <A name="279"  id="279"></A>
               <H1>
               Tinymbx.el &ndash; Berkley style aka std. mailbox browsing minor mode
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="280" id="280"></A>
  <H2>
      Preface, sep 1997
      
  </H2>




        I started using Procmail to manage my growing incoming mail and when
        it stuck the messages in different folders I was in trouble. I
        used to direct UBE, UCE and Spam mail to different folders, but
        sometimes my procmail filter just guessed wrong and it put
        perfetly valid file into one of these reject folders.


<P class="column8">
        Whan, I had to manually check each time if there was some
        some valid message lurked into these mailboxes and then extract
        it out of there. Not very nice job to do. I didn't have Slick
        GNUS 5 at that time looking at the folders and managing my mail
        there so I decided to pull out some code and start making some
        toll for me.


</P>
  <A name="281" id="281"></A>
  <H2>
      Overview of features
      
  </H2>




<P><UL>
	<LI>Browse your standard unix mailbox .mbox .mbx .spool
	<LI>Kill, copy messages from that mailbox. Copy messaeg bodies.
	<LI>Font lock, defcustom supported.
	<LI>Hide or show headers when you browse your mailbox
	<LI>Simple summaries done with <SAMP class="word">occur</SAMP> command. Eg. to browse
	            messages based on <SAMP class="word">From</SAMP> or <SAMP class="word">Subject</SAMP> Headers.
</UL>




</P>
  <A name="282" id="282"></A>
  <H2>
      Showing and hiding headers
      
  </H2>




        When you browse a email message, it has lot of attached headers,
        which don't interest you at all when you want to look at the
        messages itself. for examples here is one typical header from
        a test message


<PRE class="code">
      From nobody Sun Sep 28 20:57:48 1997
      To: nobody
      Subject: Re: bandwidth (was: [RePol] check this issue)
      References: <EM><A HREF="mailto:tbd8lwmfid.fsf@totally-fudged-out-message-id" >tbd8lwmfid.fsf@totally-fudged-out-message-id</A></EM>
      From: Foo bar <EM><A HREF="mailto:judgeDredd@marylyn.com" >judgeDredd@marylyn.com</A></EM>
      Date: 28 Sep 1997 20:57:47 +0300
      In-Reply-To: Jeff's message of &quot;Tue, 23 Sep 1997 01:35:26 -0400&quot;
      Message-ID: <EM><A HREF="mailto:tbiuvlmick.fsf@marylyn.com" >tbiuvlmick.fsf@marylyn.com</A></EM>
      X-Mailer: Quassia Gnus v0.11/Emacs 19.34
      Lines: 3
      Xref: marylyn.com junk-test:4
      X-Gnus-Article-Number: 4   Sun Sep 28 20:57:48 1997
</PRE>


<P class="column8">
        When you go from this message with <SAMP class="word">timbx-forward</SAMP>, the headers
        that you're interested in are only shown according to
        <SAMP class="word">timbx-:header-show-regexp</SAMP>. The above headers lookes like this after
        processing it:


<PRE class="code">
      To: nobody
      Subject: Re: bandwidth (was: [RePol] check this issue)
      From: Foo bar <EM><A HREF="mailto:judgeDredd@marylyn.com" >judgeDredd@marylyn.com</A></EM>
      Date: 28 Sep 1997 20:57:47 +0300
      X-Mailer: Quassia Gnus v0.11/Emacs 19.34
      X-Gnus-Article-Number: 4   Sun Sep 28 20:57:48 1997
</PRE>


<P class="column8">
        By default all the <SAMP class="word">X-</SAMP> headers are shown, so you may want to make
        the <SAMP class="word">timbx-:header-show-regexp</SAMP> a bit more restrictive if your
        messages have too much X-headers. You can toggle this message
        hiding feature with


<PRE class="code">
      C-q     or timbx-header-hide-mode
</PRE>


</P>
  <A name="283" id="283"></A>
  <H2>
      Copying or deleting messages
      
  </H2>




        When you browse the mailbox, you can perform copy or delete on
        the current message with following commands.


<PRE class="code">
      ' RET   timbx-copy
      ' SPC   timbx-copy-body
      ' d     timbx-delete
</PRE>


</P>
  <A name="284" id="284"></A>
  <H2>
      Moving between the messages
      
  </H2>




        There are couple of movement commands that let you jump from
        one message to another. See also variable <SAMP class="word">timbx-:move-header-regexp</SAMP>


<PRE class="code">
      C-p     timbx-forward-body  or Ctrl-home
      C-n     timbx-backward-body or Ctrl-end
      home    timbx-forward       (see timbx-:move-header-regexp)
      end     timbx-backward

</PRE>

</P>
           </BLOCKQUOTE>
           <HR>
               <A name="285"  id="285"></A>
               <H1>
               Tinymy.el &ndash; Collection user ('my') functions. Simple solutions.
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="286" id="286"></A>
  <H2>
      Preface, Nov 1995
      
  </H2>




        My .emacs files started to look quite interesting:


<PRE class="code">
      .ema.tips       .emacrs.el      .emacrs.el.b    .emacrs.el.sun
      .emacrs.el~     .emacs          .emacs.18       .emacs.19
      .emacs.19~      .emacs.abb      .emacs.c-fl     .emacs.compile
      .emacs.debug    .emacs.default  .emacs.font     .emacs.ding
      .emacs.font.b   .emacs.gnus     .emacs.gnus.o   .emacs.hooks
      .emacs.init     .emacs.init2    .emacs.ja       .emacs.mail
      .emacs.o        .emacs.o-19     .emacs.out      .emacs.out~
      .emacs.path     .emacs.pc       .emacs.prog     .emacs.set
      .emacs.test     .emacs.time     .emacs.tips     .emacs.vc
      .emacs.w3       .emacs.x-menu   .emacs.xe       .emacs_context
      .emacs.dired..[rest of the files zapped]
</PRE>


<P class="column8">
        My private functions seemed to grow all the time, most of them were
        turned into packages, but sometimes it was just function or two
        that made my life with emacs easier.


<P class="column8">
        What you see here is a selection of so called <EM class="word">my</EM> functions. The
        term <EM class="word">my</EM> does not refer to <EM class="word">mine</EM>, but has backround in function
        naming. Remember? all user functions are recommended to be named
        so, that the first word is <SAMP class="word">my-</SAMP>, like <SAMP class="word">my-FUNC-NAME-HERE</SAMP>


</P>
  <A name="287" id="287"></A>
  <H2>
      Overview of features
      
  </H2>




        Timer processes

<P><UL>
	<LI>RMAIL/other buffers saved in regular intervals.
	<LI>Revert buffer in background and ask confirmation, if file
            has changed on disk. By <EM><A HREF="mailto:duthen@cegelec-red.fr" >duthen@cegelec-red.fr</A></EM>
            (Jacques Prestataire)
	<LI>Mail lock watchdog. If you have this lock in your file system,
	            you cannot receive mail.
</UL>




<P class="column8">
        buffer

<P><UL>
	<LI>Rename any buffer with one key <SAMP class="word">C-z</SAMP> <SAMP class="word">n</SAMP> to be able to launch
            eg. new <EM class="word">shell</EM> or <EM class="word">mail</EM> buffer.
	<LI>Scroll command goes to window end/beginning and does not scroll
            immediately. See variable <SAMP class="word">timy-:scroll-mode</SAMP> for more.
	<LI>Trim trailing whitespaces from the buffer when file
            is saved.
	<LI>Stamp file info when buffer is saved: &quot;Docid:&quot;, &quot;Contactid:&quot;
            and LCD package entry fields.
	<LI>Gzip or ungzip current file buffer.
	<LI>Add up numbers in rectangle area
</UL>




<P class="column8">
        Compile

<P><UL>
	<LI>Guess compile command by looking at the buffer content
            Includes shell scripts &quot;emc&quot; and &quot;mak&quot; to do emaacs
            byte compilation and C/C++ make file compilation.
            Configure variable <SAMP class="word">timy-:compile-table</SAMP> and
            <SAMP class="word">timy-:compile-command-c-code</SAMP>. The compile commad you
	            chose is buffer local and lasts until you change it.
</UL>




<P class="column8">
        Files

<P><UL>
	<LI>Toggle write/read-only file permissions on disk with
            C-x q or <SAMP class="word">M-x</SAMP> <SAMP class="word">timy-buffer-file-chmod</SAMP>
	<LI>If file saved had #!, it is automatically made chmod u+x.
	            Idea and code by Jesper Pedersen <EM><A HREF="mailto:blackie@imada.ou.dk" >blackie@imada.ou.dk</A></EM>
</UL>




<P class="column8">
        Gnus, mail

<P><UL>
	<LI>Save lisp package in buffer like <EM class="word">mail</EM> to file: find
            package regions.
	<LI>Copy current buffer's contents to new mail buffer and
            set subject line. You can send diff buffers and file buffers
	            conveniently this way: <SAMP class="word">C-z</SAMP> <SAMP class="word">m</SAMP> (Zend buffer as Mail)
</UL>




<P class="column8">
        Keys

<P><UL>
	<LI>Jumps to matching paren {([&quot;. <STRONG class="word">Bound</STRONG> to key &quot;%&quot;.
	<LI>Better word movement: LikeThisInC++Mode.
            Moving forward/backward always keeps cursor at the
            beginning of word. See also <SAMP class="word">c-forward-into-nomenclature</SAMP>
            <STRONG class="word">Bound</STRONG> to keys <SAMP class="word">C-left</SAMP>, <SAMP class="word">C-right</SAMP> in X and <SAMP class="word">Esc-b</SAMP>, <SAMP class="word">Esc-f</SAMP>
            in non-windowed Emacs.
	<LI>PgUp and PgDown behave differently; they jump to
            window's beg/end first and only next key hit scrolls.
            <STRONG class="word">Bound</STRONG> to keys <SAMP class="word">prior</SAMP> and <SAMP class="word">next</SAMP>. Check if your keyboard
	            produces another pgUp and PgDown events.
</UL>




<P class="column8">
        Line formattting

<P><UL>
	<LI>Fixing all backslash(\) lines in current paragraph to the
            same column as the strting line. Very usefull in makefile mode,
            shell mode or when writing C/C++ macros. It even iserts missing
	            backslahes.
</UL>




<P class="column8">
        Mouse

<P><UL>
	<LI>Point window and it gets cursor focus: The frame is
            raised and window selected. No need to click window any more.
	<LI>Show File information in echo-area: Point mouse near
            the end of window and Displayed info contains
            BUFFER MODES SIZE PATH. You do not consume your modeline
            or frame title any more for buffer specific informtion.
	            Example output:
</UL>




<PRE class="code">
          TinyMy: -rw-r--r-- 108k /users/jaalto/elisp/tinymy.el
</PRE>


<P class="column8">
        Shell

<P><UL>
	<LI>Easy shar/tar/UU commands. configure variables
	            <SAMP class="word">timy-:shar-command</SAMP> and <SAMP class="word">timy-:tar-command</SAMP>
</UL>




<P class="column8">
        vc

<P><UL>
	<LI>Key C-x C-q now won't call vc blindly. To prevent mistakes,
            a confirmation will be asked. You can also just toggle the
	            buffer's read-only flag, without engaging vc.
</UL>




<P class="column8">
        Window


<P class="column8">
	<P><UL>
	<LI>Flip the order of two windows
</UL>




</P>
  <A name="288" id="288"></A>
  <H2>
      Minor modes in this package
      
  </H2>





<P class="column7"><EM><STRONG>
       Sort minor mode</STRONG></EM>



<P class="column8">
        If you have data in columns, use <SAMP class="word">C-cmS</SAMP> or <SAMP class="word">M-x</SAMP> <SAMP class="word">timy-sort-mode</SAMP>
        to toggle sort mode on and off. With it you can sort columns 1-9
        easily. Modeline indicator is &quot;S&quot;


<P class="column7"><EM><STRONG>
       Display minor mode</STRONG></EM>



<P class="column8">
        Hotkey <SAMP class="word">C-cmD</SAMP> or <SAMP class="word">M-x</SAMP> <SAMP class="word">timy-display-mode</SAMP>. If you have DOS file and
        you load it into Emacs, you usually see the ^M characters. With the
        display mode active, it hides them from the screen, but they are
        still in the buffer. This display mode will hide other non-ascii
        characters too. See the source if you want to find out the full
        repertoire.


<P class="column8">
        This display mode is <STRONG class="word">automatically</STRONG> turned on when you load an
        dos-like file that has ^M character at the end of line.
        Modeline indicator is &quot;D&quot;.


<P class="column8">
        Another display maode selection also let's you view MS Word binary
        files in some extent.


</P>
  <A name="289" id="289"></A>
  <H2>
      Features immediately activated when package loads
      
  </H2>




<P><UL>
	<LI>You own Emacs lisp package LCD stamp is updated every time
            you save the package. Configure <SAMP class="word">timy-:stamp-lcd-regexp</SAMP>
            to detect your packages.
	<LI>Your most valuable buffers are periodically saved.
            Configure variable <SAMP class="word">timy-:save-buffer-modes</SAMP> and
            <SAMP class="word">timy-:save-buffer-regexp</SAMP>
	<LI>You mailbox lock is kept on eye on, if the lock remains,
            you won't be able to receive mail. (safety measure).
	<LI>If you use procmail you want to configure
            <SAMP class="word">timy-:mail-check-inbox-file-permissions</SAMP>
            otherwise, your mailbox's mode permissions are kept eye on:
            &quot;Permission error: -rw-------&quot; warning will be show if the
            mailbox doessm't have right modes.
	<LI>Automatic window selection when you point it with moouse cursor.
            See <SAMP class="word">timy-:install-select-window-auto</SAMP>.
	<LI>When buffer that has <SAMP class="word">#!</SAMP> to indicate shell
	            script, is save, the +x flag is set on for the file.
</UL>




</P>
  <A name="290" id="290"></A>
  <H2>
      What commands are defined when you load this file?
      
  </H2>




        It's better to look at the code of this file, than to explain all the
        key definitions here, because I may not remember update this
        text section every time I add new interactive commands to the file.


<P class="column8">
        All the new interactive comnmands can be found from these two
        functions:


<PRE class="code">
      timy-define-keys
      timy-mail-common-keys
</PRE>


<P class="column8">
        See their description, or alternatively hit


<PRE class="code">
      C-h m                               ;; to view all bindings
      M-x delete-non-matching-lines timy  ;; show timy keys
</PRE>


</P>
  <A name="291" id="291"></A>
  <H2>
      Warning
      
  </H2>




        When you load this package, it install global keybindings that
        <EM class="word">may</EM> (big chance) replace your Emacs or private bindings. Please
        see if you need to rearrange <SAMP class="word">timy-:load-hook</SAMP> which now runs
        functions


<PRE class="code">
       '(timy-install timy-define-keys timy-alias)
</PRE>


<P class="column8">
        Please use this if you want to use your own bindings.


<PRE class="code">
      (setq timy-:load-hook '(timy-install my-timy-keys timy-alias)
                                           ^^^^^^^^^^^^
      (defun my-timy-keys ()
        )
</PRE>


<P class="column8">
        There is table of global bindings which you can modify if the
        bindings clash: the auto installl will warn you about this
        automatically and your own bindings are not replaced by default.
        See variable:


<PRE class="code">
      timy-:define-key-table

</PRE>

</P>
           </BLOCKQUOTE>
           <HR>
               <A name="292"  id="292"></A>
               <H1>
               Tinynbr.el &ndash; Number conversion minor mode oct/bin/hex
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="293" id="293"></A>
  <H2>
      Preface, aug 1997
      
  </H2>




        One day I was really busy to get my work done in my work's
        laboratory, when I realized that I had forgotten my desk calculator
        back to 3th floor in another building. I had a binary (hex) files
        at front of me and couple of other electronic documents that used
        hex and base10 numbers. I needed my desk calculator badly to
        convert numbers from one format to another. I remembered that there
        was some unix shell calculator, but I really hadn't used it and
        besides, I had forgotten the name of the calculator command. Whups.
        Grin.


<P class="column8">
        Anyway, instead of running back to get my calculator I made this
        simple minor mode that helped me to get along with the current task
        at hand. It didn't take long to make it, and since then I have used
        it extensively when I browse Technical documents or my C++ code.


</P>
  <A name="294" id="294"></A>
  <H2>
      Overview of features
      
  </H2>




<P><UL>
	<LI>Int         --&gt; hex,oct,bin conversion at current point
	<LI>hex,oct,bin --&gt; int         conversion at current point
</UL>




</P>
           </BLOCKQUOTE>
           <HR>
               <A name="295"  id="295"></A>
               <H1>
               Tinypad.el &ndash; Emulate Windows notepad with extra menu
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="296" id="296"></A>
  <H2>
      Preface, aug 1997
      
  </H2>




        In gnu newsgroup there was a request that a class had been used to
        using Windows notepad and in order to make the transition to Emacs
        smooth, Emacs should have some notepad emulation mode so that
        pupils wuldnn't get lost completely in new envinronment.


<P class="column8">
        I thought, &quot;Heck, let's try what can I cook for them&quot;


<P class="column8">
        And here is it, a small notepad emulation. It installs one new menu
        to Emacs menu bar which is arranged exactly like the Windows
        notepad. I have included only the commands that are directly
        available from inside emacs and eg. 'printer setup' is something
        that is not found there. But in order to be complete emulation, all
        the choices as in normal notepad are available.


<P class="column8">
        Happy emulating :-)


</P>
  <A name="297" id="297"></A>
  <H2>
      Overview of features
      
  </H2>




<P><UL>
	<LI>Minor mode, but once turned on, occupies every emacs buffer
            until turned off.
	<LI>Adds menu 'TinyPad' which contains identical
            menu definitions that are found from Winbdows notepad
	<LI>The keybindings use <SAMP class="word">Meta</SAMP> as the Alt key to access the
            menu items, so you may need to configure your keyboard
            with 'xmodmap' in order to get 'Alt' key produce <SAMP class="word">Meta</SAMP>
	<LI>Windows specific commands are not emulated, like
            <SAMP class="word">Print</SAMP> 'Setup'.
	<LI>Following famous windows shortcut keys are <STRONG class="word">not</STRONG>
            Emulated; I was lazy and didn't try to reorganize the
            Emacs keys. Erm... for now you have to stick to emacs
	            equivalents and live without these.
</UL>




<PRE class="code">
      Undo   in   Control-z
      Cut    in   Control-x
      Copy   in   Control-c
      Paste  in   Control-v
</PRE>


</P>
  <A name="298" id="298"></A>
  <H2>
      Code note
      
  </H2>




        Why on earth I made this package to use &quot;global&quot; minor mode?
        I can't remember the reason. A simple menubar entry may have
        sufficed just fine.... Oh, it was that remaping the bindings.
        You see, when minor mode is turned on, it conquers the mappings
        underneath.


<P class="column8">
        [1997-10-23] Hey, I just saw pointer to package Map-zxcv.el which
        takes care oc mapping the missing zxcv, so I don't have to bother
        with those here. Nice. You can ask it from Kim F. Storm
        <EM><A HREF="mailto:storm@olicom.dk" >storm@olicom.dk</A></EM>


</P>
           </BLOCKQUOTE>
           <HR>
               <A name="299"  id="299"></A>
               <H1>
               Tinypage.el &ndash; Handling ^L pages, select, cut, copy, head renumber...
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="300" id="300"></A>
  <H2>
      Preface, jun 1996
      
  </H2>




        I had found paged.el by Michelangelo Grigni <EM><A HREF="mailto:mic@mathcs.emory.edu" >mic@mathcs.emory.edu</A></EM>
        one year or so ago and had liked it very much. Unfortunately
        it used narrowing and didn't offer easy page select, copy, cut
        actions which belong to basic page editing.


<P class="column8">
        Paged.el has one nice feature: It can renumber pages and make summary
        out of them. If I have time I will include those features to
        package too.


</P>
  <A name="301" id="301"></A>
  <H2>
      Overview of features
      
  </H2>




<P><UL>
	<LI>Copy, cut, paste, yank (after/before current page) ^L pages.
	<LI>Show  page-nbr/page-count/page-size in modeline.
	<LI>Can renumber numbered header levels, where last level is indicated
            with number. Eg. &quot;A.1 A.2&quot;  or &quot;1.2.1.1 &quot;1.2.1.2&quot;
	<LI>Shows popup in X to jump to headings
	<LI>Create table of contents.
</UL>




</P>
  <A name="302" id="302"></A>
  <H2>
      About making pages &ndash; basics
      
  </H2>




        If you're totally unfamiliar to the concept of page: you make
        pages in emacs by adding the linefeed marker in the text, normally
        on its own line, just before your topics or headings.


<PRE class="code">
      C-q C-l  --&gt; ^L
</PRE>


<P class="column8">
        That inserts the ^L character in the buffer. That is where your
        page starts. The layout of your doc may look like this:


<P class="column11">
           ^L
           1.0 Topic one
         txt txt txt txt txt txt txt txt
         txt txt txt txt txt txt txt txt


<P class="column11">
           ^L
           1.1
          txt txt txt txt txt txt ..


<P class="column11">
           ^L
           1.1.1.1
          txt txt txt txt txt txt txt txt
          txt txt txt txt txt txt txt ...



</P>
  <A name="303" id="303"></A>
  <H2>
      About renumbering
      
  </H2>




        This package offers simple renumbering features, but it
        won't do everything for you! Let's first tell what it won't
        do. Renumbering these is piece of cake:


<PRE class="code">
      1.1
      1.7.1.5             (1)
      1.5
      1.5.4.1             (2)
      1.5.4.5
      1.9
</PRE>


<P class="column8">
        The result is


<PRE class="code">
      1.1
      1.7.1.5
      1.2
      1.5.4.1
      1.5.4.2
      1.3
</PRE>


<P class="column8">
        tsk-tsk, before you say anything... It went all right.
        Now you see what it won't do for you.

<P><OL>
	<LI>It can't know that the 1.7.1.5 belongs under previous 1.1,
            because no back tracking is done. I won't even try!
	            <SPAN class="word-ref">[write a separate package if you want that...I won't do it]</SPAN>
</UL>



<P><OL>
	<LI>Same goes here, it can't know that the 1.5.4.1 should actually
	            start from 1.5.1.1
</UL>




<P class="column8">
        The thumb rule is, that you <STRONG class="word">go</STRONG> and make sure all the <STRONG class="word">first</STRONG>
        level headings (those that end to X.X.1.1) are right before doing
        renumbering. In the above case, you should have done these before
        calling M-x tip-renumber-forward.

<P><OL>
	<LI>--&gt; 1.1.1.1
	<LI>--&gt; 1.5.1.1  <STRONG class="word">AND</STRONG> do replace M-% 1.5.4 with 1.5.1
</OL>




<P class="column8">
        Then all the renumberin would have gone just fine.
        Little handy work and this package helps you to number your doc easily.



</P>
  <A name="304" id="304"></A>
  <H2>
      Renumbering &ndash; be cautious
      
  </H2>




        If you have index section in you file, you have a little problem,
        because this package does not know nothing about such things.
        If the Index section is at the beginning, just go past it and
        use function:


<PRE class="code">
      M-x tip-renumber-forward
</PRE>


<P class="column8">
        Using


<PRE class="code">
      M-x tip-renumber-buffer
</PRE>


<P class="column8">
        Would be disaster. It can only be used for non-index buffers.


</P>
  <A name="305" id="305"></A>
  <H2>
      Creating index
      
  </H2>




        After you have renumbered all, your old index section is useless,
        Just call function


<PRE class="code">
      M-x tip-toc
</PRE>


<P class="column8">
        And copy the showed buffer in place of the old index.


</P>
  <A name="306" id="306"></A>
  <H2>
      Limitations
      
  </H2>




        Since the numbering is done according to regexp, there is
        no way to avoid the following false hit:


<PRE class="code">
      1.1 Overview
      This is highly technical document concerning the latest
      NASA ultrawave reflective shield technique. You should
      refer to chapter:

          1.5

      Where the Daddy-Cool portable sondium emission detector is
      described in full...
</PRE>


<P class="column8">
        The Number 1.5 is unfortunately renumbered to 1.2, and possibly
        causing headache in the NASA and in the spying countries...
        If you know elegant way to prevent these false hits, please
        drop me a mail. At this time I haven't much payed attention to this.


</P>
  <A name="307" id="307"></A>
  <H2>
      Code Note
      
  </H2>




        The renumbering used here uses brute force, so the execution time
        is O(n2). If you have more that 30-40 sections, the renumbering
        might take 15-40 minutes. If you care to send me more pleasant
        numbering I'd be very gratefull and you're name would be carved to
        this module. For now, I'm just too lazy to change anything.


</P>
           </BLOCKQUOTE>
           <HR>
               <A name="308"  id="308"></A>
               <H1>
               Tinypair.el &ndash; self insert character (pa)irs () &quot;&quot; '' &lt;&gt;
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="309" id="309"></A>
  <H2>
      Preface, 1995
      
  </H2>




        I saw paired-insert.el posted to gnu.emacs.help group, and
        the code was so badly documented that I got frusrated. And when I
        finally got it going, I wasn't quite pleased with it.
        The code showed lot of promises, but it couldn't do smart pairing.
        Instead I started developing this module.


</P>
  <A name="310" id="310"></A>
  <H2>
      Overview of features
      
  </H2>




<P><UL>
	<LI>Minor mode for paired characters.
	<LI>[] {} &lt;&gt; '' `' &quot;&quot;
</UL>




</P>
  <A name="311" id="311"></A>
  <H2>
      Pairing control
      
  </H2>




        <EM class="word">Remember</EM> Always ask youself &quot;Does this character the cursor is
        on, belong to <STRONG class="word">word</STRONG> class?&quot;, when you wonder why the pairing does
        not take in effect around the current character block.


<P class="column8">
        The pair control is turned off for lisp mode, because it makes
        things worse if the pairing is on. The pairing in US style includes


<PRE class="code">
      `'
</PRE>


<P class="column8">
        But European people almost never use backquote, intead they use:


<PRE class="code">
      ''
</PRE>


</P>
  <A name="312" id="312"></A>
  <H2>
      General pairing rules, just some of them
      
  </H2>




        The pairing is done according to assoc lists in the following way:

<P><UL>
	<LI>if there is whitespace in front of char, then pair is inserted
	<LI>if character is over pair-end, no pairing takes effect.
            Like if you press opening paren when you're sitting on the
	            closing paren:
</UL>




<PRE class="code">
      ()
       *  &lt;-- cursor here, pressing another ( does not pair.
</PRE>


<P class="column8">
        but this behavior can be controlled through variable


<P class="column8">
        o  if the cursor is at the beginning of the word (see syntax-table):
      &ndash; if there is no pairs around the word, the whole word is paired.
      &ndash; if there is pair, no pairing takes effect. The char acts as
      self-insert-command.

<P><UL>
	<LI>if previous character is word. then the '  doesn't pair. Reason
	            is in english language .........................^
</UL>



<P><UL>
	<LI>if character is repeated with prefix arg, the pairing isn't done,
	            instead the character is repeated as in self-insert-command.
</UL>




</P>
  <A name="313" id="313"></A>
  <H2>
      Cursor positioning
      
  </H2>




        By default the cursor is positioned in the &quot;middle&quot; of the inserted
        pair chars. But for words, this is impossible, because there is no
        middle position. Please see the variables


<PRE class="code">
      tipa-:word-positioning
      tipa-:word-positioning-function
</PRE>


<P class="column8">
        which allow you to customize cursor positioning after word pairing.


</P>
  <A name="314" id="314"></A>
  <H2>
      Word about syntax tables
      
  </H2>




        Syntax table play a major part in pairing, especially pairing words
        correctly. Suppose you're writing in text mode:


<PRE class="code">
      ...txt txt... (help is the key)
                     *                    &lt;-- cursor
</PRE>


<P class="column8">
        If you now press &quot; to have the word HELP paired, you don't get it,
        because normally text mode's syntax table says that &quot;(&quot; belongs
        to group &quot;w&quot; (word) too. So the actual word is seen as &quot;(help&quot; and
        the program determines that you're inside a word, thus not
        allowing the pairing.


<P class="column8">
        In the other hand, if you were in any other mode, say in C++, the
        &quot;(&quot; is defined as open parenthesis syntax and it that case the
        seen word seen would have been &quot;help&quot; and the &quot; character would have
        been added around the HELP string. Like this:


<PRE class="code">
      ...txt txt... (&quot;help&quot; is the key)
                      *                   &lt;-- cursor
</PRE>


<P class="column8">
        You may propably want quickly to see the syntax definition of
        characters; use function from my lisp libraries


<PRE class="code">
      (defalias 'syntax-info 'ti::s-syntax-info)
</PRE>


<P class="column8">
        To return to this syntax problem in text mode, you could do the
        following, to make certain characters out of &quot;w&quot; class.


<PRE class="code">
      (defun my-syntax-default (table )
        &quot;My syntax table settings.&quot;
        (modify-syntax-entry ?[ &quot;_&quot; table)
        (modify-syntax-entry ?] &quot;_&quot; table)
        (modify-syntax-entry ?{ &quot;_&quot; table)
        (modify-syntax-entry ?} &quot;_&quot; table)
        (modify-syntax-entry ?( &quot;_&quot; table)
        (modify-syntax-entry ?) &quot;_&quot; table)
        (modify-syntax-entry ?/ &quot;.&quot; table)
        (modify-syntax-entry ?\' &quot;\&quot;&quot; table)
        (modify-syntax-entry ?\&quot; &quot;\&quot;&quot; table)
        (modify-syntax-entry ?_ &quot;w&quot; table))
</PRE>


<P class="column8">
        Then you just change the definitions of syntax table in hook:


<PRE class="code">
      (setq text-mode-hook 'my-text-mode-hook)
      (defun my-text-mode-hook ()
        (my-syntax-default  text-mode-syntax-table))
</PRE>


<P class="column8">
        Do you wonder why I put {}()[] into &quot;_&quot; class and not in
        corresponding &quot;(&quot; or &quot;)&quot; classes? Well, my stig-paren just went
        beserk and started beeping the bell whenever I was nearby
        &quot;)&quot; class... The &quot;_&quot; shut it down, so I just chose it. You can
        of course put the chars into any class you like.




</P>
           </BLOCKQUOTE>
           <HR>
               <A name="315"  id="315"></A>
               <H1>
               Tinypath.el &ndash; Manage your Emacs load-path dynamically
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="316" id="316"></A>
  <H2>
      Preface, Feb 1999
      
  </H2>




        When you have setup your Emacs installation to your liking; a day
        comes when you decide that it's time to seriouly reconsider the
        directory structure of your installed lisp packages. In my case I
        used to simple file hierarchy where single packages were installed
        under:


<PRE class="code">
      ~/elisp/
</PRE>


<P class="column8">
        and kits were installed directly under this directory, like this:


<PRE class="code">
      ~/elisp/bbdb-2.00.06/
      ~/elisp/psgml-1.0.3/
      ~/elisp/pcl-cvs-2.9.2/
</PRE>


<P class="column8">
        Actually I used symlinks to the latest version directories, so that
        I didn't have to change my <SAMP class="word">load-path</SAMP> every time I install new
        version. It was matter of updating a symlink on disk:


<PRE class="code">
      ~/elisp/pcl-cvs/  --&gt; ~/elisp/pcl-cvs-2.9.2/
</PRE>


<P class="column8">
        I also wanted NTEmacs to use my Unix Emacs setup, so i mounted H:
        drive to my Unix server $HOME.


<PRE class="code">
      H:  --&gt; Unix $HOME
</PRE>


<P class="column8">
        Having set PC's HOME Environment variable to point to H:, NTEmacs
        started reading my ~/.emacs startup file. After some win32
        configuration I got all loaded in NTEmacs too. Well, almost. It
        started with simple error messages &quot;Can't load library xxx&quot;, then
        soon followed by bigger concerns; &quot;autoloading xxx failed&quot;. The
        problem was the mounted H: disk. You see, PC's mount can't
        distinguish symlinked directoried from real directories, so all my
        symlink directories in <SAMP class="word">load-path</SAMP> were useless. And that's why
        most of the files were not found any more.


<P class="column8">
        Well, I decided that I dind't want to rely on symlinks any more, but
        I also dind't want to update <SAMP class="word">load-path</SAMP> by hand every time I installed
        new packages or moved files, created dirs, in my Emacs lisp hierarchy.


<P class="column8">
        I wanted a package that I could point &quot;There, that is the root dir
        of all Emacs lisp; go and sniff for me the installed directories
        and update <SAMP class="word">load-path</SAMP>&quot; That's what this package does. Your
        <SAMP class="word">load-path</SAMP> is updated automatically without any manual work.


</P>
  <A name="317" id="317"></A>
  <H2>
      Overview of features
      
  </H2>




<P><UL>
	<LI>Give <SAMP class="word">root</SAMP> directories of your Emacs lisp code and this package
            recursively adds any found lisp code directories to <SAMP class="word">load-path</SAMP>
	<LI>You can use cache for remembering previous scan. Cache is
            expired periodically.
	<LI>Extra dvice code for <SAMP class="word">load</SAMP> <SAMP class="word">load-library</SAMP> <SAMP class="word">require</SAMP>
            `locate-library speeds up loading packages dramatically when
            Emasc does not need to seach <SAMP class="word">load-path</SAMP> any more.
	<LI>If you have PC that mounts to Your Unix HOME, a special
            &quot;dump&quot; file that has hardcoded Disk Drive letter in front of
	            path names can be produced.
</UL>




</P>
  <A name="318" id="318"></A>
  <H2>
      How to set up your load path
      
  </H2>




        The <SAMP class="word">tipath-:load-hook</SAMP> contains function <SAMP class="word">tipath-setup</SAMP> that starts
        examining all directories under <SAMP class="word">tipath-:load-path-root</SAMP> which usually
        deduces to ~/elisp or ~/lisp. If you keep all your Emacs lisp files
        under this directory, then you can just load this file and your
        <SAMP class="word">load-path</SAMP> gets updated.


<PRE class="code">
      (require 'tinypath)
</PRE>


<P class="column8">
        If you have many Emacs lisp root directories, like one for site-lisp
        and one for site-packages and one for your ~/elisp; then you have to
        write your own setup function and pass each root directory to function
        <SAMP class="word">tipath-add-directories-below-root-dir</SAMP>. Here is example for PC users,
        where the E: disk replicates identical Unix tree structure (it's
        a separate partition where Cygwin based Unix posts have been installed
        See cygwin at <A HREF="http://www.cygnus.com/" target="_top">http://www.cygnus.com/</A> ).


<PRE class="code">
      (require 'cl)
      (defconst tipath-:load-path-function 'my-tipath-setup)

      (defun my-tipath-setup ()
        &quot;Set up paths&quot;
        (dolist (path
                 (list
                  tipath-:load-path-root
                  &quot;E:/usr/local/lib/site-lisp&quot;
                  (concat tipath-:load-path-root &quot;/mime/semi/link/&quot;)
                  ))
          (tipath-add-directories-below-root-dir path)))

      (require 'tinypath)
</PRE>


<P class="column8">
        There is nothing complex here: The <SAMP class="word">dolist</SAMP> just sends additional
        directories to search to <SAMP class="word">tipath-add-directories-below-root-dir</SAMP>.


</P>
  <A name="319" id="319"></A>
  <H2>
      Finding the load-path directories
      
  </H2>




        If you only used default ~/elisp for your files, the
        <SAMP class="word">tipath-:load-path-function</SAMP> started recursively searching all the
        directories under the root. <SAMP class="word">tipath-:load-path-root</SAMP>. Not all
        directories are counted in when the search descends to directories.
        Variable <SAMP class="word">tipath-:load-path-ignore-regexp</SAMP> tells if the directory
        should be ignored. By default:

<P><UL>
	<LI>Package's additional subdirectories like texinfo, tex, doc, etc,
            misc, RCS, CVS, zip are ignored.
	<LI>any temporary directories names /t/ /T/ /tmp/ /temp/ are ignored.
	<LI>Dotted directories are ignored: /.dir/
	<LI>If direcrory does not contain any files ending to .el or elc.
</UL>




</P>
  <A name="320" id="320"></A>
  <H2>
      Updating lisp packages in directories
      
  </H2>




        Suppose you have installed a new version of a package:


<PRE class="code">
      ~/elisp/gnus/pgnus-0.74/
      ~/elisp/gnus/pgnus-0.76/
</PRE>


<P class="column8">
        Both these directories end up added to the <SAMP class="word">load-path</SAMP>, but that is
        not usually wanted. If this is our own private directory, we
        usually want want to use the latest version. The solution is to
        move the old versions either a) under another name or b) under
        some directory that is ignored by default. What I do; is that I
        keep a backup of last package that has worked fine; so I rename it:


<PRE class="code">
      % mv ~/elisp/gnus/pgnus-0.74/ ~/elisp/gnus/tmp-pgnus-0.74/
</PRE>


<P class="column8">
        All directories that start with prefix <EM class="word">tmp</EM> are ignored; so the
        problem is solved. However if you update package in a site-lisp
        directory, there may be potential problem that somebody needs older
        version of the package. If you just made a backup like above, that
        user can not load the old package any more, because it doesn't show
        up in <SAMP class="word">load-path</SAMP>


<P class="column8">
        I don't have an answer how to solve this, I would just announce
        that &quot;new version has been installed; the old one is at OLD-DIR&quot;
        and have user's to manually arrange their <SAMP class="word">load-path</SAMP>. A simple
        lisp command would solve their setup. The statemet below adds the
        old directory the the <EM class="word">beginning</EM> of <SAMP class="word">load-path</SAMP> and thus any
        require command would find it.


<PRE class="code">
      (load &quot;~/elisp/tiny/tinypath&quot;)
      (pushnew OLD-DIR load-path :test 'string=)
</PRE>


<P class="column8">
        Remember to mention to users that they need to update cache with
        <SAMP class="word">tipath-cache-regenerate</SAMP>, so that OLD-DIRECTORY is included.


</P>
  <A name="321" id="321"></A>
  <H2>
      Using the cache
      
  </H2>




        Now when you're freed from update burden of the directories in your
        disk, you can concentrate organising the files under sensible
        directories. For example I have quite deep directory structure and
        when I find some user announcing a file in a gnu.emacs sources
        group, I put in separate directory if the designer is known person.
        Here is example:


<PRE class="code">
      ~/elisp/users/kevinr/       Kevin Rodger's files
      ~/elisp/users/ilya/         Ilya Zakharevich's files
      ~/elisp/users/bwarsaw/      Barry Warsaw's files

      ..

      ~/elisp/bbdb-2.00.06/
      ~/elisp/psgml-1.0.3/
      ~/elisp/pcl-cvs-2.9.2/
      ~/elisp/tiny/               My Tiny Tools

      ~/elisp/mime/               MIME packages
      ~/elisp/mime/semi/          SEMI packages
      ~/elisp/mime/tmm/           TM packages

      ~/elisp/lcd/                LCD packages
      ~/elisp/lcd/misc/           <A HREF="http://www.cs.indiana.edu:800/LCD/" target="_top">http://www.cs.indiana.edu:800/LCD/</A>
      ~/elisp/lcd/functions/

      ...

      ~/elisp/other/
</PRE>


<P class="column8">
        All these paths in <SAMP class="word">load-path</SAMP> and you can imagine how slow Emacs
        becomes. a) it takes a considerable amount of time to recurse this
        whole ~/elisp tree structure. b) it takes even more time to find
        some package xxx; when Emacs sees a call (require 'xxx); because
        Emacs must start looking into every single directory under
        <SAMP class="word">load-path</SAMP> until it can or cannot load the required package.


<P class="column8">
        What we need is cache. And when you load this package the cache is
        already enabled. The variable <SAMP class="word">tipath-:cache-expiry-days</SAMP> controls
        the interval when it is concluded that new tree recursion is needed
        to update the files and <SAMP class="word">load-path</SAMP>. If you however install new
        packages, it is best to call <SAMP class="word">M-x</SAMP> <SAMP class="word">tipath-cache-regenerate</SAMP> to
        build up to date image of your files and <SAMP class="word">load-path</SAMP>.


<P class="column8">
        If you do not want to use cache, set <SAMP class="word">tipath-:cache-expiry-days</SAMP>
        to nil before loading this package.


<P class="column8">
        <STRONG class="word">Warning:</STRONG> You can't install any new <EM class="word">directories</EM> to the lisp
        trees while the cache is active. You can however install new
        <EM class="word">files</EM> into these directories. Those new files are not knows to
        cache, so the file load time is much slower.


</P>
  <A name="322" id="322"></A>
  <H2>
      Cache file and different Emacs versions
      
  </H2>




        Many sites have installed different Emacs versions and it is important
        that each Emacs loads correct cache file. The cache file's name is
        derived from the emacs version:


<PRE class="code">
      tipath-:cache-file + EMACS-TYPE + EMACS-VERSION + .el
</PRE>


</P>
  <A name="323" id="323"></A>
  <H2>
      Mounted Unix disk and win32 Emacs in PC
      
  </H2>




<P><UL>
	<LI>If you have PC that mounts your Unix disk permanently (like most
            of the company workers)
	<LI>if you have installed NTEmacs to your PC
	<LI>If you want to use your Unix account as shared to your NTEmacs
</UL>




<P class="column8">
        Then, you may find a need to generate exact replicate of your
        <SAMP class="word">load-path</SAMP> that is suitable for your PC's NTEmacs. I suppose here
        that you DO NOT install any lisp packages to your PC, but keep all
        the lisp configs and packages in Unix disk. Now it's matter of
        taking advantage of the existing packages located in your Unix by
        simply <EM class="word">dumping</EM> a suitable <SAMP class="word">load-path</SAMP> for your win32 Emacs.


<P class="column8">
        The <SAMP class="word">load-path</SAMP> cannot be used as is; because it contains absolute
        references to thw &quot;/users/fool/elisp...&quot;. That can easily be fixed.
        In <STRONG class="word">Unix</STRONG> Emacs, after loading this package, call function
        <SAMP class="word">tipath-load-path-dump</SAMP> which asks a disk Drive that mounts your
        Unix disk. than can be H: for example (for HOME). The function will
        output a modified <SAMP class="word">load-path</SAMP> to the file pointed by
        <SAMP class="word">tipath-:load-path-dump-file</SAMP>.


<P class="column8">
        Use the dumped file in NTEmacs. You can automate this by setting
        <SAMP class="word">tipath-:load-path-function</SAMP> to <SAMP class="word">tipath-load-path-setup-win32</SAMP>


</P>
  <A name="324" id="324"></A>
  <H2>
      Code note: General
      
  </H2>




        Because this package is among the first you load from your .emacs,
        i had to copy some function fromytinylib* into this package to make
        it independent until the point where the <SAMP class="word">load-path</SAMP> got defined.
        In the code you may find markings &quot;#copy:&quot; which indicate functions
        that were copied/simplified to be used here. Autload statements
        defer loading functions until the end is reached.


</P>
  <A name="325" id="325"></A>
  <H2>
      Code note: Custom
      
  </H2>




        [1999-02-21] This package is purposively not defcustomed, because
        defcustom appeared only in 20.x and many are still using 19.34.
        Yes, there is defcustom available for older emacs, but it is not so
        straight forward to use.


<P class="column8">
        The biggest reason is however that this is the <STRONG class="word">very</STRONG> first files that
        you load. If you were using defcusom in 19.x Emacs, you would have to
        load it before this package. Meaning, that you would have to adjust
        <SAMP class="word">load-path</SAMP> or worse, carve the absolute path to custom:


<PRE class="code">
      ;; If runnning that-and-that-emacs; then we need to load this...
      (load &quot;~/elisp/custom/custom.elc&quot;)  ;; Must load the compiled lib
</PRE>


<P class="column8">
        Overall, it's  just easier to say


<PRE class="code">
      (load &quot;~/elisp/tiny/tinypath.el&quot;)
</PRE>


<P class="column8">
        And after that worry about defcustom, or anything else, which can
        now be found without absolute paths, because <SAMP class="word">load-path</SAMP> has been
        defined.


</P>
           </BLOCKQUOTE>
           <HR>
               <A name="326"  id="326"></A>
               <H1>
               Tinyperl.el &ndash; Grabbag of Perl related utilities. Pod documentation
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="327" id="327"></A>
  <H2>
      Preface, march 1998
      
  </H2>




        I had introduced myself top perl 1994 and made some small and
        intermediate big perl 4 libraries. But then there was a long
        period when I saw Perl 5 conquering the Perl community and I
        didn't have a chance to lern new Object and Reference technologies
        that were added to the language. Now, 1998 I returned to the Perl
        business and started converting all my programs to take advantage
        of Perl 5.004_04 features.


<P class="column8">
        As a result I needed some additional Emacs functions to keep my
        Perl work going: Mostly this module offers POD page viewing commands.


</P>
  <A name="328" id="328"></A>
  <H2>
      Overview of features
      
  </H2>




        tiperl-mode minor mode:

<P><UL>
	<LI>Instant function help: See documentation of <SAMP class="word">shift</SAMP>, <SAMP class="word">pop</SAMP>...
	<LI>Show Perl manual pages in <EM class="word">pod</EM> buffer
	<LI>Load source code into Emacs, like Devel::DProf.pm
	<LI>Grep through all Perl manpages (.pod)
	<LI>Follow POD manpage references to next pod page with TinyUrl
	<LI>Coloured pod pages with <SAMP class="word">font-lock</SAMP>
</UL>




<P class="column8">
        Other minor modes:

<P><UL>
	<LI>Separate <SAMP class="word">tiperl-pod-view-mode</SAMP> for reading pod2text pages
	<LI>Separate <SAMP class="word">tiperl-pod-write-mode</SAMP> for writing POD documentation
</UL>




</P>
  <A name="329" id="329"></A>
  <H2>
      Package startup
      
  </H2>




        At package startup the perl binary's <SAMP class="word">tiperl-:perl-bin</SAMP>
        @INC content is cached. If you have Modules somewhere else than
        the standard @INC, then add additional <SAMP class="word">-I</SAMP> swithes to the
        <SAMP class="word">tiperl-:inc-path-switches</SAMP> so that these additional paths are
        cached too.


<P class="column8">
        Also the Perl POD manual page path is cached at startup.
        This is derived from Config.pm module $Config{privlib}.


<P class="column8">
        If you need to change any of these during the sessions, reload
        the package or call <SAMP class="word">tiperl-install</SAMP> to update the changed values.


</P>
  <A name="330" id="330"></A>
  <H2>
      Saving TinyPerl state
      
  </H2>




        Whn you use this package for the first time, the Perl @INC is read
        and all .pl and .pm files along the path are cached and written to
        file <SAMP class="word">tiperl-:state-file</SAMP>. Next time you load this package the
        cahce file is read. This speed up packageinitialisation by 10x,
        because the time consuming @INC lookup is no longer needed.


<P class="column8">
        However, if you upgrade Perl or add new packages along @INC; you
        must rebuild the cached information and have it updated to
        <SAMP class="word">tiperl-:state-file</SAMP>. You do this by calling <SAMP class="word">tiperl-install</SAMP> with
        a prefix argument (eg. <SAMP class="word">C-u</SAMP>).


</P>
  <A name="331" id="331"></A>
  <H2>
      Perl Minor Mode description
      
  </H2>




        Turning on <SAMP class="word">tiperl-mode</SAMP> in any buffer gives you commands commands
        to retrieve POD pages. This is most usefull with the programming
        mode <SAMP class="word">perl-mode</SAMP> (It is added to perl-mode-hook by default):


<PRE class="code">
      C-c ' f             tiperl-pod-find-file
      C-c ' P             tiperl-pod-by-module
      C-c ' P             tiperl-pod-by-manpage
      C-c ' k             tiperl-pod-kill-buffers

      C-c ' m             tiperl-module-find-file
      C-c ' d             tiperl-perldoc
      C-c ' g             tiperl-pod-grep
</PRE>

<P><UL>
	<LI><SAMP class="word">tiperl-pod-find-file</SAMP>
            run pod2text over file pointed by the function
	<LI><SAMP class="word">tiperl-pod-by-module</SAMP>
            Complete the installed Perl modules, like &quot;Getopt::Long&quot;
            and run pod2text
	<LI><SAMP class="word">tiperl-pod-by-manpage</SAMP>
            Complete Perl manual pages, like &quot;perlfunc.pod&quot; and run pod2text
	<LI><SAMP class="word">tiperl-pod-kill-buffers</SAMP>
            Kill all <EM class="word">pod</EM> buffers from Emacs
	<LI><SAMP class="word">tiperl-module-find-file</SAMP>
            Complete installed module in @INC and load the file into Emacs.
            Like giving name &quot;Getopt::Long&quot;
	<LI><SAMP class="word">tiperl-perldoc</SAMP> Uses perldoc -f to diplay documentation of
            a perl function at point.
	<LI><SAMP class="word">tiperl-pod-grep</SAMP>
            Grep regexp from all Perl POD manual pages. Answers to
	            our question &quot;Is this discussed in FAQ&quot;.
</UL>




</P>
  <A name="332" id="332"></A>
  <H2>
      POD view mode description: navigating in pod page and following urls
      
  </H2>




        When pod is loaded to buffer, another package TinyUrl is turned on.
        It can track several different kind of URLs, including perl pod
        manpages for references like


<PRE class="code">
      See perlfunc manpage
          ^^^^^^^^^^^^^^^^

      See [perltoc]
          ^^^^^^^^^

      Devel::Dprof manpage
      ^^^^^^^^^^^^^^^^^^^^
</PRE>


<P class="column8">
        You can click on the point to jump to the referenced pod page. Wait
        couple of seconds on the current line that has any of there
        reference and the URLs found are marked. If you don't want to use
        TinyUrl package, add this setup after TinyPerl package has been
        loaded


<PRE class="code">
      (add-hook tiperl-:load-hook 'my-tiperl-:load-hook)

      (defun my-tiperl-:load-hook ()
        &quot;My TinyPerl customisations.&quot;
        (remove-hook 'tiperl-:pod2text-after-hook 'turn-on-tiurl-mode-1))
</PRE>


<P class="column8">
        In <EM class="word">pod</EM> buffer where the pod ducumentation is shoved, an additional
        browsing mode <SAMP class="word">tiperl-pod-view-mode</SAMP> is turned to help moving around
        topics:


<PRE class="code">
      ;;  moving down/up topics

      PgDown              tiperl-pod-view-heading-forward
      PgDown              tiperl-pod-view-heading-backward

      S-PgDown    tiperl-pod-view-heading-forward2
      S-PgDown    tiperl-pod-view-heading-backward2

      ;; Moving down/up one pod page at a time
      ;; The pod pages are all gatehered to single buffer *pod*

      Meta-PgDown tiperl-pod-view-forward
      Meta-PgUp   tiperl-pod-view-backward

      ;;  The normal PgUp/Down command is avalilable here

      Control-PgDown      scroll-up
      Control-PgUp        scroll-down
</PRE>


</P>
  <A name="333" id="333"></A>
  <H2>
      POD Write mode description
      
  </H2>




        There is minor mode to help you writing POD in the current buffer
        The minor mode is in function <SAMP class="word">tiperl-pod-write-mode</SAMP>.


<PRE class="code">
      PgDown      tiperl-pod-write-heading-forward
      PgUp        tiperl-pod-write-heading-backward
</PRE>


<P class="column8">
        With shift


<PRE class="code">
      PgDown      tiperl-pod-write-token-forward
      PgUp        tiperl-pod-write-token-backward
</PRE>


<P class="column8">
        Inserting default POD templates for program


<PRE class="code">
      C-c.p       tiperl-pod-write-skeleton-script-manpage (p for POD)
      C-c.f       tiperl-pod-write-skeleton-script-function
      C-c.i       tiperl-pod-write-skeleton-item
</PRE>


<P class="column8">
        Inserting default POD skeletons for Modules or Classes.


<PRE class="code">
      C-c.B       tiperl-pod-write-skeleton-module-header
      C-c.E       tiperl-pod-write-skeleton-module-footer
      C-c.F       tiperl-pod-write-skeleton-module-function
</PRE>


<P class="column8">
        The POD skeletons for Modules are based on following Module layout


<PRE class="code">
      F I L E   B A N N E R

      P O D  H E A D E R
      NAME
      REVISION
      SYNOPSIS
      DESCRIPTION
      EXPORTABLE VARIABLES
      EXAMPLES

      #   module interface is written next

      use strict;

      BEBGIN
      {
            .. EXPORT          # The export interface
            .. EXPORT_OK
      }

      Define exported globals

      Define private variables

      P O D   I N T E R F A C E   S T A R T

      P O D  P U B L I C for public functions or method
      sub ...

      P O D  P U B L I C for public functions or method
      sub ...

      NORMAL banner of private function
      sub ...

      NORMAL banner of private function
      sub ...

      P O D   F O O T E R
      KNOWN BUGS
      AVAILABILITY
      AUTHOR

      1;
      __END__
</PRE>


</P>
  <A name="334" id="334"></A>
  <H2>
      Perl SelfStubber
      
  </H2>




        If you're developing Perl modules, you can turn it to use autoload
        so that it compiles much faster and it deleays loading of functions
        until they are called. To use SelfStubber, you need to arrange your
        module to read like below. Notice the &quot;BEGIN&quot; and &quot;END&quot; tokens
        that are for function <SAMP class="word">tiperl-selfstubber-stubs</SAMP>, which will
        fill in the section with the right stubs.


<P class="column8">
        If you don't have &quot;BEGIN&quot; and &quot;END&quot; sections in your file, calling
        <SAMP class="word">tiperl-selfstubber-stubs</SAMP> prints the found stubs in separate Shell
        buffer.


<PRE class="code">
      package MyClass;

      use Exporter;
      use SelfLoader;
      use vars qw($VERSION @ISA @EXPORT @EXPORT_OK );

      @ISA    = qw(Exporter);

      @EXPORT = qw( .. );

      $VERSION = ..

      # BEGIN: Devel::SelfStubber

      # END: Devel::SelfStubber

      1;
      __DATA__

      &lt;implementation: functions and variables&gt;

      __END__
</PRE>


</P>
  <A name="335" id="335"></A>
  <H2>
      Submitting your perl script to CPAN
      
  </H2>




        In addition to archiving your Perl libraries to CPAN, you can also
        submit perl scripts there. In order to get your submission right
        refer to page:


<PRE class="code">
      <A HREF="http://www.perl.com/CPAN-local//scripts/submitting.html" target="_top">http://www.perl.com/CPAN-local//scripts/submitting.html</A>
</PRE>


<P class="column8">
        The most iportant point is that your script includes pod that describes
        your script. It must contain at minimum the headings README,
        SCRIPT CATEGORIES, COREQUISITES, OSNAMES which are already include in
        the pod skeleton via command


<PRE class="code">
      `tiperl-pod-write-skeleton-script-manpage'

</PRE>

</P>
           </BLOCKQUOTE>
           <HR>
               <A name="336"  id="336"></A>
               <H1>
               Tinypgp.el &ndash; PGP minor mode, remailing, keyring management
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="337" id="337"></A>
  <H2>
      Preface 1996
      
  </H2>




        Please, read these URLs before you use this package. The pages are
        updated constantly. Drop me a mail if the manual doesn't cover some
        topic or if there are unclear sections.


<P class="column8">
        <A HREF="ftp://cs.uta.fi/pub/ssjaaa/pgp-xhd.html" target="_top">ftp://cs.uta.fi/pub/ssjaaa/pgp-xhd.html</A>  &ndash; X-Pgp specification.<BR>
        <A HREF="ftp://cs.uta.fi/pub/ssjaaa/tipgp.html" target="_top">ftp://cs.uta.fi/pub/ssjaaa/tipgp.html</A>    &ndash; TinyPgp.el manual<BR>
        <A HREF="ftp://cs.uta.fi/pub/ssjaaa/ema-tipgp.ini" target="_top">ftp://cs.uta.fi/pub/ssjaaa/ema-tipgp.ini</A> &ndash; TinyPgp.el init file<BR>


</P>
           </BLOCKQUOTE>
           <HR>
               <A name="338"  id="338"></A>
               <H1>
               Tinypm.el &ndash; Emacs (p)roc(m)ail minor mode
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="339" id="339"></A>
  <H2>
      Preface, Sep 1997
      
  </H2>




        The year 1997 was a turning point in my daily email management. I
        started receiving 10-25 UBE messages per week to my private account
        and that raised my body temperature by couple of Celsius degrees. I
        wanted to get rid of the UBE so that it never landed in my primary
        inbox, $MAIL. Then I discovered procmail and that solved the
        problem of mail handling. It also made possible to subscribe to
        several mailing lists without bloating the primary inbox: procmail
        filed the incoming mail to defined mailing list inboxes.


<P class="column8">
        I also started using Gnus to read the mailing lists, but the mail
        splitting work is best handled by procmail. Why? Because procmail
        is always running, while your Emacs and Gnus isn't. Procmail
        processes incoming messages as soon as they are received and takes
        care of them, like forwarding those UBE messages to appropriate
        postmasters, if you had written such recipe to your .procmailrc.


<P class="column8">
        To get more info about procmail, send an e-mail to the following
        address


<PRE class="code">
      To: <EM><A HREF="mailto:jari.aalto@poboxes.com" >jari.aalto@poboxes.com</A></EM>
      Subject: send help
</PRE>


<P class="column8">
        Procmail installation kit can be found at
        <A HREF="ftp://ftp.informatik.rwth-aachen.de:/pub/packages/procmail/" target="_top">ftp://ftp.informatik.rwth-aachen.de:/pub/packages/procmail/</A>


</P>
  <A name="340" id="340"></A>
  <H2>
      What is Procmail?
      
  </H2>




        <SPAN class="word-ref">[Excerpted from the procmail faq at <A HREF="http://www.iki.fi/~era/procmail/]</SPAN>" target="_top">http://www.iki.fi/~era/procmail/]</A>


<P class="column8">
        Procmail is a mail processing utility, which can help you filter
        your mail; sort incoming mail according to sender, Subject line,
        length of message, keywords in the message, etc; implement an
        ftp-by-mail server, and much more.  Procmail is also a complete
        drop-in replacement for your MDA. (If this doesn't mean anything to
        you, you don't want to know.)


</P>
  <A name="341" id="341"></A>
  <H2>
      Some terms
      
  </H2>




        <SPAN class="word-ref">[Excerpted from the Email Abuse FAQ]</SPAN>


<P class="column8">
        <STRONG class="word">UBE</STRONG> = Unsolicited Bulk Email.<BR>
        <STRONG class="word">UCE</STRONG> = (subset of UBE) Unsolicited Commercial Email.<BR>


<P class="column8">
        <STRONG class="word">Spam</STRONG> = Spam describes a particular kind of Usenet posting (and
        canned spiced ham), but is now often used to describe many kinds of
        inappropriate activities, including some email-related events. It
        is technically incorrect to use &quot;spam&quot; to describe email abuse,
        although attempting to correct the practice would amount to tilting
        at windmills


</P>
  <A name="342" id="342"></A>
  <H2>
      Overview of features
      
  </H2>




<P><UL>
	<LI>Minor mode for writing Procmail recipes (use tab for
            indenting)
	<LI>Linting procmail code: From batch command line or
            interactively. In interactive mode yuser can auto-correct code
            on the fly. Linting erformance is about 160 recipes in 15 seconds.
	<LI>Font-lock supported.
	<LI>files that have extension .rc or name .procmailrc trigger
            turning on <SAMP class="word">tipm-mode</SAMP> (By using <SAMP class="word">auto-mode-alist</SAMP>). Please
            check that the first line does not have anything that would
	            override this, like &quot;-*- text -*-&quot;.
</UL>




<P class="column8">
        Quick reference

<P><UL>
	<LI>M-x <SAMP class="word">tipm-mode</SAMP> activates Procmail writing mode
	<LI>        C-c ' L  to Lint whole buffer interactively
	<LI>C-u     C-c ' L  to Lint whole buffer and gathers info.
	<LI>C-u C-u C-c ' L, same as above, but be less pedantic.
</UL>




<P class="column8">
        Required packages

<P><UL>
	<LI>tinylib*.el     all lisp libraries
	<LI>tinytab.el      General programming mode. TAB key handling
	<LI>tinymy.el       Aligning \ continuation chars to the right
	<LI>tinycompile.el  General parser for compile output. See Lint.
</UL>




</P>
  <A name="343" id="343"></A>
  <H2>
      Writing the procmail code
      
  </H2>




        The coding functions are provided by other modules. The tab key
        advances 4 characters at a time, and minimalistic brace alignment
        is supported when you press tab before the ending brace.


<PRE class="code">
      TAB     tit-tab-key                     tinytab.el
</PRE>


<P class="column8">
        The RET autoindents, but this can be turned off by calling


<PRE class="code">
      C-c ' RET   tit-return-key-mode             tinytab.el
</PRE>


<P class="column8">
        Whole regions can be adjusted with commands


<PRE class="code">
      C-TAB   tit-indent-by-div-factor        tinytab.el --&gt;
      A-S-TAB tit-indent-by-div-factor-back   tinytab.el &lt;--
      C-c TAB tit-indent-region-dynamically   tinytab.el &lt;--&gt;
</PRE>


<P class="column8">
        Jumping to matching brace or matching parentheses


<PRE class="code">
      %               timy-vi-type-paren-match        tinymy.el
</PRE>


</P>
  <A name="344" id="344"></A>
  <H2>
      Tabs and spaces
      
  </H2>




        When the procmail mode is active, the tab key does not produce a
        tab character, but sufficient amount of spaces. There is a reason
        for this, mostly due to Lint parser which has to move up and down
        columnwise when checking the code. The movements can't be done if
        the code includes tabs. If you need a literal tab in your regexps,
        you can get it with standard emacs way 'C-q` <SAMP class="word">TAB</SAMP>.


</P>
  <A name="345" id="345"></A>
  <H2>
      Aligning the lines that have backslashes.
      
  </H2>




        In procmail, you use backslashes a lot, like in the following example.
        The backslashes here are put after each line, but this construct is
        error prone, because if you later on add new <SAMP class="word">echo</SAMP> commands or
        otherwise modify the content, you may forget to update the
        backslashes.


<PRE class="code">
      :0 fh
      * condition
      | (formail -rt | \
         cat -; \
         echo &quot;Error: you requested file&quot;; \
         echo &quot;that does not exist&quot;;\
         ) | $SENDMAIL -t
</PRE>


<P class="column8">
        To fix this code block, you can use command C-c ' \ or
        <SAMP class="word">tipm-fix-backslashes-region</SAMP>. It would have been enough to write
        the first backslash and then call C-c ' \ and the rest of the
        backslashes would have been added.


<PRE class="code">
      :0 fh
      * condition
      | (formail -rt |                                    \
         cat -;                                           \
         echo &quot;Error: you requested file&quot;;                \
         echo &quot;that does not exist&quot;;                      \
         ) | $SENDMAIL -t
</PRE>


</P>
  <A name="346" id="346"></A>
  <H2>
      Rules on how to write Procmail recipe
      
  </H2>




        In order to use the Linting service, This package requires that
        you write your procmail code in following manner. These rules are
        needed, so that it would be possible to parse the procmail code
        efficiently and more easily.


<P class="column9"><STRONG>
         <SPAN class="word-ref">[recipe start]</SPAN></STRONG>



<PRE class="code">
      :   # although legal procmail, illegal here. Use :0
</PRE>


<P class="column9"><STRONG>
         <SPAN class="word-ref">[flag order]</SPAN></STRONG>



<P class="column8">
        In order to autocorrect read flags from the buffer, the flag order
        must be decided: and here is the de facto order. The one presented
        in the procmail man page &quot;HBDAaEehbfcwWir&quot; is errourneour, because
        flags &quot;aAeE&quot; must be first, otherwise it causes error in procmail
        (heresay). The idea here is that the most important flags are
        put to the left, like giving priority 1 for <SAMP class="word">aAeE</SAMP>, which affect
        the receipe immedately. Priority 2 has been given to flag <SAMP class="word">f</SAMP>,
        which tells if receipe filters somthing. Also (h)eader and (b)ody
        should immediately follow <SAMP class="word">f</SAMP>, this is considered priority 3.
        In the middle there are other flags, and last flag is <SAMP class="word">c</SAMP>, which
        ends the receipe, or allows it to continue.&quot;


<PRE class="code">
      :0 aAeE HBD fhbwWirc: LOCKFILE
         |    |   |  |   |
         |    |   |  |   (c)ontinue or (c)opy flag last.
         |    |   |  (w)ait and Other flags
         |    |   (f)ilter flag and to filter what: (h)ead or (b)ody
         |    (H)eader and (B)ody match, possibly case sensitive (D)
         The `process' flags first. Signify (a)ad or (e)rror
         receipe.
</PRE>


<P class="column8">
        Every recipe starts with ':0 flags:', but if you prefer ':0flags:'
        more, you can use following statement. This 'flag-together or not
        format is automatically retained when everytime you call Lint.


<PRE class="code">
      (setq tipm-:flag-and-recipe-start-style 'flags-together)
</PRE>


<P class="column9"><STRONG>
         [lockfile]</STRONG>



<P class="column8">
        The lockfile names must be longer than two characters. Shorter
        lockfile name trigger an error. Also lockfile must have extension
        $LOCKEXT or .lock or .lck; no other non-standard extensions are
        allowed. The lockfile name must be within charsert [-_$.a-zA-Z0-9/]
        and anything else is considered as an odd lock file name.


<PRE class="code">
      :0 : c          # Error, should have been :0 c:
      :0 : file       # Invalid, should read &quot;file.$LOCKEXT&quot;
      :0 : file.tmp   # Invalid, non-standard extension.
      :0 : file=0     # Invalid filename (odd characters in name)
</PRE>


<P class="column9"><STRONG>
         <SPAN class="word-ref">[condition line]</SPAN></STRONG>



<PRE class="code">
      * H B ?? regexp # valid procmail, llegal here: write &quot;HB&quot;
</PRE>


<P class="column9"><STRONG>
         [Variables]</STRONG>



<P class="column8">
        The literal value on the right-hand side must be quoted with double
        quotes if a simple string is being assigned. If there is no quote or
        backtick, then Lint assumes that you forgot to add variable
        dollar($). Try to avoid extra spaces in the variable initialisation
        construct too <SAMP class="word">:-</SAMP>.


<PRE class="code">
      DUMMY  = yes        # Warning, did you mean DUMMY = $yes
      VAR    = ${VAR:-1}  # No spaces allowed: &quot;$ {&quot; is illegal.
</PRE>


<P class="column9"><STRONG>
         <SPAN class="word-ref">[program names]</SPAN></STRONG>



<P class="column8">
        Program <SAMP class="word">sendmail</SAMP> must be named sendmail, but it can also be variable
        $SENDMAIL. Similarly, program <SAMP class="word">formail</SAMP> must be named <SAMP class="word">formail</SAMP> or
        it can be variable $FORMAIL. Use of $MY_SENDMAIL or $MY_FORMAIL are
        illegal and cause missing many Lint checks.


<P class="column9"><STRONG>
         <SPAN class="word-ref">[commenting style]</SPAN></STRONG>



<P class="column8">
        In recent procmail releases you're allowed to place comments inside
        condition lines. Lint will issue a warning about this practise
        if your procmail version does not support this. But while you
        may place comments inside conditions, they should be indented by
        some amount of spaces. The default indent is 4 spaces.


<PRE class="code">
      * condition1    --&gt; * condition
      # comment               # comment
      # comment               # comment
      * condition2        * condition
</PRE>


<P class="column8">
        This is recommended for readability (separating conditions
        from comments) and Lint will fix these comment misplacements.


<P class="column9"><STRONG>
         <SPAN class="word-ref">[redirecting to a file]</SPAN></STRONG>



<P class="column8">
        If you print something to file, then the shell redirection tokens
        &gt; and > must have surrounding spaces, otherwise they are not
        found in the procmail code. (because &gt; can be used in regexps)


<PRE class="code">
      :0 :
      | echo &gt; test.tmp       # Do not use &quot;echo &gt;test.tmp&quot;
</PRE>


</P>
  <A name="347" id="347"></A>
  <H2>
      Linting procmail code
      
  </H2>




        Writing procmail recipes is very demanding, because you have to
        watch your writing all the time. Forgetting a flag or two, or adding
        unnecessary flag may cause your procmail code to work improperly.
        The Lint interface in this module requires that

<P><UL>
	<LI>You write your procmail code in certain way. (see above)
	<LI>buffer is writable and can be modified. This is due
            to fact that program moves up and down to the same column
            as previous or next line. In order to make such movements,
	            the tabs must be expanded when necessary.
</UL>




<P class="column8">
        To help <EM class="word">Linting</EM> you procmail code, there are two functions


<PRE class="code">
      C-c ' l         tipm-lint-forward
      C-c ' L         tipm-lint-buffer
</PRE>


<P class="column8">
        These functions check every recipe and offer corrective actions if
        anything suspicious is found. If you don't want to correct the
        recipes, you can pass prefix argument, which gathers Lint run
        to separate buffer. In parentheses you see the buffer that was
        tested and to the right you see the program and version number.
        In this buffer you can press Mouse-2 or RET to jump to the line.


<PRE class="code">
      *** 1997-10-19 19:37 (pm-test.rc) tinypm.el 1.10
      cd /users/foo/pm/
      pm-test.rc:02: Error, Invalid or extra flags.
      pm-test.rc:10: Error, Invalid or extra flags.
      pm-test.rc:10: info, Redundant `Wc:' because `c:' implies W.
      pm-test.rc:11: String `&gt;' found, recipe should have `w' flag.
      pm-test.rc:15: info, flag `H' is useless, because it is default.
</PRE>


<P class="column8">
        The output buffer can be sorted and you can move between blocks
        with commands


<PRE class="code">
      sl      tipm-output-sort-by-line
      se      tipm-output-sort-by-error
      b       tipm-output-start
      e       tipm-output-end
</PRE>


</P>
  <A name="348" id="348"></A>
  <H2>
      Lint: auto-correct
      
  </H2>




        In many cases the Lint functions are able to autocorrect the code:
        answer <SAMP class="word">y</SAMP> to auto-correct current point. If you want to correct
        the place yourself, then abort the Linting with <SAMP class="word">C-g</SAMP> and fix the
        indicated line.


</P>
  <A name="349" id="349"></A>
  <H2>
      Lint: directives
      
  </H2>




        Most of the time the Lint knows what is best for you, but there
        may be cases where you have very complex procmail code and you
        know exactly what you want. Here are the Lint directives that you
        can place immediately before the recipe start to prevent Lint
        from whining. The word <SAMP class="word">Lint:</SAMP> can have any number of surrounding
        spaces as long as it is the first word after comment.


<PRE class="code">
      # Lint: &lt;Lint flags here&gt;
      :0 FLAGS
</PRE>


<P class="column8">
        The comment must be in the previous line, the following is not
        recognized.


<PRE class="code">
      # Lint: &lt;Lint flags here&gt;
      #   I'm doing some odd things here and ....
      :0 FLAGS
</PRE>


<P class="column8">
        Here is list of recognized Lint directives. each directive must have
        leading space.

<P><UL>
	<LI><SAMP class="word">-w</SAMP>. In &quot;|&quot; recipe, ignore exit code. If you don't give
            this directive, the missing &quot;w&quot; flag is suggested to put there.
	<LI><SAMP class="word">-i</SAMP>. If you have recipe that, 1) has no &quot;f&quot;  2) has nt &quot;&gt;&quot;
            3) has &quot;|&quot; action, then the recipe doesn't seem to store
            the stdin anywhere. This may be valid case eg. if you use
            MH's rcvstore. You can suppress the &quot;-i&quot; flag check with
            this directive.
	<LI><SAMP class="word">-c</SAMP>. This is used in conjunction with <SAMP class="word">-i</SAMP> when you only
	            do something as a side effect and you reaally don't want copy.
</UL>




</P>
  <A name="350" id="350"></A>
  <H2>
      Lint: error messages
      
  </H2>




        The error messages should be self-explanatory, but if you don't
        understand the message, please refer to <SAMP class="word">pm-tips.txt</SAMP> file available
        from the mentioned file server above.


<P class="column8">
<SPAN class="quote7">info, backticks in var init. Not a recommended practise</SPAN><BR>
        See <SAMP class="word">pm-tips.txt</SAMP> and section that talks about variable definitions.


</P>
  <A name="351" id="351"></A>
  <H2>
      Lint: batch mode from command line
      
  </H2>




        You can also lint the procmail files from command line prompt
        like this. (You must have Emacs 19.30+ which has working -eval)


<PRE class="code">
          % emacs -batch -q -eval                                     \
             '(progn (load &quot;cl&quot;) (push &quot;~/elisp&quot; load-path)           \
              (load &quot;tinypm&quot; )                                        \
              (find-file &quot;~/pm/pm-test.rc&quot;)                           \
              (tipm-lint-buffer-batch)                                \
              ) '
</PRE>


<P class="column8">
        Change the filename &quot;~/pm/pm-test.rc&quot; to the file being linted.
        The Lint results will appear in file <SAMP class="word">tipm-:lint-output-file</SAMP> which
        is ~/pm-lint.out by default. Below you see a shell script to run
        the above command more easily. Rip code with <SAMP class="word">ti::m-pkg-rip-magic</SAMP>

 #!/bin/csh -f
 # @(#) pm-lint.sh &ndash; LINT A procmail batch lint with emacs tinypm.el
 #
 # $Docid: 2002-08-05 Jari Aalto $
 # $Contactid: jari.aalto@poboxes.com $
 #
 set file  = $1
 #
 set EMACS = xemacs-19.14
 set out   = $HOME/pm-lint.lst
 #
 #  notice all these 3 lines must be concatenaed together! There must be
 #  no \ continuation characters. to the right.
 #
 $EMACS -batch -q -eval
     '(progn (load &quot;cl&quot;) (push &quot;~/elisp&quot; load-path) (load &quot;tinypm&quot;)
     (find-file &quot;'&quot;$file&quot;'&quot;) (tipm-lint-buffer-batch) ) '  2&gt;&amp;1 $out
 #
 # end of pm-lint.sh



</P>
  <A name="352" id="352"></A>
  <H2>
      Highlighting
      
  </H2>




        Just couple of words about the chosen regexps for procmail code.
        Notice, that if you make a mistake, the dollar($) in front of
        identifier is not highlighted. This should help with spotting
        errors by eye better.


<PRE class="code">
      $VAR = ${VAR:-&quot;no&quot;}     # Error, extra $ to the left.
       ===


</PRE>

</P>
           </BLOCKQUOTE>
           <HR>
               <A name="353"  id="353"></A>
               <H1>
               Tinyreplace.el &ndash; handy query-replace, area, case preserve, words
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="354" id="354"></A>
  <H2>
      Preface, 1995
      
  </H2>




        I saw post in gnu.emacs.help where brianp@ssec.wisc.edu (Brian Paul)
        asked for help to replace his C variables: &quot;Suppose I want to
        replace all occurances of the variable i in my C program with j.&quot;
        The normal emacs function query-replace wasn't suitable for this
        task because it offered too many false hits. (Guess how many i
        characters are used in non-variable context!).


<P class="column8">
        Well later I rembered that one could have used \bi\b to search
        words. But the nature of &quot;word&quot; is very different here as it
        would have been with \b; it relies on syntax table which you
        seldom want to change, whilst the &quot;word definition &quot; here can be
        changed on the fly :-/


<P class="column8">
        Things are not that simple always, in fact, the first
        implementation of this package had to do with the latex math
        equation replace, so that program would automatically skip over
        normal text and perform replace within the blocks only. I think
        the engine offers lots of other usages too.


<P class="column8">
        I decided to pull out the v1.0 and make it complete package.


</P>
  <A name="355" id="355"></A>
  <H2>
      Overview of features
      
  </H2>




<P><UL>
	<LI>Companion to emacs's query-replace. Simple interface.
	<LI>Text beeing replaced is highlighted AND terminals that cannot see
            the highlight will see &quot;=&gt;&quot; string marking the line beeing
            processed
	<LI>Preserve case while replacing &quot;FoO&quot; --&gt; &quot;BaR&quot; (symmetry)
	<LI>Toggle case sensitivity and symmetry during the replace.
	<LI>Word match mode on/off during replace: 'matchTHIS or THIS '
	<LI>&quot;Narrow to function&quot;, go to &quot;beg of file&quot; when you start
            replacing. You're put back to position where you were when
            you quit.
	<LI>Can replace over many files. (Reads compile buffer output)
            ChecksOut files from RCS when needed (if they are not locked)
	<LI>You can define <SAMP class="word">tire-exlude-line-regexp</SAMP> that skips any line
	            matching looking-at regexp at the beginning of line.
</UL>




</P>
  <A name="356" id="356"></A>
  <H2>
      How to use
      
  </H2>




        If you know lisp, you can go and take straight advantage of the
        engine function:


<PRE class="code">
      tire-replace-region-1
</PRE>


<P class="column8">
        Normally functions work within area defined by you, but
        there is 'applications' section which offers several ready to run
        functions for various needs:


<PRE class="code">
      tire-replace-region     ;like query replace but in selected area
      tire-replace-forward    ;start from current point.

      tire-latex-blk-replace  ;replacer text surrounded by latex BLOCKS
      tire-latex-math-replace ;replace text within latex
                              ;math equations only.
</PRE>


</P>
  <A name="357" id="357"></A>
  <H2>
      What commands do I have while replacing interactively?
      
  </H2>




        There is some handy commands that normal emacs replace lacks

<P><UL>
	<LI>toggle case sensitivity during replace
	<LI>toggle symmetry during replace
	<LI>Go to start of buffer <STRONG class="word">now</STRONG> (return back when you exit replace)
	<LI>search backward
	<LI>limited undo
	<LI>Narrow to current function, so that you can replace local variables
	<LI>Flash function name where you're (only for some programming
	            languages.)
</UL>




<P class="column8">
        See function tire-replace-region-1 for command explanation.  To
        abort the search, you just press Ctrl-g or 'Q' and you'll be
        returned to the starting point of search.


</P>
  <A name="358" id="358"></A>
  <H2>
      Command line prompt explanation
      
  </H2>




        The command line prompt will look like this


<PRE class="code">
      Replace 'xx' with 'yy' (a,bvuBFNU? [+CSX] !ynqQ)
</PRE>


<P class="column8">
        Where the flag settings active are displayed between brackets.  +
        means that you have used (N)arrow command, C indicates case
        sensitivity, S tells that symmetry is activated and X means that
        line exclude is oboeyed. For full explanation of the commands,
        please press


<P class="column11">
           ?


<P class="column8">
        Which will print the command summary and explanation momentarily.


</P>
  <A name="359" id="359"></A>
  <H2>
      Special commands in command line
      
  </H2>




        When you edit the Seach string or destination string, there is
        some keys that you can use.


<PRE class="code">
      C-l     Yank the text under point to current prompt
      C-o     Yank previous SRING1
</PRE>


<P class="column8">
        The Yank command is <SAMP class="word">C-l</SAMP> not <SAMP class="word">C-y</SAMP>, because if you edit and kill
        inside the promt line, you can use regular <SAMP class="word">C-y</SAMP> to yank text
        back. The <SAMP class="word">C-l</SAMP> command read space separated text from the buffer and
        you most like have to edit the imported text a little.


<P class="column8">
        The <SAMP class="word">C-o</SAMP> command yank first string(the one that is searched) to
        the prompt. This is also handy if you used <SAMP class="word">C-l</SAMP> to yank then you
        eidited a lot the yanked text and want to move it to the next
        prompt. This way you don't have to do the editing again, but only
        modify the previous string.


<PRE class="code">
      &lt;   Move buffer's yank point backward
      &gt;   Move buffer's yank point forward
</PRE>


<P class="column8">
        When you select region and you're ready to give replace arguments;
        the point in the buffer propably isn't in a suitable place for <SAMP class="word">C-l</SAMP>
        yank command. You can move the buffer's yank point with these
        command. The text to the left shown to you briefly tells where the
        point currenly is.


<P class="column8">
        This feature propably is at its best in acompile buffer where you
        have grep results and you draw region around the the files where
        you want the replace to happen. Move a little with [&lt;&gt;] and you
        will be soon in a line that has the grep word, then yank it to the
        replace prompt.


</P>
  <A name="360" id="360"></A>
  <H2>
      Note about the arrow pointer
      
  </H2>




        Users that do not have highlight capability to see which portion of
        text will be replaced will appreciate the arrow at the beginning of
        line to show where the text is located.


<P class="column8">
        The option &quot;a&quot; that refreshes the arrow marker is <EM class="word">forced</EM> to ask a
        minibuffer question in order to change the state of arrow (hide or
        show). I found no other way to do this and I think it's a bug in
        19.28 emacs, because the state is not immediately shown in buffer.


<P class="column8">
        Drop me a mail if you know how to do the updating without using the
        extra <SAMP class="word">read-from-minifuffer</SAMP> &quot;Refresh arrow..&quot; question.


</P>
  <A name="361" id="361"></A>
  <H2>
      Note about commands
      
  </H2>




        The commands are hard wired in this module and you cannot add new
        ones as you can in replace.el which is minor-mode based.  This
        package is meant to be companion to replace.el, and for that reason
        the interface has been designed to be as simple as possible without
        any additional modes.


<P class="column8">
        If you need some new command, please mail me direcly and I'll see
        what I can do. There will never be a plan to ever convert this
        module to minor mode.



</P>
           </BLOCKQUOTE>
           <HR>
               <A name="362"  id="362"></A>
               <H1>
               Tinyrlog.el &ndash; RCS rlog minor mode. ChecOut, CheckIn...
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="363" id="363"></A>
  <H2>
      Preface, Dec 1996
      
  </H2>




        In my work I have to manage very complex RCS revision numbers,
        multiple branches and I may have several branches CheckedOut for
        testing, correcting, and developing new features. It seemed natural
        to handle this &quot;multiversioning&quot; control from the rlog output.


</P>
  <A name="364" id="364"></A>
  <H2>
      Overview of features
      
  </H2>




<P><UL>
	<LI>Companion to vc.el, Minor mode in RCS rlog buffer (C-x v l)
	<LI>Highlighing supported in windowed emacs's rlog buffer.
	<LI>You can 1) Lock a file 2) unclock file
            3) show status 4) pop to buffer where rlog belongs and more
            5) ChekOut multiple revisions for viewing purposes
	            6) (un/mark viewed versions) and more..
</UL>




</P>
  <A name="365" id="365"></A>
  <H2>
      Do you need this package
      
  </H2>




        If you don't use RCS/CVS don't load this package, it only works for
        <SAMP class="word">rlog</SAMP> output and expects to parse only buffer in that format. If
        you don't use many branches and thusly vc's rlog output much, this
        package may not be essential to you.


<P class="column8">
        This pacakge uses colors if window system is detected, but
        it partially copes with non-window system too, so that eg. marks
        appear in the buffer as charaxter codes.


<PRE class="code">
      revision 1.25       locked by: xx;
      date: 1997/11/10 17:20:45;  author: xx;  state: Exp;  lines: +3
</PRE>


<P class="column8">
        In the above lines the first line, starting from &quot;1.25&quot; is
        highlighted (version number). In next line: 97/11/10
        (the YY year is significant), &quot;xx&quot; and &quot;Exp&quot; are highlighted.



</P>
           </BLOCKQUOTE>
           <HR>
               <A name="366"  id="366"></A>
               <H1>
               Tinyrmail.el &ndash; RMAIL additions, pgp, mime labels
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="367" id="367"></A>
  <H2>
      Preface, overview of features
      
  </H2>




<P><UL>
	<LI>Detect PGP, MIME mail and label incoming messages accordingly.
            User can add more checking functions and labels to incoming email
            messages
	<LI>New label summary cmd with AND eg. finding {pgp,v} verified pgp
	<LI>Flag incoming mail as deleted by regexp.
	<LI>&quot;S&quot; command for Spam message reply.
	<LI>Commands to fix your RMAIL messages.
	<LI>advice: &quot;n&quot; and &quot;p&quot; do not to auto display msg in Summary buffer
	<LI>advice: mouse click in Summary does not automatically update msg
	<LI>advice: <SAMP class="word">rmail-ignored-headers</SAMP> now reformats old messages too.
</UL>




</P>
  <A name="368" id="368"></A>
  <H2>
      Description
      
  </H2>




        This little package offers some autmatic detection of PGP
        MIME  mails: It attaches labels to your incoming mails.
        There is also new summary function, which enables you to
        make a query by ANDing the labels in your RMAIL.


<P class="column8">
        This means, that you can now classify your message, like this:


<PRE class="code">
      BASE
      SUBSET-IDENTIFIER
              MINOR-IDENTIFIER
                 NOTE-IDENTIFIER
</PRE>


<P class="column9"><STRONG>
         Eg. For PGP mails I have</STRONG>



<PRE class="code">
      {pgp}
      {pgp,v}         &ndash; verified signature
      {pgp,u}         &ndash; not verified
      {pgp,v,e}       &ndash; verified and encrypted
</PRE>


<P class="column8">
        The normail rmail's summary function gives you the OR summary, which
        would mean, that if you wanted symmary by {pgp,v}, it would give
        you all mail that has either {v} or {pgp} somewhere. Well, this
        summary is not suitable if you use one CHAR to denote attributes
        of your base-identifiers (multichar)


</P>
  <A name="369" id="369"></A>
  <H2>
      Automatic deletion of incoming mail
      
  </H2>




        There is default function to mark messages as deleted according
        to regexp. Please configure this variable to suit your needs:


<PRE class="code">
      tirm-:delete-regexp
</PRE>


<P class="column8">
        If you want more personal control whether the mail
        should be deleted or not, please remove the default delete function
        and add your own:


<PRE class="code">
      (add-hook 'tirm-:load-hook 'my-tirm-:load-hook)

      (defun my-tirm-:load-hook ()
       &quot;Cancel some default settings and modify parameters.&quot;
      (remove-hook 'tirm-:get-new-mail-hook 'tirm-delete-function)
      (add-hook    'tirm-:get-new-mail-hook 'my-rmail-delete-function)
      )


      (defun my-rmail-delete-function ()
       ...)
</PRE>


</P>
  <A name="370" id="370"></A>
  <H2>
      Replying to UBE aka spam messages
      
  </H2>




        The spamming has become a very serious promlem in private
        email communication. Not only the spammers send mail to newsgroups,
        but they are harrashing private mailboxes as well.


<P class="column8">
        With this package you can send reply to a spammer and complaint
        to all postmasters that have allowed the spam mail to travel through
        their networks. The addresses are parsed from the Received headers
        of the message and verified by <SAMP class="word">nslookup</SAMP>. ou can turn off the
        nslookup if you wasn't faster response, but this may result
        bounched messages back to you.


<PRE class="code">
      (setq tirm-:ube-use-nslooup t)
</PRE>


<P class="column8">
        So that you don't sned complaint to your local admin and not to
        some other known middleman domain (like forwarding service), you
        should also set following variable to regular expression to reject
        some addresses:


<PRE class="code">
      (setq tirm-:ube-ignore-site-regexp &quot;YOUR-SITE\\|155\\.0\\.233&quot;)
</PRE>


<P class="column8">
        The text to the beginning of message is read from file pointed
        by <SAMP class="word">tirm-:ube-message-file</SAMP>.


</P>
  <A name="371" id="371"></A>
  <H2>
      New commands in RMAIL
      
  </H2>




        Refer to function tirm-define-default-keys for exact setup.
        Currently the only new command added is


<PRE class="code">
      &quot;L&quot; tirm-rmail-summary-by-labels-and
      &quot;U&quot; tirm-ube-send-to-postmasters
          UBE = Unsolicited Bulk Email
</PRE>


</P>
  <A name="372" id="372"></A>
  <H2>
      Fixing RMAIL format
      
  </H2>




        Sometimes you may get following error after you have hit &quot;g&quot;
        to get new mail: &quot;Cannot convert to babyl&quot;. The reason for
        this behavior is still not quite clear to me, but the cause
        is in the incoming message that does not have


<PRE class="code">
      From
</PRE>


<P class="column8">
        Field at the beginning of message. I have seen even some garbage
        Prepended to field so that it looked like


<PRE class="code">
      m?From
</PRE>


<P class="column8">
        What have to start editing the RMAIL file directly to fix its
        format. Change the mode to text-mode, run M-x widen and search the
        last message that rmail was not able to read. You will easily find the
        point where &quot;<EM class="word">*</EM>* EOOH&quot; markers do not appear any more.


<P class="column8">
        Now starts the fixing part to make rmail happy again:

<P><UL>
	<LI>Make sure From line is left flushed. Edit if needed and put
            lines in their right places.
	<LI>Select all individual message's headers at a time.
	<LI>Call function tirm-fix-make-rmail-message-header
            which you should propably bound to some convenient key.
            The ESC-z combination is propably free for temporary use.
	            (local-set-key &quot;\ez&quot; 'tirm-fix-make-rmail-message-header)
</UL>




<P class="column8">
        After you have converted all headers to rmail format, you can
        start rmail again with command


<PRE class="code">
      M-x rmail-mode
</PRE>


<P class="column8">
        If you made any mistakes, rmail will let you know and you have to
        repeat the header fixing again. (possibly removing the prevous
        EOOOH markers and reconverting them). We aren't quite finished
        yet. You see, on error, rmail leaves the read mail into your home
        directory. Please check that


<PRE class="code">
      ~/.newmail-USERNAME
</PRE>


<P class="column8">
        file doesn't contain any new message that aren't already in your RMAIL
        buffer. If there is only old message, delete that file. Now we
        have finished and you can again use &quot;g&quot; to get new mail.


</P>
  <A name="373" id="373"></A>
  <H2>
      Standard Rmail distribution changes
      
  </H2>




        This package changes the standard Rmail distribution sligtly and here
        summary. If you want to disable these features or only use some of
        them, you have to put separate configuration to your .emacs.
        To disable forms:


<PRE class="code">
      (setq tirm-:load-hook '(tirm-install))
</PRE>


<P class="column8">
        To disable advices, you do


<PRE class="code">
      (setq tirm-:load-hook '(tirm-install my-tirm-install))

      (defun my-tirm-install ()
        (ti::m-ad-control
          '(rmail-show-message
            rmail-summary-enable
            rmail-summary-next-msg
            )
           &quot;^tirm&quot;
           'disable
           ))

</PRE>


<P class="column8">
        <SAMP class="word">tirm-:forms-rmail</SAMP>

<P><UL>
	<LI>Every time RMAIL package is loaded these forms are executed.
	<LI>These define some keybindings to summary buffer
            that I have found appropriate. Mouse-2 selects message
            (and does not yank as the original). RET key also selects message.
	<LI>The post command hook is cleared so that you can search regexp
            in summary buffer. Normally moving a cursor would move the
            current message too.
	<LI>The &quot;q&quot; quit key is too easily pressed and I have removed it
            alltogether. If I really want to quit RMAIL, I usually
	            quit Emacs too.
</UL>




<P class="column8">
        Advices:


<P class="column8">
        <EM class="word">rmail-show-message</EM> active


<P class="column8">
        The message's headers are now always reformatted. If you change
        variable <SAMP class="word">rmail-ignored-headers</SAMP>, the old messages are not affected
        until you &quot;t&quot;oggle headers. This advice does it for you
        automatically every time you select message. This advice slows
        message displaying a bit, but for me, it isn't very noticeable.
        You can very well turn this off if you dont' change content of
        <SAMP class="word">rmail-ignored-headers</SAMP>.


<P class="column8">
        <EM class="word">rmail-summary-enable</EM> active


<P class="column8">
        This replaces whole function. The original function did automatic
        message update whenever you moved around summary buffer. Now you
        can keep summary buffer search separated from the current
        message displayed.


<P class="column8">
        <EM class="word">rmail-summary-next-msg</EM> active


<P class="column8">
        Same as above.



</P>
           </BLOCKQUOTE>
           <HR>
               <A name="374"  id="374"></A>
               <H1>
               Tinyscroll.el &ndash; Enable or Disable autoscroll for any buffer.
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="375" id="375"></A>
  <H2>
      Preface, May 1996
      
  </H2>




        I was in the middle of testing one of my new packages which didn't
        quite work as I wanted, I was loading all the lisp files to see if
        it breaks. I watched the <EM class="word">Message</EM> buffer to fill with statements


<PRE class="code">
      Loading abbrev...
      Loading abbrev...done
      ...
      Loading rmail...
      loading rmail done...
      ...
</PRE>


<P class="column8">
        But suddendly the emacs died. It kicked me off to the shell and I
        had no idea what package was the last one that got loaded.


<P class="column8">
        You see, the <EM class="word">Message</EM> buffer keeps growing, but you have to tap
        the pgDown key to get to the end, all the time. Instead I decided
        to pull out some lisp to do general autoscrolling for any buffer,
        so that I can just sit back and watch the buffer move. No more
        guessing in <EM class="word">Message</EM> buffer what was the last message before Emacs
        sunk :-)


</P>
  <A name="376" id="376"></A>
  <H2>
      Overview of features
      
  </H2>




<P><UL>
	<LI>Select buffer, and hit auto scroll on/off. You can scroll any
            buffer.
	<LI>All windows for the buffer are scrolled in all frames.
            If frame is miimized and contains window to sroll, frame will
            be maximized (&quot;popped up&quot;)
	<LI>If buffer's point-max doesn't move, it ignores
            scrolling.
	<LI>Default scroll activated for: <EM class="word">Compilation</EM> <EM class="word">Grep</EM> and <EM class="word">Messages</EM>
</UL>




</P>
  <A name="377" id="377"></A>
  <H2>
      How to use this package
      
  </H2>




        The scroling here is based on timers, where the lowest interval can
        be one 1 second. This means that you don't get smooth and
        continuous scrolling, but regular update of the buffer, which may
        in rare cases seem jerky. However, using timers is the only
        possibility if we want to have general scroll utility for <EM class="word">any</EM> buffer.


<P class="column8">
        To enable/disable autoscroll for current buffer, use these:


<PRE class="code">
      M-x tisc-control            ;to activate scroll
      C-u M-x tisc-control        ;to deactivate scroll
</PRE>


</P>
  <A name="378" id="378"></A>
  <H2>
      Lowest window of the same buffer always scrolls
      
  </H2>




        It is an interesting problem, when you have SAME buffer in multiple
        windows, to decide which window to scroll.  I didn't want to scroll
        all windows, since otherwise I wouldn't have used two/or more
        windows for the same buffer.


<P class="column8">
        I decided that the lowest window for the buffer always scrolls. You
        can't change that. This was a design decision and I won't support
        scrolling middle/upper buffers. Just arrange your windows so that
        the scrolling one goes to the bottom.



</P>
           </BLOCKQUOTE>
           <HR>
               <A name="379"  id="379"></A>
               <H1>
               Tinysearch.el &ndash; Grab and search word under cursor
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="380" id="380"></A>
  <H2>
      Preface, 1994
      
  </H2>




        In 7 Nov 1994 <EM><A HREF="mailto:aep@world.std.com" >aep@world.std.com</A></EM> (Andrew E Page) posted
        interesting code by article name 'Script Example: Search for next
        word', which I took a look. The idea of code was excellent, but it
        didn't work as expected at all. Gradually the idea was crystallized
        into this package.


<P class="column10"><EM class="quote10">
          &quot;Why we need search word package, when in emacs I can do <SAMP class="word">C-s</SAMP> to
          enter search mode: C-w C-w C-w to grap words immediately after
          point and finally C-s to start searching...?&quot;</EM>



<P class="column8">
        Well, people tend to forget, that life was out there when 19.xx
        wan't in hands of developers. This package was originally made for
        18. The advantage of this package is the variable


<PRE class="code">
      tisw-:word-boundary-set
</PRE>


<P class="column8">
        which you can easily change whenever you need (eg. thru
        functions). To do the same in emacs, you have to go and modify the
        syntax entries involved...then come back again when you're done. I
        never do that, I seldom touch the syntax entries. Besides all
        mode-xxx go crazy if I would do so. Now you see the advantage?


<P class="column8">
        And of course I feel more comfortable to do just one keypress,
        like <SAMP class="word">f2</SAMP> to search forward instead of cubersome C-s C-w C-w
        C-w <SPAN class="word-ref">[n times]</SPAN> and finally C-s


</P>
  <A name="381" id="381"></A>
  <H2>
      Description
      
  </H2>




        Grab word under oint and searches fwd/back. The word is inserted
        into Emacs's search ring, so that you can later continue with <SAMP class="word">C-s</SAMP>
        or with <SAMP class="word">C-r</SAMP> call.


</P>
  <A name="382" id="382"></A>
  <H2>
      Why doesn't it find my C++ function class::InitClass() ??
      
  </H2>




        User pressed the search function over the call:


<PRE class="code">
      InitClass(;
      i =  i +1;
</PRE>


<P class="column8">
        Now he can't find the function definition... Well, remember that
        this searches 'true' words, not part of them. A word is surrounded
        by at least one whitespace, since it's not a word if it is cat'd
        together with something else. Obviously the function definition
        didn't contain any spaces...


<P class="column8">
        The problem is, that if is you say ':' belongs to character set in C++,
        [because you propably want to grab variables easily.
        including the scope operator 'clss::variable' or '::global'] ,
        the find funtion expects to find word in boundary


<PRE class="code">
      nonWordWORDnonWord
</PRE>


<P class="column8">
        And as you can see, the if ':' belongs to word, it can't
        simultaneously belong to NonWord !


<P class="column8">
        Summa summarum: Revert to emacs C-s for a moment, since the
        word is automatically added to the search buffer.


</P>
  <A name="383" id="383"></A>
  <H2>
      Word accept function note:
      
  </H2>




        There is variable <SAMP class="word">tisw-:accept-word-function</SAMP>, which has
        default function


<PRE class="code">
      tisw-accept-word
</PRE>


<P class="column8">
        The function's purpose is to check if the searched word is
        accepted and that search should be terminated. Currently there it
        contains some programming logic for C/C++ languages, so that
        certain hits are ignored. Consider following case:


<PRE class="code">
      struct *foo;   - 1
      foo-&gt;x;        - 2
      x-&gt;foo         - 3

      int foo, x;    - 4
      foo = x;       - 5        * start of 'foo' and 'x' search backward
</PRE>


<P class="column8">
        C/C++ mode, searching for 'foo' finds 4,2,1  &ndash; Not 3
        C/C++ mode, searching for 'x'   finds 5,4,3  &ndash; Not 2
        But in text-mode, you would find all occurrances.


<P class="column8">
        The added logic to C++ ignores the struct's MEMBER matches so that
        you really can find the &quot;main&quot; variables. If you don't like
        this added feature, you can alwasy go to


<PRE class="code">
      M-x text-mode
</PRE>


<P class="column8">
        For a while, or if want to permanently switch this feature off,
        you set the variable <SAMP class="word">tisw-:accept-word-function</SAMP> to nil, which
        causes all hits to be accepted.


<P class="column8">
        Needless to say, that you can use put your own checking
        function in that variable to control the accurrances better.



</P>
           </BLOCKQUOTE>
           <HR>
               <A name="384"  id="384"></A>
               <H1>
               Tinytab.el &ndash; Programmers TAB minor mode. Very flexible.
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="385" id="385"></A>
  <H2>
      Preface, oct 1995
      
  </H2>




        I saw a post in gnu.emacs.sources (what an source of
        inspiration!), where someone asked:


<PRE class="code">
      &quot;Is there anyway to reset the number of spaces that TAB does?
       Like, I want to make it jump four spaces instead of the
       usual whatever.How can I set the tabs to 4?
      &quot;
</PRE>


<P class="column8">
        And the typical answer was:


<PRE class="code">
      &quot;In .emacs, set the variable tab-stop-list, like so:
       (setq tab-stop-list (list 4 8 12 ...))
      &quot;
</PRE>


<P class="column8">
        Well, I didn't want to touch the original tab-stop-list, since I
        want to have 8 tabs normally. But I like to have 4 tabs when I'm
        doing my shell programming or whatever text formatting, I though it
        was time to turn on my think-and-create-mode.


<P class="column8">
        The goal was very simple: write a minor mode, that you can turn on
        and off, which handles <STRONG class="word">only</STRONG> tab key. That shouldn't be hard at
        all.


<P class="column8">
        Yes, If someone of you know, I have also written tinyindent.el,
        which is tab-alike mode too. But there is a subtle, but very
        important difference, it behaves according to previous lines, so
        its job is to &quot;line up&quot; with the previous text(code).


<P class="column8">
        Instead, this mode was supposed to be plain rigid. The tab goes
        where I want it, and I can control the amount of movement to either
        direction, back or forward. Hm. Maybe I should merge these two
        packages in long run?


</P>
  <A name="386" id="386"></A>
  <H2>
      Overview of features
      
  </H2>




<P><UL>
	<LI>Programmable TAB. If you set the count to to 4,
            you can virtually program &quot;blindly&quot; without any other modes.
	<LI>Selectable: 2, 4, 8 .. space indent.
	<LI>moving commands: tab-forward, tab-backward
	<LI>modify commands: tab-insert, tab-delete
	<LI>indent commands: tit-indent-by-tab-width, forward , backward
	<LI>Simple Positioning of braces { } supported when TAB hit.
</UL>




<P class="column8">
        Extras

<P><UL>
	<LI>special auto-indent function offered for return key,
            switch it on, and you can continue your shell,awk,perl comments...
	<LI>Press C-c TAB and your in constant indentation mode where
            keys &quot;wq&quot; &quot;as&quot; &quot;zx&quot; indent region &lt;--&gt; by 1,2 and 4 until
	            esc pressed.
</UL>




</P>
  <A name="387" id="387"></A>
  <H2>
      What this package does?
      
  </H2>




        It mimics <SAMP class="word">tab-stop-list</SAMP> with minor mode if some analogy can be
        drawn. You only set one variable, that controls the amount of
        movement, whereas you would have to put many values inside
        <SAMP class="word">tab-stop-list</SAMP>. The variable for tab widths is:


<PRE class="code">
      tit-:width-table
</PRE>


<P class="column8">
        The advantage is, than you don't have to alter the <SAMP class="word">tab-stop-list</SAMP>
        at all. When the mode is off, the tabs are back again as they were
        (or as the other mode thinks how the tab should be)


<P class="column8">
        But what I like most, is the movement and deletion functions, that
        really make day shine when you program. They all operate according
        to the variable <SAMP class="word">tit-:width</SAMP>. Try out the functions


<PRE class="code">
      tit-indent-by-tab-width
      tit-indent-by-tab-width-back
</PRE>


<P class="column8">
        to format region of code forward and backward easily and you know
        what I mean. (this is different than using command indent-region)
        When you delete backward &quot;one indentation level&quot;, you can do it
        when the division factor is 2/4/8.


<P class="column8">
        The nearest column that satisfies the division factor is used when
        &quot;indenting back&quot;. See the example:


<P class="column8">
        Before:
            *             < cursor here
        123 567 9012            < columns, starting from 1


<P class="column8">
        After:
         *                < cursor here, at div-factor compliant point
        123 567 9012            < columns, starting from 1


<P class="column8">
        Don't forget to look at function


<PRE class="code">
      tit-change-tab-width
</PRE>


<P class="column8">
        Which allows you to switch between 2, 4, 8, you name it,
        tabs widths with one key press.


</P>
  <A name="388" id="388"></A>
  <H2>
      Major modes and this minor mode
      
  </H2>




        When you use some programming mode, say C++ mode, it usually
        provides function to indent the line right when you press tab key.
        If you then turn on this mode, you loose the mode specific indenting,
        because turning on minor mode overrides the underlying major mode
        bindings.


<P class="column8">
        I have included one simple function to deal with major modes: it
        preserves the original indenting style in some extent, so that you
        can use this minor mode and current major mode together. In
        variable <SAMP class="word">tit-:tab-insert-hook</SAMP> there is function
        <SAMP class="word">tit-tab-mode-control</SAMP> which looks at variable


<PRE class="code">
      tit-:mode-table
</PRE>


<P class="column8">
        and if the mode is listed in the table <STRONG class="word">and</STRONG> current point is at
        the beginning of line, then the line is handled by original major
        mode and not by this minor mode. This allows you to indent the
        line initially and then use normal tab indent within the current
        line according to this minor mode. I mostly use this tab mode to
        adjust variable placement inside code.


<P class="column8">
        However, this minor mode is normally meant to be used as turn
        on/off basis in such programming modes that indent lines when you
        pressing tab key. Current compatibility function
        <SAMP class="word">tit-tab-mode-control</SAMP> only allows you to get some flexibility when
        this mode is temporarily on.


<P class="column8">
        Bind this mode to some fast key which you can use to toggle this
        mode on/off when you need tab for a moment in programming modes.
        If you don't want any support to major modes, put following into
        your ~/.emacs


<PRE class="code">
      (setq tit-:mode-table nil)
</PRE>


</P>
  <A name="389" id="389"></A>
  <H2>
      Return key addition
      
  </H2>




        In this package there is also this little function which will
        make itself a must in no time:


<PRE class="code">
      tit-return-key-mode   ;; I have bound this to C-c C-m
</PRE>


<P class="column8">
        When the function is active, you can continue the ndentation from
        current position.


<PRE class="code">
                          // Comment here. Call C-c C-m...and press RET
                          // And it automatically indents here.
</PRE>


<P class="column8">
        See variable


<PRE class="code">
      tit-:auto-indent-regexp
</PRE>


<P class="column8">
        what line prefixes are &quot;copied&quot; along with the indented spaces.


</P>
  <A name="390" id="390"></A>
  <H2>
      Development note
      
  </H2>




        This package solely concerns TAB key. Nothing outside of it is
        counted. I have no intention to make this a full fledged
        programming mode, since there is <SAMP class="word">sh-mode</SAMP>, <SAMP class="word">ksh-mode</SAMP>, <SAMP class="word">perl-mode</SAMP>
        and many more for other languages. I almost added


<PRE class="code">
      (make-variable-buffer-local 'tit-:width)
      (make-variable-buffer-local 'tit-:width-table)
</PRE>


<P class="column8">
        But after thinking I decided not to add it to this package, since
        most of the time user is satisfied with the tab &quot;4&quot;, at least
        that's what I use mostly. And changing the width usually means
        a little flick of my finger to reach out the function


<PRE class="code">
      tit-change-tab-width
</PRE>


<P class="column8">
        In very rare occasions one wants different tab widths in different
        buffers and in those cases you can add the lisp commands
        <SAMP class="word">make-variable-buffer-local</SAMP> to mode hooks or after <SAMP class="word">tit-:load-hook</SAMP>.


</P>
           </BLOCKQUOTE>
           <HR>
               <A name="391"  id="391"></A>
               <H1>
               Tinytag.el &ndash; grep database: example show C++ synatx call while coding
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="392" id="392"></A>
  <H2>
      Preface, overview of features
      
  </H2>




<P><UL>
	<LI>simple database searching, some analogue to emacs TAGS package.
	<LI>you can flip databases very easily to show the right data.
	<LI>example: showing c++ funcall syntax in echo area while you program.
	<LI>installs hp-ux or netbsd c function databases automatically.
</UL>




</P>
  <A name="393" id="393"></A>
  <H2>
      Story behind this package
      
  </H2>




        The word &quot;tag&quot; refers to famous tags package in emacs that allows
        you to browse your c/c++ code easily.


<P class="column8">
        I was in the middle of my c++ project at work and I noticed that I
        constantly looked up the man pages to find correct syntax for
        calling stdio.h c-functions. I never remembered them right from out
        of my mind. I calculated, that I spent over 40% of the time with
        the man pages, figuring out what #include statements each function
        might have required, and what type of parameters they needed.


<P class="column8">
        I've had it. no more. there must be a way out of this...


<P class="column8">
        If you have programmed in lisp, you propably know package called
        eldoc.el (get it fast if you haven't) by noah friedman
        <EM><A HREF="mailto:friedman@prep.ai.mit.edu" >friedman@prep.ai.mit.edu</A></EM>. It shows you the lisp function call
        arguments when your cursor is right over some function.


<P class="column8">
        what a cool tool! You never have to go to elisp info pages just to
        check what the function takes, and you don't have to pop up extra
        buffer with c-h f &lt;func&gt;. It's a real time saver.


<P class="column8">
        Okay, now you guessed what I was after... started immediately
        thinking how could I get similar interface to c++. Since eldoc
        looks the lisp args from memory (emacs obarray, symbol storage), I
        could do the same, but with external reference files: databases.


<P class="column8">
        I needed to generate all function syntaxes out of the man
        pages. that was pretty easy with some piece of perl code. the final
        output after ripping all the 3c man pages was like this, which I
        put to database 'funcs'


<PRE class="code">
      &lt;dirent.h&gt; dir *opendir(const char *dirname);
      &lt;dirent.h&gt; int closedir(dir *dirp);
      &lt;dirent.h&gt; int readdir_r(dir *dirp, struct dirent *result);
      &lt;dirent.h&gt; long int telldir(dir *dirp);
      &lt;dirent.h&gt; struct dirent *readdir(dir *dirp);
      ...
      &lt;string.h&gt;&lt;strings.h&gt; char *index(const char *s, int c);
      &lt;string.h&gt;&lt;strings.h&gt; char *rindex(const char *s, int c);
</PRE>


<P class="column8">
        Notice that my perl stuck the '#define' statements to the beginning
        of each function.


<P class="column8">
        When I had the 'function' database, only thing I needed more was
        the lisp code to handle the database lookup for me and display the
        c++ call syntax for current function name under point. now i have
        &quot;eldoc&quot; running in my c/c++ buffer too with the help of this
        tinytag package.


<P class="column8">
        Hope you find some other uses for this package too. I assume you
        can use similar approach for any programming language. just set up
        the database, entries to search/display, per line.  that's it.


</P>
  <A name="394" id="394"></A>
  <H2>
      Word about installation &ndash; performance problems [19.29 or lower]
      
  </H2>




        Skip this part if you have 19.30+


<P class="column8">
        When you load this package, it immediately installs an <STRONG class="word">example</STRONG>
        post-command function. It assumes that you're using the &quot;Having a
        test drive&quot; C++ database and stored it as explained.  You propably
        want to remove that default post-command function and use your own
        definition. Here is how you remove it.


<P class="column8">
        Doing this is also recommended if you don't want post command
        actions, but want to use the tinytag-main<SPAN class="super">-mouse</SPAN> functions
        directly. Call them only when you need them.

<P><OL>
	<LI>before any load command say:
            (setq tinytag-:load-hook nil)
	<LI>If package is already loaded, say:
	            C-u M-x tinytag-install.
</UL>




<P class="column8">
        If your databases are big, or if you're afraid of the overall emacs
        performance I STRONGLY ADVICE THAT YOU REMOVE THAT post-command
        with methods (2) or (1) You can always call the database with the
        supplied keyboard or mouse commands when you need the information.


</P>
  <A name="395" id="395"></A>
  <H2>
      Having a test run
      
  </H2>




        I have included sample C++ database from my HP 10 man 3C pages,
        the HP C functions. The list was generated by a little
        perl script I wrote.


<P class="column8">
        So that you can put this package in immediate use, you can use the
        sample HP C-database, but rememeber, you really should replace
        those definitions with your own systems equivalents, because
        not all functions are found in all systems. Vendors are different.


<P class="column8">
        This is how you test this package.

<P><UL>
	<LI>Go to empty buffer
	<LI>Add statement &quot;strcat(a,b)&quot; to the buffer
	<LI>Turn on C++ mode
	<LI>Be sure to have tinytag on (M-x load-library tinytag.el)
	<LI>Move your cursor over the word &quot;strcat&quot; and wave it
            back and forth about 5 times. This is needed for older emacs.
	            &lt;For 19.30 and up, you just have to move cursor once&gt;
</UL>




<P class="column8">
        If the &quot;show up&quot; time is too low for you, you can decrease
        the threshold value. (For emacs lower than 19.30 only)


<PRE class="code">
      (setq tinytag-:post-command-hook-wakeup 10)
</PRE>


<P class="column8">
        You should see the &quot;strcat&quot;'s function's definition displayed in
        the echo area. Next, you can start writing your own databases to
        languages you use.


</P>
  <A name="396" id="396"></A>
  <H2>
      Differencies between 19.30+ and lower
      
  </H2>




        The 19.30 Emacs has idle hook, which runs after you move cursor. It
        doesn't run if you move mouse.  19.28 on the other hand has post
        command hook, that runs every time you either move cursor <STRONG class="word">OR</STRONG>
        move mouse.


<P class="column8">
        Now, to get display fast in 19.28, you propably want to wave
        your mouse fast couple of times. In 19.30 you can have immediate
        display with just one cursor move over the word.


</P>
  <A name="397" id="397"></A>
  <H2>
      What to do if you don't see the definition displayed?
      
  </H2>




        First of all check that this pacakge is installed into
        <SAMP class="word">post-command-hook</SAMP>. Emacs has a habbit to empty the hook if you
        press <SAMP class="word">C-g</SAMP> in the middle of running lisp code. Call this
        function and it does the installation again.


<PRE class="code">
      M-x tinytag-install
</PRE>


<P class="column8">
        Next, if you have confirmed that the hook is on, tun on debug
        with


<PRE class="code">
      M-x tinytag-debug
</PRE>


<P class="column8">
        Then call this function directly over the word whose definition
        you want to display (eg. strcat in C++)


<PRE class="code">
      ESC ESC (tinytag-post-command-1)    ;; 19.30+ (ESC ESC :)
</PRE>


<P class="column8">
        After that call there is buffer <EM class="word">tinytag-debug</EM> that has some
        information about called fucntions and parameters. Please
        investigate the call chain for possible problem. Is the database
        selected right? if the regexp used for search right? If you don't
        know how to read the debug buffer's output, just send the buffer's
        content to me and describe what you did and what was your current
        major mode.


</P>
  <A name="398" id="398"></A>
  <H2>
      Thank you
      
  </H2>




        Peter Simons <EM><A HREF="mailto:simons@petium.rhein.de" >simons@petium.rhein.de</A></EM> sent me
        NetBSD and Linux C databases and his perl script can help you
        to create your own database from the man pages.


</P>
           </BLOCKQUOTE>
           <HR>
               <A name="399"  id="399"></A>
               <H1>
               Tinytf.el &ndash; Document layout tool for '(T)echnical text (F)ormat'
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="400" id="400"></A>
  <H2>
      Preface, Jan 1997
      
  </H2>




        Late in the your 1996 I decided to put several text documents
        available to my University's ftp site. However I tried to find some
        decent text2html converter, so that I could let people read docs in
        nicer format with their favourable net browser. I didn't find any
        suitable program to do the conversion and that made me code a
        little perl script which generates quite nice html page from plain
        text file. For example the documentation in this lisp file can be
        very easily converted into html page.


<P class="column8">
        In addition I wrote Emacs mode to help me to write and format the
        text for that perl filter.


<P class="column8">
        In the end of package you find PGP signed tar file that contains
        additional progrmas for making html pages out of tetx file that has
        been written using 'Techical format'.


</P>
  <A name="401" id="401"></A>
  <H2>
      Overview of features
      
  </H2>




        The text layout you write

<P><UL>
	<LI>You write text in rigid format called 'Technical'
	<LI>There are only two heading levels, one at column 0, and
            another at column 4. NO OTHER SUB-HEADINGS SUPPORTED.
	<LI>Text is written in column 8
	<LI>Each column has different meaning how text is intepreted
            into html with t2html.pls perl script.
	<LI>The full 'Technical text format' is described in the
	            function description of <SAMP class="word">titf-mode</SAMP>.
</UL>




<P class="column8">
        This package

<P><UL>
	<LI>Shows text with outline style: you can open and close
            headings.
	<LI>Provides commands to move among headings easily.
	<LI>Capitalizes heading with one command.
	<LI>Numbers headings with one command.
	<LI>Text is untabified in regular intervals.
	<LI>On-line help in 19.30+. It assist you writing the text
            by displaying message in echo area: how the text is intepreted by
            t2html.pls program. (how the text looks in html)
	<LI>Offers functions to mark text with special text MARKERS that
	            produce &lt;STRONG&gt; or &lt;EMP&gt; in the html output.
</UL>




</P>
  <A name="402" id="402"></A>
  <H2>
      What is 'Technical text format'?
      
  </H2>




        In short: it is list of text writing and formatting rules.
        And you're looking at it right now in this document too.


<P class="column8">
        This package offers minor mode for text files and helps you to
        maintain correct layout. You can even convert file into html very
        easily with the attched perl script at the end of tinytf.el code
        file. You don't need to know a shred about the html language
        itself. And it is much easier to update text files, than deal with
        html itself. When you have text ready, you just feed it to the
        t2html.pls perl script and it gives you nicely formatted html page.
        Writing html <EM class="word">home</EM> pages is different story, but putting some text
        document available in html format is easily made possible with this
        package.


<P class="column8">
        In the other hand, while you may not be interested in html, you
        could still consider writing your documents in 'Technical format'
        &ndash; with word <EM class="word">technical</EM> I refer to the layout of the text, which
        is very <STRONG class="word">rigid</STRONG>. In order to use facilities in this package,
        eg. heading hiding/showing, the headings must be placed in
        columns 0 and 4 and the first word must be in <EM class="word">uppercase</EM>.  The
        actual text you write starts at column 8.


<P class="column8">
        If you decide write text like this, you become accustomed to the
        layout very quickly and it also helps keeping your documents in
        the same format.


<P class="column8">
        All in all, this package was primarily designed to help writing
        text documents for t2html.pls and viewing document in <EM class="word">outline</EM>
        styled selective display. Please refer to mode description for
        full details of the text layout format.


</P>
  <A name="403" id="403"></A>
  <H2>
      TF described briefly
      
  </H2>




        --//-- TF decription start


<P class="column8">
        0123456789 123456789 123456789 123456789 123456789 column numbers


<P class="column8">
        Table of contents


<PRE class="code">
          Do not write any text inside this heading. It will
          be generated by tinytf.el automatically with M-x `titf-toc
          command.
</PRE>


<P class="column8">
        Heading 1 starts from left


<P class="column9"><STRONG>
         emphatised text at column 1,2,3</STRONG>




<PRE class="code">
      This is heading 2 at column 4, started with big letter

          Standard text starts at column 8, you can
          *emphatize* text or make it _strong_ and show
          variable name like =ThisVariableSample=. notice that
          `ThisIsAlsoVariable' and you can even _*nest*_ the markup.
          more txt in this paragraph txt txt txt txt txt txt txt txt
          txt txt txt txt txt txt txt txt txt txt txt txt txt txt txt
          txt txt txt txt txt txt txt txt txt txt txt txt txt txt txt

         strong text is between columns 5, 6, 7
         &quot;Special EMP text in column 7 starts with double quote&quot;

          txt txt txt txt txt txt txt txt txt txt txt txt
          txt txt txt txt txt txt txt txt txt txt txt txt
          txt txt txt txt txt txt txt txt txt txt txt txt

           strong text at columns 9 and 11

            Column 10 has quotation text
            Column 10 has quotation text
            Column 10 has quotation text

              Column 12 is reserved for code examples
              Column 12 is reserved for code examples
              All text here are surrounded by SAMP codes

      Heading 2, at column 4 again

          txt txt txt txt txt txt txt txt txt txt txt txt
          txt txt txt txt txt txt txt txt txt txt txt txt
          txt txt txt txt txt txt txt txt txt txt txt txt

          o   Bullet 1 txt txt txt txt txt txt txt txt
              txt txt txt txt txt txt txt txt

              Notice that previous paragraph ends to P-comma code,
              it tells this paragraph to continue in bullet
              mode, otherwise this column at 12 would be
              intepreted as SAMPLE code.

          o   Bullet 2, text starts at column 12
          o   Bullet 3. Bullets are adviced to keep together
          o   Bullet 4. Bullets are adviced to keep together

          .   This is ordered list nbr 1, text starts at column 12
          .   This is ordered list nbr 2
          .   This is ordered list nbr 3

          .This line uses BR code, notice the DOT-code at beginning
          .This line uses BR code
          .This line uses BR code

         &quot;This is emphatized text starting at column 7&quot;
          .And this text is put after the previous line with BR code
         &quot;This starts as separate line just below previous one, EM&quot;
          .And continues again as usual with BR code

          See the document #URL-HOME/document.txt, where #URL-HOME
          tag is substituted with -base switch contents.

          Make this email address clickable foo\@site.com
          Do not make this email address clickable bar\@site.com,
          because it is only an example and not a real address.
          Noticed the minus(-) prefix at the beginning of url?
</PRE>


<P class="column8">
        Heading level 1 again at column 0


<PRE class="code">
      Subheading, column 4

          And regular text, column 8
          txt txt txt txt txt txt txt txt txt txt txt txt
          txt txt txt txt txt txt txt txt txt txt txt txt
          txt txt txt txt txt txt txt txt txt txt txt txt
</PRE>


<P class="column8">
        --//-- TF decription end


</P>
  <A name="404" id="404"></A>
  <H2>
      Post command note
      
  </H2>




        While you type text in the buffer, the post command activates at
        regular intervals to untabify the buffer. The untabify is done
        because it makes formatting text easier and when you print the text
        file, you can be sure that the output is the same regardless of
        the tabs.


<P class="column8">
        If you have Emacs 19.30+ there is additional help feature available
        to you. When you sit still in some column position for few seconds,
        the column description will be shown automatically. That should
        help you keeping informed of the text layout.


</P>
  <A name="405" id="405"></A>
  <H2>
      How do you write text
      
  </H2>




        This package turns on two minor modes: <SAMP class="word">tit-mode</SAMP>, that handles your
        TAB key movements and <SAMP class="word">titf-mode</SAMP>, the Technical format minor
        mode.


<P class="column8">
        If you're uncertain about how the column will be treated in html
        output, call following function. If you have 19.30+ this is not
        necessary, see note about post command above.


<P class="column10"><EM class="quote10">
          Do you wonder why 'z' prefix is default? Well, I wanted a fast
          key that was mostly unused. You can change that if you prefer
          some other key. See installation.</EM>



<PRE class="code">
      z RET   titf-column-info-display
</PRE>


<P class="column8">
        Normal text you write as usual, but if you want to mark regions
        as &quot;quotations&quot; or &quot;code examples&quot; there is appropriate indent
        commands


<PRE class="code">
      z /     titf-indent-region-text
      z '     titf-indent-region-quote
      z ;     titf-indent-region-sample
      z :     titf-indent-region-strong

      z t     titf-indent-paragraph-text
      z a     titf-indent-paragraph-text-as-is
      z l     titf-indent-paragraph-text-and-fill
      z q     titf-indent-paragraph-quote
      z Q     titf-indent-paragraph-quote-and-fill
      z s     titf-indent-paragraph-sample
      z 0     titf-indent-paragraph-zero
</PRE>


<P class="column8">
        The <SAMP class="word">titf-indent-paragraph-text-as-is</SAMP> is a bit special, because
        it won't fill the text while it moves the paragraph to the text
        position. Instead it adds symbolic &lt;BR&gt; codes to the front of every
        moved line. In html this ensures that the lines will be shown
        exactly as you see them. See also BR mark commands.


<P class="column8">
        There is no functions for bullet creation, because you can write
        them easily by hand. Remember to use some filling mode to fill
        bullet text nicely (filladapt.el). Bullets look like this


<PRE class="code">
      o   This is bullet..
          and cont'd line here
      o   Yet another buller
          and cont'd line here
</PRE>


<P class="column8">
        The <SAMP class="word">tit-mode</SAMP> will advance your tab key by 4 every time, so the
        text in the bullets go to the right column (12). Remeber also to
        keep the <SAMP class="word">tit-return-key-mode</SAMP> on, that allows continuing
        indented lined from the same indent level when you press return.
        See also bullet conversion command, which reformats previous
        text that used dashes(-) to separate bullets.


<PRE class="code">
      z b     titf-bullet-format
</PRE>


</P>
  <A name="406" id="406"></A>
  <H2>
      BR marking commands
      
  </H2>




        In Html; the text would normally wrap according to the borwser's
        page width. But sometimes you may witsh to tell exactly that
        it shouldn't wrap the lines according to browser. For example
        if you want to include a quoted text &quot;as is&quot; from the usenet
        posts to your page, you need o add symbolic BR code to the beginning
        of each line. Like including the following quotation


<PRE class="code">
      >Jim has a good point here...
      >I would have expected that the symstem depends on..
      &gt;Yeah; but you hadn't looked at the /usr/adm/today.log
      &gt;
</PRE>


<P class="column8">
        In order to add this to your page &quot;as is&quot;; you can do this:
        indent it as &quot;Sample&quot; and it will automatically show like that.
        But normally you want it to show as quoted text where you refer.
        Then you do:


<PRE class="code">
      z Q         titf-indent-paragraph-quote
      z m b       titf-mark-br-paragraph
</PRE>


<P class="column8">
        Which will prepend dot-code(.) to the front of every line.
        You can also add the <EM class="word">dot-code</EM> by yourself or use following
        command


<PRE class="code">
      z m B       titf-mark-br-line
</PRE>


</P>
  <A name="407" id="407"></A>
  <H2>
      Heading writing and handling
      
  </H2>




        You can only use 2 heading levels, which normally suffices.  Sorry,
        there is no support for more deeper headings. You start headings
        with big letters or number at column 0 or 4. Here is some
        specialized commands for headings.


<P class="column8">
        This one converts first character of each heading to
        uppercase. This fixes mistakenly left lowercase letters.


<PRE class="code">
      z f h     titf-heading-fix

      before command:
      heading
          heading

      after command:
      Heading
          Heading
</PRE>


<P class="column8">
        You can (re)number heading easily with following command. If
        there is no number in the line, one is added to the beginning of
        heading.  And if you have added new heading somewhere in the
        middle of text, just call this function and it renumbers all
        headings again.  Running commadn with <EM class="word">prefix</EM> <EM class="word">arg</EM> removes
        numbering.


<PRE class="code">
      z f 0     titf-heading-numbering

      before command:
      heading
          heading
      heading
          heading

      after command:
      1.0 heading
          1.1 heading
      2.0 heading
          2.1 heading
</PRE>


<P class="column8">
        One note about renumbering. Some people write heading number so
        that they are closed with parenthesis. This style is not
        recommended with technical format style and when you do renumber,
        those parenthesis will be removed. The parenthesis style is not
        supported because it is visually more clearer if you just write
        plain numbers without extra parenthesis.


<PRE class="code">
      before command:
      1.0) heading
          1.1) heading

      after command:
      1.0 heading
          1.1 heading

</PRE>


</P>
  <A name="408" id="408"></A>
  <H2>
      Heading fixing
      
  </H2>





<PRE class="code">
      z f a   `titf-fix-all'
              Do lot's of things. Trim away trailing blanks
              from buffer. Untabify buffer.
              Renumber headings if needed. Delete extra whitespace
              around headings.

      z f c   `titf-heading-fix-case'
              convert current heading to lowercase

      z f C   `titf-heading-fix-case-all'
              convert all heading to lowercase
</PRE>


</P>
  <A name="409" id="409"></A>
  <H2>
      About table of contents
      
  </H2>




        When you write text, you don't write the table of contents, but
        the headings. Be sure to add heading &quot;Table of contents&quot; somewhere
        in the document. To generate table of contentns use commands:


<PRE class="code">
      z T             titf-toc, Try with C-u argument too
      z mouse-1       titf-toc-mouse
</PRE>


</P>
  <A name="410" id="410"></A>
  <H2>
      Selective display
      
  </H2>




        The hiding and showing of the headings and their text is done by
        using the outline/folding style display. There is no magic in this;
        but there is two interesting commands that you can use in any
        selective display buffer.


<PRE class="code">
      z P     Prints selctive display (what you actually see)
      z C     Copy selective display
</PRE>


</P>
  <A name="411" id="411"></A>
  <H2>
      Word about key definitions when mode is turned on
      
  </H2>




        When the minor mode is active it overrides some commonly used
        keybindings and moves their original function under Control key.
        For example:


<PRE class="code">
      original PgUp    --&gt; Now Control-PgUp
      original PgDown  --&gt; Now Control-PgDown

      PgUp             --&gt; Moving heading backward
      DownUp           --&gt; Moving heading forward
</PRE>


<P class="column8">
        If you are using X envinronment or your emacs recognizes mouse,
        then there is one handy binding that opens or closes heading
        levels when you click over them.


<PRE class="code">
      [mouse-3]       titf-mouse-context-sensitive
</PRE>


<P class="column8">
        If you press this mouse button anywhere else than over the
        headings, it'll call original binding. This feature is similar as
        what is used in folding.el


</P>
  <A name="412" id="412"></A>
  <H2>
      Code note: about the outline layout
      
  </H2>




        Speed was my primary goal when I added the outline code. But that
        came with a price: I would have liked that the Heading 0 were
        separated by at least one empty space so that the buffer would
        look visually better.


<PRE class="code">
      heading1-1
          heading1-1
          heading1-2
                                  < empty space here
      heading2-1
          heading2-1
          heading2-2
</PRE>


<P class="column8">
        But that would have required adding some extra code to do bound
        checking every time the block is collapsed/opened. Currently I'm
        not going to add that checking because it would reduce speed and
        the check would cause unnecessary complexity to current code
        flow.


<P class="column8">
        If I have time, I may take a look at that more. For now, please
        try to bear the spartan look of the outlined headings.


<P class="column8">
        Please do send me a patch that would correct the &quot;spartan&quot; look,
        if you decide to hack my code. Also check that the performance
        isn't decreased much with elp.el. [Yes, the performance matters
        very much: I hide/unhide text files that are 200K and written
        in TF format.]


</P>
  <A name="413" id="413"></A>
  <H2>
      Code note: prefix key 'z'
      
  </H2>




        The prefix key definition is on <SAMP class="word">titf-:mode-prefix-key</SAMP> That is
        currently &quot;z&quot; by default. At least it is seldom types &quot;zz&quot; inserts
        plain &quot;z&quot;. I wanted to choose fast key and avoind wrist pain
        as much as possible. When you write TF text, you use this mode a lot
        and accessing commands should be easy too.


</P>
           </BLOCKQUOTE>
           <HR>
               <A name="414"  id="414"></A>
               <H1>
               Tinyurl.el &ndash; Marks and jump to urls on current line
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="415" id="415"></A>
  <H2>
      Preface, oct 1997
      
  </H2>




        Hm. one day a collegue of mine had a problem with his VM and he
        explained to me that he wanted the <SAMP class="word">mouse-2</SAMP> to run netscape
        browser instead of the default Emacs <SAMP class="word">w3</SAMP> browser. While he was
        waving his cursor over the http link, I suddendly realized: that
        I wanted that in my RMAIL buffers too. (I later moved straight to
        GNUS). It seemed that every package had it's own url handling: VM, TM,
        GNUS, MH?


<P class="column8">
        But really, how about the rest of the buffers and modes? There was
        no general ULR dispatcher minor mode that would work with any buffer
        and with any mode.


<P class="column8">
        Now there is; I can browse any buffer or document and jump to URLs
        on the line. Works for programing modes too. You just position
        the cursor somewhere on the line, wait 2 secs  and the URLs are marked
        ready for launching.


</P>
  <A name="416" id="416"></A>
  <H2>
      Overview of features
      
  </H2>




<P><UL>
	<LI>General URL handler: not just the regular http, ftp, but
            also for programming languages like Perl/Lisp/C++ and
	            man page cut(1) references and more...
</UL>



<P><UL>
	<LI>Requirements: In XEmacs, you must have <SAMP class="word">overlay.el</SAMP> package.
	            Emacs needs nothing special.
</UL>



<P><UL>
	<LI>When this global minor mode is on, wait few seconds and the
            current line will be scanned for urls. Because not all
            terminals show clolor, there is additional &quot;!&quot; character added to
            the front of URL for calling you to <EM class="word">push</EM> it.
	<LI>Once the minor mode is turned on, it occupies every buffer,
            but there is also function to turn the mode on or off per buffer
            basis, see <SAMP class="word">tiurl-mode-1</SAMP>. When new file is loaded,
            <SAMP class="word">tiurl-mode</SAMP> is activated for the buffer too.
	<LI>Defines binding <SAMP class="word">mouse-2</SAMP> and <SAMP class="word">M-RET</SAMP> to call the url at
            point. These bindings are electric: If there is no button to push,
            the original binding is called according to underlying mode.
	<LI>You can change the url handler sets on the fly: eg.
            call lynx for a while, then switch to Netscape or use your custom
            browser. See <SAMP class="word">M-x</SAMP> <SAMP class="word">tiurl-set-handler</SAMP>
	<LI>Centralised url handling. If you call <SAMP class="word">tiurl-install-to-packages</SAMP>
            then GNUS, TM, VM etc. now call TinyUrl and you only need to
	            configure things in one place.
</UL>




</P>
  <A name="417" id="417"></A>
  <H2>
      Technical note
      
  </H2>




        The URL is highlighted by setting <SAMP class="word">mouse-face</SAMP> to 'highligh. But
        at least my Emacs 19.34 in Unix X window sometimes won't show the
        highlight when I move mouse cursor over the url. Go figure why.
        I have heard similar reports from XEmacs 20.4.


<P class="column8">
        If you know what is causing this effect, let me know.


</P>
  <A name="418" id="418"></A>
  <H2>
      Turning the URL recognizer on
      
  </H2>




        After you loaded the package with <SAMP class="word">require</SAMP> or via autoload,
        calling <SAMP class="word">M-x</SAMP> <SAMP class="word">tiurl-mode</SAMP> will toggle the global minor mode on and
        off. The modeline indication shows brief <SAMP class="word">Ux</SAMP> when the mode is
        active. (x) is the shortname for browser that will activate, eg. &quot;n&quot;
        for &quot;netscape&quot; browser set, (l) for lynx and (w) w3.


<P class="column8">
        If you want to turn the mode on or off for current buffer, use
        function <SAMP class="word">tiurl-mode-1</SAMP>. If you visit new files, the <SAMP class="word">tiurl-mode</SAMP>
        is enabled. if you make new buffers, the <SAMP class="word">tiurl-mode</SAMP> is not
        enabled.


</P>
  <A name="419" id="419"></A>
  <H2>
      Editing the url and selecting access method manually
      
  </H2>




        You can pass a prefix argument like <SAMP class="word">C-u</SAMP> before you press
        <SAMP class="word">mouse-2</SAMP> or <SAMP class="word">M-RET</SAMP> and edit two parameters: a) The URL location
        itself and b) the access method. Say eg. that your default command
        table is netscape and you see url


<PRE class="code">
      file:/users/foo/file.txt
</PRE>


<P class="column8">
        The `<A HREF="file:/'" target="_top">file:/'</A> would be normally considered external and accessed via
        <SAMP class="word">url</SAMP> method, which in this case is netscape. But you would like
        to use Emacs <SAMP class="word">find-file</SAMP> instead. Send <SAMP class="word">C-u</SAMP> and leave the url as
        is and change access method to:


<PRE class="code">
      file
</PRE>


<P class="column8">
        That's it. Remember however that you have full control and
        if you choose nonsense access method, which has nothing to do with
        the url, then you also carry the results, whatever they may be.


</P>
  <A name="420" id="420"></A>
  <H2>
      Ignoring URL in the buffer
      
  </H2>




        You can use hook <SAMP class="word">tiurl-:dispatch-hook</SAMP> to check URL. If any of the
        functions return t, then the original binding in the mode is called
        and the TinyUrl is not used.


<P class="column8">
        Eg. In Dired buffer you want to ignore all URLs. There is default
        function <SAMP class="word">tiurl-dispatch-ignore-p</SAMP> that does just this.


</P>
  <A name="421" id="421"></A>
  <H2>
      Centralised URL handling
      
  </H2>




        If you called <SAMP class="word">M-x</SAMP> <SAMP class="word">tiurl-install-to-packages</SAMP> or had installation:


<PRE class="code">
      (add-hook 'tiurl-:load-hook  'tiurl-install-to-packages)
</PRE>


<P class="column8">
        then GNUS, VM, TM, and other packages redirect urls to TinyUrl.
        This way you don't have to setup each package to your taste.
        Plus you got the benefit that you can change url handler set
        on the fly with <SAMP class="word">tiurl-set-handler</SAMP>.


</P>
  <A name="422" id="422"></A>
  <H2>
      Ignoring some buffers for mode turn on and offs
      
  </H2>




        If you want to exclude some buffers from the mode turn on or offs,
        say <EM class="word">VM</EM> which does its own highlighting, then define your
        custom function like this


<PRE class="code">
      (setq tiurl-:exclude-function 'my-tiurl-exclude)

      (defun my-tiurl-exclude (buffer)
         &quot;Exclude some buffers that use their own highlighting.&quot;
         (string-match &quot;VM\\|Article&quot; (buffer-name buffer)))
</PRE>


<P class="column8">
        This only concern the golobal <SAMP class="word">tiurl-mode</SAMP> function. You can
        still use <SAMP class="word">tiurl-mode-1</SAMP> anywhere to toggle the mode setting.
        You use this variable when you don't want <SAMP class="word">tiurl-mode</SAMP> to
        appear in buffer at all.


</P>
  <A name="423" id="423"></A>
  <H2>
      Cacheing URLs for later use (offline reading)
      
  </H2>




        If you're not connected to the Net, then it doesn't make sense
        to call browser directly, but instead cache the pushed urls
        to separate buffer. When you're online again, you can go to the
        cache buffer and relaunch pointers.


<P class="column8">
        The offline reading is possible with Gnus, where you can toggle
        between &quot;plugged&quot; and &quot;unplugged&quot; Gnus. The default unpluggged
        condition detector is <SAMP class="word">tiurl-unplugged-p</SAMP>. It returns nil if you're
        running Gnus and it's in unplugged state.


<P class="column8">
        You can place your own unlpugged state detector to variable
        <SAMP class="word">tiurl-:unplugged-function</SAMP>. Cache buffer used is
        <SAMP class="word">tiurl-:url-cache-buffer</SAMP>, which is <EM class="word">URL-cache</EM> by default.


</P>
  <A name="424" id="424"></A>
  <H2>
      Validating url
      
  </H2>




        The <SAMP class="word">tiurl-mark-line</SAMP> function doesn't check the validity of a
        matched regexp that was marked as pushable url. It's a dummy
        function that can only attach &quot;buttons&quot; and does nothing about
        their contents. But when you actually push the url, the url is run
        through functions in <SAMP class="word">tiurl-:validate-hook</SAMP>. When any of the
        function returns t, it is a <EM class="word">go</EM> sign. The default handler
        <SAMP class="word">tiurl-validate-url</SAMP> rejects any url that match &quot;foo|bar|quux&quot;.


<P class="column8">
        See also <SAMP class="word">tiurl-:reject-url-regexp</SAMP> for more simpler use.


</P>
  <A name="425" id="425"></A>
  <H2>
      Choosing what agent handles which URL
      
  </H2>




        There is predefined <SAMP class="word">tiurl-:command-table</SAMP> which is consulted where
        URL request should be delegated. By default <A HREF="http://" target="_top">http://</A> or ftp:/ or file:/
        requests are handed by <SAMP class="word">browse-url-netscape</SAMP> and remote tar or gz
        fileas are loaded with ange-ftp.


<P class="column8">
        You can completely customize the URL delegation by writing your
        own url handler set and placing it to <SAMP class="word">tiurl-:url-handler-function</SAMP>.


</P>
  <A name="426" id="426"></A>
  <H2>
      Changing the url handler list
      
  </H2>




        When you click the url to run the viewer, the current url handler
        list determines what method is used. Eg. If you normally want
        netscape to handle your URL, then the current set is labelled
        &quot;netscape&quot;. But in some situations, where you want to eg. view text
        files or your resources in PC EXceed are low, or you want fast browser;
        then there is also &quot;lynx&quot; set. You change the browser set with command


<PRE class="code">
      tiurl-set-handler   Meta mouse-2
</PRE>


<P class="column8">
        The modeline will show the first string from your active set; <SAMP class="word">Un</SAMP>
        for Netscape, <SAMP class="word">Ul</SAMP> for lynx set and <SAMP class="word">Uw</SAMP> for w3 based set. You can
        add as many handler sets as you want by adding them to
        <SAMP class="word">tiurl-:command-table</SAMP>


</P>
  <A name="427" id="427"></A>
  <H2>
      Exclamation character marks pushable URL
      
  </H2>




        When you see character &quot;!&quot; (netscape) or &quot;?&quot; (captain hook, W3
        browser) to appear in the front of the URLs, then you know that
        items are pushable. You can call the URL by clicking it with
        <SAMP class="word">mouse-2</SAMP> or tapping <SAMP class="word">M-RET</SAMP>. In the following line, two url's have
        been detected. The first one sends normal http request and the
        second one would create mail buffer for the address.


<PRE class="code">
      Some previous line here
      !http://foo.cm/dir/file.txt  !foo@bar.com
      Another line below
</PRE>


<P class="column8">
        Elswhere your <SAMP class="word">mouse-2</SAMP> and <SAMP class="word">M-RET</SAMP> behave as usual. If you would
        like to paste(the mouse-2) somewhere in the &quot;previous&quot; or &quot;another&quot;
        line, that would work as you expected. But you can't paste inside
        the URL, because the URL is currently activated. If you need to do
        something like that, then you can use either of these strategies:

<P><UL>
	<LI>Use <SAMP class="word">C-y</SAMP> to yamk the text inside marked url.
	<LI>move cursor out of the URL line; wait few seconds for
            &quot;!&quot; to disappear (the line is cleared). Go back and paste before
            you see &quot;!&quot; to appear back again.
	<LI>Turn off the mode off with <SAMP class="word">M-x</SAMP> <SAMP class="word">tiurl-mode-1</SAMP> for a while if
	            you don't need the URL features right now.
</UL>




<P class="column10"><EM class="quote10">
          <STRONG class="word">Note</STRONG>: The character &quot;!&quot; that you see, is not a real editable
          character, but part of the overlay. While your text may appear to
          be modified. That is not what happened. See Emacs info pages for
          more about overlays.</EM>



<P class="column8">
        You can use variable <SAMP class="word">tiurl-:display-glyph</SAMP> to control if the
        glyph is shown or not.


</P>
  <A name="428" id="428"></A>
  <H2>
      Face that controls the highlighting the URL
      
  </H2>




        The properties of the URL overlay is defined in variable
        <SAMP class="word">tiurl-:overlay-plist</SAMP> and there may be some things that you
        can customise. Suppose you're a keyboard user and you don't
        use mouse a lot, therefore the used face property <SAMP class="word">mouse-face</SAMP>
        is not the best for you. You want that the url is marked visually
        right away. To do the cahange, copy <SAMP class="word">tiurl-:overlay-plist</SAMP> to
        your .emacs, before the the load or TinyUrl and have it read:


<PRE class="code">
      (defvar tiurl-:overlay-plist
       '(rear-nonsticky   t
         rear-sticky      nil
         priority         1
         face             highlight        ;; was: mouse-face
         before-string    &quot;!&quot;
         url              t
         owner            tiurl
         ))
</PRE>


</P>
  <A name="429" id="429"></A>
  <H2>
      Accepted email URL
      
  </H2>




        The default accepted format is foo@site.com and if you see
        foo@site.com, that will not be recognized. Your can get this
        accepted by changing <SAMP class="word">tiurl-:email-regexp</SAMP>. You could use \\&lt; and
        \\&gt; (word border marker) regexps instead of default characters &lt; &gt;.


</P>
  <A name="430" id="430"></A>
  <H2>
      Support for programming language URLs
      
  </H2>




        I'll gladly support any other languages. If you know the language
        you're using, drop me a mail and help me to undertand how I would
        add support to it. Especially I'd like to hear specs from Java
        programmers.


<P class="column7"><EM><STRONG>
       C/C++</STRONG></EM>



<P class="column8">
        The default agent to find C/C++ .h files is find-file.el's
        <SAMP class="word">ff-find-other-file</SAMP>. This will handle your #include urls.


<P class="column7"><EM><STRONG>
       Perl</STRONG></EM>



<P class="column8">
        There is support for finding the perl &quot;use package;&quot; and &quot;require
        package.pl;&quot; urls via <SAMP class="word">tiurl-find-url-perl</SAMP>. The default find path for
        perl is <SAMP class="word">@INCPATH</SAMP>. Perl related urls are delegated to TinyPerl
        package. in addition perl compile error lines are recognized:
        &quot;ERROR at FILE line NBR&quot;.


<P class="column8">
        Perl pod page references in the format &quot;perlfunc manpage&quot;
        &quot;See [perltoc]&quot; are recognized and they take you to the pod page.


<P class="column7"><EM><STRONG>
       Emacs lisp</STRONG></EM>



<P class="column8">
        The url handler function is <SAMP class="word">tiurl-find-url-lisp</SAMP> and Emacs <SAMP class="word">load-path</SAMP>
        is searched. The usual urls &quot;load-file&quot;, &quot;load-library&quot; &quot;autoload&quot;
        &quot;load&quot; are recognized. If you need to jump to function or variable
        definitions, you want to use a TinyLisp package, which offers
        minor mode solely for Emacs lisp programming purposes: Profiling,
        debugging, snooping hooks, you emacs packages, browsing code etc.


<P class="column7"><EM><STRONG>
       Other languages</STRONG></EM>



<P class="column8">
        Please let me know if you know package or you have code that can
        find other Language's URLs.


<P class="column7"><EM><STRONG>
       Memory list</STRONG></EM>


<P><UL>
	<LI>Remember to define <SAMP class="word">ff-search-directories</SAMP> for <EM class="word">find-file.el</EM>
	            so that your C/C++ #include &lt;url&gt; will be found correctly.
</UL>




</P>
  <A name="431" id="431"></A>
  <H2>
      Filename filter eg. running catdoc for MS Word files
      
  </H2>




        There is table <SAMP class="word">tiurl-:file-filter-table</SAMP> which can be used to
        handle found url. Eg if you want to treat all files ending
        to extension .doc as MS word files and feed them through
        <SAMP class="word">catdoc</SAMP> <A HREF="http://www.ice.ru/~vitus/works/" target="_top">http://www.ice.ru/~vitus/works/</A> which spits 7bit
        out, you can associate shell action to handle url. Respectively
        if you want to use <SAMP class="word">xv</SAMP> for viewing your images, you can associate
        that to the url. The default table handles these cases if you
        have xv and catdoc present. See variable description for more
        information. (You can also use your custom lisp url handler there)


<P class="column10"><EM class="quote10">
          If you want to load the raw file into emacs, just supply
          prefix argument when you push url and you will be given choice
          to by-pass the set filters (if there is any) for the url.</EM>



</P>
  <A name="432" id="432"></A>
  <H2>
      Code note: adding buttons to the current line
      
  </H2>




        The idle timer process is used to mark current line's urls with
        overlays. Please wait few seconds on a line and the ulrs that
        can be <EM class="word">pushed</EM> are marked. If there is no idle timer available,
        then a <SAMP class="word">post-command-hook</SAMP> is used.


<P class="column9"><STRONG>
         <SPAN class="word-ref">[Emacs with no <SAMP class="word">run-with-idle-timer</SAMP> function]</SPAN></STRONG>



<P class="column8">
        Using <SAMP class="word">post-command-hook</SAMP> is not an ideal solution, but at least
        this package works with older Emacs versions. The threshold how
        quicly the line is scanned for url buttons is determined by
        variable <SAMP class="word">tiurl-:post-command-hook-threshold</SAMP>. The deafult value
        7 should give you enough time to use <SAMP class="word">mouse-2</SAMP> (paste) before the
        line is buttonized. Remember that <EM class="word">vawing</EM> you mouse creates
        events, so you can force buttonizing the line quite quickly.


</P>
  <A name="433" id="433"></A>
  <H2>
      Code note: overlay properties
      
  </H2>




        The overlays have nice feature where you can add string to be
        displayed to the side of an overlay. See the overlay properties in
        the Emacs info pages for more. The overlay <SAMP class="word">priority</SAMP> in this
        package is by default set to highest possible, so that the URL
        highighting is guarranteed to be dislayed. If you use some other
        package that also uses overlays, then decrease that package's
        overlay priorities. (If the package doesn't allow you to adjust the
        priorities, contact the package maintainer. To my opinion the
        priority value should be defined for all overlays).


<P class="column8">
        The only part that you should touch in the property list of the
        overlays, is the displayed string. You can choose anything you
        want, but prefer one character. By default the &quot;!&quot; is shown in
        both Windowed and non-windowed version.


<P class="column8">
        The overlays also have property <SAMP class="word">owner</SAMP> which tells where the
        particular overlay belongs. In this case the owner is this package,
        <SAMP class="word">tiurl</SAMP>. IMO, all overlays should identify themselves via
        this 'owner property.


</P>
  <A name="434" id="434"></A>
  <H2>
      Code Note: overlay management
      
  </H2>





<P class="column9"><STRONG>
         Let's consider what <SAMP class="word">font-lock</SAMP> does for buffer for a moment: it
         mrks whole buffer with faces (colors). I didn't want to bloat the
         buffer with full of clickable overlays, while I could have done
         that. Instead old overlays are removed and new ones are created
         only for current line, typically the count is between 1 .. 4. When
         you move to another place, these old overlays are destroyed and
         new ones created. The current line may now may have only 1 URL, so
         only one overlay was needed this time.</STRONG>



<P class="column9"><STRONG>
         For that reason you must wait for idle timer process to do its
         work on current line, before you can see those clickable URL
         buttons.</STRONG>



<P class="column9"><STRONG>
         Using only small number of overlays keeps the code clean and user
         friendly. It's also faster than buttonizing whole 500K faq
         document in one pass.</STRONG>



</P>
  <A name="435" id="435"></A>
  <H2>
      Code Note: Adding support for new URL type
      
  </H2>




        If you see new url that you would like to have supported and you
        know lisp, then the changes needed are:

<P><UL>
	<LI><SAMP class="word">tiurl-mark-line</SAMP>, Add regexp to match the URL. Think carefully
            Where to put the regexp and make is as restrictive as you can.
            Remember that first OR match is picked.
	<LI><SAMP class="word">tiurl-type</SAMP>, Add new type for URL
	<LI><SAMP class="word">tiurl-command-table-default-1</SAMP> Add default handler
	<LI>Write the URL handler.
	<LI>Run <SAMP class="word">tiurl-command-table-defaults-set</SAMP> to make the new handler
	            seen in the default agent function list
</UL>




<P class="column8">
        To make changes do this:

<P><UL>
	<LI>copy original version to <SAMP class="word">tinyurl.el.orig</SAMP>
	<LI>Make changes
	<LI>Produce diff `diff -u  tinyurl.el.orig tinyurl.el'
</UL>




<P class="column8">
        Then send diff to the maintainer. Use unified diff format (-u)
        if possible. Second chance is to use context diff (-c). I won't
        accept diffs send in <SAMP class="word">old</SAMP> format: diff tinyurl.el.orig tinyurl.el


</P>
  <A name="436" id="436"></A>
  <H2>
      Sending a bug report
      
  </H2>




        If you have a line where url is highlighted, but it doesn't cover
        right characters, then do this:

<P><UL>
	<LI><SAMP class="word">M-x</SAMP> <SAMP class="word">tiurl-submit-bug-report</SAMP>
	<LI>Copy the <STRONG class="word">WHOLE</STRONG> line to the mail buffer.
	<LI>Turn on debug with <SAMP class="word">M-x</SAMP> <SAMP class="word">tiurl-debug-toggle</SAMP>
	<LI>Be sure Url gets highlighted. End debug with
            <SAMP class="word">M-x</SAMP> <SAMP class="word">tiurl-debug-toggle</SAMP> and copy the content of
            <EM class="word">tiurl-debug</EM> to the mail
	<LI>Attach desctiption of the bug and send mail.
</UL>




<P class="column8">
        Btw, in win32 the file url on <SAMP class="word">C:</SAMP> disk is written like


<PRE class="code">
      file:///C|/foo/bar/baz.html#here


</PRE>

</P>
           </BLOCKQUOTE>
           <HR>
               <A name="437"  id="437"></A>
               <H1>
               Tinyxreg.el &ndash; Restoring points/win cfg stroed in reg. via X-popup
               
               </H1>
           <BLOCKQUOTE>


</P>
  <A name="438" id="438"></A>
  <H2>
      Preface, oct 1995
      
  </H2>




        I saw post in comp.emacs by  <EM><A HREF="mailto:cpg@cs.utexas.edu" >cpg@cs.utexas.edu</A></EM> Carlos Puchol


<PRE class="code">
      I find that my life would be remarkably eased if only I
      could &quot;jump&quot; to the marks from a menu.

      Please, let me know if i can implement this myself
      through some sort of macro or something.
</PRE>


<P class="column8">
        As a hobby I started quicly sketching what the person should
        do.. I dind't plan to write any code. It just happened that I
        got interested in the subject and started experimenting with
        couple of functions.


<P class="column8">
        As a result I had complete package in hand within an hour or
        so, which I also posted to the group. Later on I properly
        packaged all the functions here and rewote whole thing.


</P>
  <A name="439" id="439"></A>
  <H2>
      Overview of features
      
  </H2>




<P><UL>
	<LI>Stores point/win cfg to X-POPUP LIST while storing it to register
	<LI>Use X-popup to pick register associated with the file.
</UL>




</P>
  <A name="440" id="440"></A>
  <H2>
      Register update note
      
  </H2>




        If you wonder why some of the registers disappear from the popup
        while you were sure you just stored some point to them, the reason is
        here.


<P class="column8">
        If you kill some buffer, or reload it again with
        find-alternate-file that means that the register reference &quot;dies&quot;.
        That's why the main function tixr-jump-to-register calls a house
        keeping function tixr-update to make sure you can't select invalid
        registers. So, trust the poup: it tells what registes are
        available.






<!--    ......................................................................
    DOCUMENT END BLOCK
    ......................................................................
-->

</BLOCKQUOTE>
<HR>
<EM    class="footer">
<P>
Copyright (c) 2002 by Jari Aalto. This material may be
distributed only subject to the terms and conditions set forth
in the Open Publication License, v1.0 or later (the latest
version is presently available at
http://www.opencontent.org/). Distribution of the work
or derivative of the work for commercial purposes in any
form is prohibited unless prior permission is obtained from
the copyright holder. (VI.B LICENSE OPTIONS)
</P>
<P>
This file has been automatically generated from plain text file
with Perl script <STRONG>t2html.pl 2002.0805</STRONG><BR>
Document author: Jari Aalto<BR>
Contact: &lt;<A HREF="mailto:jari.aalto@poboxes.com">jari.aalto@poboxes.com</A>&gt;<BR>
Html date: 2002-08-05 04:24<BR>
</EM    class="footer">
</BODY>
</HTML>
